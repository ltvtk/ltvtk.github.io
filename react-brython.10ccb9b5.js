function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}var t,n,o,r,i=globalThis;function s(e){Object.defineProperty(e,"__esModule",{value:!0,configurable:!0})}function l(e){return e&&e.__esModule?e.default:e}var a={},u={},c=i.parcelRequirec058;null==c&&((c=function(e){if(e in a)return a[e].exports;if(e in u){var t=u[e];delete u[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){u[e]=t},i.parcelRequirec058=c);var d=c.register;d("59OBb",function(t,n){e(t.exports,"Fragment",()=>o,e=>o=e),e(t.exports,"jsx",()=>r,e=>r=e),e(t.exports,"jsxs",()=>i,e=>i=e);var o,r,i,s=Symbol.for("react.transitional.element");function l(e,t,n){var o=null;if(void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),"key"in t)for(var r in n={},t)"key"!==r&&(n[r]=t[r]);else n=t;return{$$typeof:s,type:e,key:o,ref:void 0!==(t=n.ref)?t:null,props:n}}o=Symbol.for("react.fragment"),r=l,i=l}),d("fYo6y",function(e,t){e.exports=c("lanIS")}),d("lanIS",function(t,n){e(t.exports,"Children",()=>o,e=>o=e),e(t.exports,"Component",()=>r,e=>r=e),e(t.exports,"Fragment",()=>i,e=>i=e),e(t.exports,"Profiler",()=>s,e=>s=e),e(t.exports,"PureComponent",()=>l,e=>l=e),e(t.exports,"StrictMode",()=>a,e=>a=e),e(t.exports,"Suspense",()=>u,e=>u=e),e(t.exports,"__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE",()=>c,e=>c=e),e(t.exports,"__COMPILER_RUNTIME",()=>d,e=>d=e),e(t.exports,"cache",()=>h,e=>h=e),e(t.exports,"cloneElement",()=>p,e=>p=e),e(t.exports,"createContext",()=>f,e=>f=e),e(t.exports,"createElement",()=>g,e=>g=e),e(t.exports,"createRef",()=>m,e=>m=e),e(t.exports,"forwardRef",()=>_,e=>_=e),e(t.exports,"isValidElement",()=>b,e=>b=e),e(t.exports,"lazy",()=>y,e=>y=e),e(t.exports,"memo",()=>T,e=>T=e),e(t.exports,"startTransition",()=>E,e=>E=e),e(t.exports,"unstable_useCacheRefresh",()=>v,e=>v=e),e(t.exports,"use",()=>C,e=>C=e),e(t.exports,"useActionState",()=>I,e=>I=e),e(t.exports,"useCallback",()=>S,e=>S=e),e(t.exports,"useContext",()=>w,e=>w=e),e(t.exports,"useDebugValue",()=>k,e=>k=e),e(t.exports,"useDeferredValue",()=>O,e=>O=e),e(t.exports,"useEffect",()=>R,e=>R=e),e(t.exports,"useId",()=>x,e=>x=e),e(t.exports,"useImperativeHandle",()=>$,e=>$=e),e(t.exports,"useInsertionEffect",()=>A,e=>A=e),e(t.exports,"useLayoutEffect",()=>N,e=>N=e),e(t.exports,"useMemo",()=>M,e=>M=e),e(t.exports,"useOptimistic",()=>L,e=>L=e),e(t.exports,"useReducer",()=>D,e=>D=e),e(t.exports,"useRef",()=>P,e=>P=e),e(t.exports,"useState",()=>B,e=>B=e),e(t.exports,"useSyncExternalStore",()=>F,e=>F=e),e(t.exports,"useTransition",()=>U,e=>U=e),e(t.exports,"version",()=>H,e=>H=e);var o,r,i,s,l,a,u,c,d,h,p,f,g,m,_,b,y,T,E,v,C,I,S,w,k,O,R,x,$,A,N,M,L,D,P,B,F,U,H,V=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),Z=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Q=Symbol.iterator,ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,en={};function eo(e,t,n){this.props=e,this.context=t,this.refs=en,this.updater=n||ee}function er(){}function ei(e,t,n){this.props=e,this.context=t,this.refs=en,this.updater=n||ee}eo.prototype.isReactComponent={},eo.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},eo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},er.prototype=eo.prototype;var es=ei.prototype=new er;es.constructor=ei,et(es,eo.prototype),es.isPureReactComponent=!0;var el=Array.isArray,ea={H:null,A:null,T:null,S:null,V:null},eu=Object.prototype.hasOwnProperty;function ec(e,t,n,o,r,i){return{$$typeof:V,type:e,key:t,ref:void 0!==(n=i.ref)?n:null,props:i}}function ed(e){return"object"==typeof e&&null!==e&&e.$$typeof===V}var eh=/\/+/g;function ep(e,t){var n,o;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,o={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return o[e]})):t.toString(36)}function ef(){}function eg(e,t,n){if(null==e)return e;var o=[],r=0;return!function e(t,n,o,r,i){var s,l,a,u=typeof t;("undefined"===u||"boolean"===u)&&(t=null);var c=!1;if(null===t)c=!0;else switch(u){case"bigint":case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case V:case G:c=!0;break;case q:return e((c=t._init)(t._payload),n,o,r,i)}}if(c)return i=i(t),c=""===r?"."+ep(t,0):r,el(i)?(o="",null!=c&&(o=c.replace(eh,"$&/")+"/"),e(i,n,o,"",function(e){return e})):null!=i&&(ed(i)&&(s=i,l=o+(null==i.key||t&&t.key===i.key?"":(""+i.key).replace(eh,"$&/")+"/")+c,i=ec(s.type,l,void 0,void 0,void 0,s.props)),n.push(i)),1;c=0;var d=""===r?".":r+":";if(el(t))for(var h=0;h<t.length;h++)u=d+ep(r=t[h],h),c+=e(r,n,o,u,i);else if("function"==typeof(h=null===(a=t)||"object"!=typeof a?null:"function"==typeof(a=Q&&a[Q]||a["@@iterator"])?a:null))for(t=h.call(t),h=0;!(r=t.next()).done;)u=d+ep(r=r.value,h++),c+=e(r,n,o,u,i);else if("object"===u){if("function"==typeof t.then)return e(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(ef,ef):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(t),n,o,r,i);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}return c}(e,o,"","",function(e){return t.call(n,e,r++)}),o}function em(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var e_="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}console.error(e)};function eb(){}o={map:eg,forEach:function(e,t,n){eg(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return eg(e,function(){t++}),t},toArray:function(e){return eg(e,function(e){return e})||[]},only:function(e){if(!ed(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},r=eo,i=j,s=z,l=ei,a=W,u=J,c=ea,d={__proto__:null,c:function(e){return ea.H.useMemoCache(e)}},h=function(e){return function(){return e.apply(null,arguments)}},p=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var o=et({},e.props),r=e.key,i=void 0;if(null!=t)for(s in void 0!==t.ref&&(i=void 0),void 0!==t.key&&(r=""+t.key),t)eu.call(t,s)&&"key"!==s&&"__self"!==s&&"__source"!==s&&("ref"!==s||void 0!==t.ref)&&(o[s]=t[s]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var l=Array(s),a=0;a<s;a++)l[a]=arguments[a+2];o.children=l}return ec(e.type,r,void 0,void 0,i,o)},f=function(e){return(e={$$typeof:Y,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:X,_context:e},e},g=function(e,t,n){var o,r={},i=null;if(null!=t)for(o in void 0!==t.key&&(i=""+t.key),t)eu.call(t,o)&&"key"!==o&&"__self"!==o&&"__source"!==o&&(r[o]=t[o]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var l=Array(s),a=0;a<s;a++)l[a]=arguments[a+2];r.children=l}if(e&&e.defaultProps)for(o in s=e.defaultProps)void 0===r[o]&&(r[o]=s[o]);return ec(e,i,void 0,void 0,null,r)},m=function(){return{current:null}},_=function(e){return{$$typeof:K,render:e}},b=ed,y=function(e){return{$$typeof:q,_payload:{_status:-1,_result:e},_init:em}},T=function(e,t){return{$$typeof:Z,type:e,compare:void 0===t?null:t}},E=function(e){var t=ea.T,n={};ea.T=n;try{var o=e(),r=ea.S;null!==r&&r(n,o),"object"==typeof o&&null!==o&&"function"==typeof o.then&&o.then(eb,e_)}catch(e){e_(e)}finally{ea.T=t}},v=function(){return ea.H.useCacheRefresh()},C=function(e){return ea.H.use(e)},I=function(e,t,n){return ea.H.useActionState(e,t,n)},S=function(e,t){return ea.H.useCallback(e,t)},w=function(e){return ea.H.useContext(e)},k=function(){},O=function(e,t){return ea.H.useDeferredValue(e,t)},R=function(e,t,n){var o=ea.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return o.useEffect(e,t)},x=function(){return ea.H.useId()},$=function(e,t,n){return ea.H.useImperativeHandle(e,t,n)},A=function(e,t){return ea.H.useInsertionEffect(e,t)},N=function(e,t){return ea.H.useLayoutEffect(e,t)},M=function(e,t){return ea.H.useMemo(e,t)},L=function(e,t){return ea.H.useOptimistic(e,t)},D=function(e,t,n){return ea.H.useReducer(e,t,n)},P=function(e){return ea.H.useRef(e)},B=function(e){return ea.H.useState(e)},F=function(e,t,n){return ea.H.useSyncExternalStore(e,t,n)},U=function(){return ea.H.useTransition()},H="19.1.0"}),d("bgXWC",function(t,n){e(t.exports,"createRoot",()=>tL,e=>tL=e),e(t.exports,"hydrateRoot",()=>tD,e=>tD=e),e(t.exports,"version",()=>tP,e=>tP=e);var o,r=c("6qr1r"),i=c("fYo6y"),s=c("d2L2u");function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function u(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function d(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(l(188))}var p=Object.assign,f=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),v=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope");var O=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var R=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var x=Symbol.iterator;function $(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=x&&e[x]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference"),N=Array.isArray,M=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},P=[],B=-1;function F(e){return{current:e}}function U(e){0>B||(e.current=P[B],P[B]=null,B--)}function H(e,t){P[++B]=e.current,e.current=t}var V=F(null),G=F(null),j=F(null),W=F(null);function z(e,t){switch(H(j,t),H(G,e),H(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?uc(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ud(t=uc(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(V),H(V,e)}function X(){U(V),U(G),U(j)}function Y(e){null!==e.memoizedState&&H(W,e);var t=V.current,n=ud(t,e.type);t!==n&&(H(G,e),H(V,n))}function K(e){G.current===e&&(U(V),U(G)),W.current===e&&(U(W),u0._currentValue=D)}var J=Object.prototype.hasOwnProperty,Z=r.unstable_scheduleCallback,q=r.unstable_cancelCallback,Q=r.unstable_shouldYield,ee=r.unstable_requestPaint,et=r.unstable_now,en=r.unstable_getCurrentPriorityLevel,eo=r.unstable_ImmediatePriority,er=r.unstable_UserBlockingPriority,ei=r.unstable_NormalPriority,es=r.unstable_LowPriority,el=r.unstable_IdlePriority,ea=r.log,eu=r.unstable_setDisableYieldValue,ec=null,ed=null;function eh(e){if("function"==typeof ea&&eu(e),ed&&"function"==typeof ed.setStrictMode)try{ed.setStrictMode(ec,e)}catch(e){}}var ep=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(ef(e)/eg|0)|0},ef=Math.log,eg=Math.LN2,em=256,e_=4194304;function eb(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 0x1000000:case 0x2000000:return 0x3c00000&e;case 0x4000000:return 0x4000000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0;default:return e}}function ey(e,t,n){var o=e.pendingLanes;if(0===o)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var l=0x7ffffff&o;return 0!==l?0!=(o=l&~i)?r=eb(o):0!=(s&=l)?r=eb(s):n||0!=(n=l&~e)&&(r=eb(n)):0!=(l=o&~i)?r=eb(l):0!==s?r=eb(s):n||0!=(n=o&~e)&&(r=eb(n)),0===r?0:0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(n=t&-t)||32===i&&0!=(4194048&n))?t:r}function eT(e,t){return 0==(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function eE(){var e=em;return 0==(4194048&(em<<=1))&&(em=256),e}function ev(){var e=e_;return 0==(0x3c00000&(e_<<=1))&&(e_=4194304),e}function eC(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function eI(e,t){e.pendingLanes|=t,0x10000000!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function eS(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-ep(t);e.entangledLanes|=t,e.entanglements[o]=0x40000000|e.entanglements[o]|4194090&n}function ew(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-ep(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}function ek(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:e=128;break;case 0x10000000:e=0x8000000;break;default:e=0}return e}function eO(e){return 2<(e&=-e)?8<e?0!=(0x7ffffff&e)?32:0x10000000:8:2}function eR(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:ci(e.type)}var ex=Math.random().toString(36).slice(2),e$="__reactFiber$"+ex,eA="__reactProps$"+ex,eN="__reactContainer$"+ex,eM="__reactEvents$"+ex,eL="__reactListeners$"+ex,eD="__reactHandles$"+ex,eP="__reactResources$"+ex,eB="__reactMarker$"+ex;function eF(e){delete e[e$],delete e[eA],delete e[eM],delete e[eL],delete e[eD]}function eU(e){var t=e[e$];if(t)return t;for(var n=e.parentNode;n;){if(t=n[eN]||n[e$]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uS(e);null!==e;){if(n=e[e$])return n;e=uS(e)}return t}n=(e=n).parentNode}return null}function eH(e){if(e=e[e$]||e[eN]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function eV(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(l(33))}function eG(e){var t=e[eP];return t||(t=e[eP]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ej(e){e[eB]=!0}var eW=new Set,ez={};function eX(e,t){eY(e,t),eY(e+"Capture",t)}function eY(e,t){for(ez[e]=t,e=0;e<t.length;e++)eW.add(t[e])}var eK=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eJ={},eZ={};function eq(e,t,n){if(J.call(eZ,t)||!J.call(eJ,t)&&(eK.test(t)?eZ[t]=!0:(eJ[t]=!0,!1)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if("data-"!==o&&"aria-"!==o)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function eQ(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function e0(e,t,n,o){if(null===o)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+o)}}function e1(e){if(void 0===tB)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);tB=t&&t[1]||"",tF=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+tB+e+tF}var e2=!1;function e5(e,t){if(!e||e2)return"";e2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var o=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){o=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){o=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&o&&"string"==typeof e.stack)return[e.stack,o.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=o.DetermineComponentFrameRoot(),s=i[0],l=i[1];if(s&&l){var a=s.split("\n"),u=l.split("\n");for(r=o=0;o<a.length&&!a[o].includes("DetermineComponentFrameRoot");)o++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(o===a.length||r===u.length)for(o=a.length-1,r=u.length-1;1<=o&&0<=r&&a[o]!==u[r];)r--;for(;1<=o&&0<=r;o--,r--)if(a[o]!==u[r]){if(1!==o||1!==r)do if(o--,r--,0>r||a[o]!==u[r]){var c="\n"+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=r)break}}}finally{e2=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?e1(n):""}function e3(e){try{var t="";do t+=function(e){switch(e.tag){case 26:case 27:case 5:return e1(e.type);case 16:return e1("Lazy");case 13:return e1("Suspense");case 19:return e1("SuspenseList");case 0:case 15:return e5(e.type,!1);case 11:return e5(e.type.render,!1);case 1:return e5(e.type,!0);case 31:return e1("Activity");default:return""}}(e),e=e.return;while(e)return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function e4(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function e6(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function e8(e){e._valueTracker||(e._valueTracker=function(e){var t=e6(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){o=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function e9(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=e6(e)?e.checked?"true":"false":e.value),(e=o)!==n&&(t.setValue(e),!0)}function e7(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var te=/[\n"\\]/g;function tt(e){return e.replace(te,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function tn(e,t,n,o,r,i,s,l){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+e4(t)):e.value!==""+e4(t)&&(e.value=""+e4(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?tr(e,s,e4(t)):null!=n?tr(e,s,e4(n)):null!=o&&e.removeAttribute("value"),null==r&&null!=i&&(e.defaultChecked=!!i),null!=r&&(e.checked=r&&"function"!=typeof r&&"symbol"!=typeof r),null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.name=""+e4(l):e.removeAttribute("name")}function to(e,t,n,o,r,i,s,l){if(null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.type=i),null!=t||null!=n){if(("submit"===i||"reset"===i)&&null==t)return;n=null!=n?""+e4(n):"",t=null!=t?""+e4(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}o="function"!=typeof(o=null!=o?o:r)&&"symbol"!=typeof o&&!!o,e.checked=l?e.checked:!!o,e.defaultChecked=!!o,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s)}function tr(e,t,n){"number"===t&&e7(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ti(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(r=0,n=""+e4(n),t=null;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,o&&(e[r].defaultSelected=!0);return}null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ts(e,t,n){if(null!=t&&((t=""+e4(t))!==e.value&&(e.value=t),null==n)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=null!=n?""+e4(n):""}function tl(e,t,n,o){if(null==t){if(null!=o){if(null!=n)throw Error(l(92));if(N(o)){if(1<o.length)throw Error(l(93));o=o[0]}n=o}null==n&&(n=""),t=n}e.defaultValue=n=e4(t),(o=e.textContent)===n&&""!==o&&null!==o&&(e.value=o)}function ta(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tc(e,t,n){var o=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?o?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":o?e.setProperty(t,n):"number"!=typeof n||0===n||tu.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function td(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(l(62));if(e=e.style,null!=n){for(var o in n)!n.hasOwnProperty(o)||null!=t&&t.hasOwnProperty(o)||(0===o.indexOf("--")?e.setProperty(o,""):"float"===o?e.cssFloat="":e[o]="");for(var r in t)o=t[r],t.hasOwnProperty(r)&&n[r]!==o&&tc(e,r,o)}else for(var i in t)t.hasOwnProperty(i)&&tc(e,i,t[i])}function th(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tg(e){return tf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var tm=null;function t_(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var tb=null,ty=null;function tT(e){var t=eH(e);if(t&&(e=t.stateNode)){var n=e[eA]||null;switch(e=t.stateNode,t.type){case"input":if(tn(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+tt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=o[eA]||null;if(!r)throw Error(l(90));tn(o,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(o=n[t]).form===e.form&&e9(o)}break;case"textarea":ts(e,n.value,n.defaultValue);break;case"select":null!=(t=n.value)&&ti(e,!!n.multiple,t,!1)}}}var tE=!1;function tv(e,t,n){if(tE)return e(t,n);tE=!0;try{return e(t)}finally{if(tE=!1,(null!==tb||null!==ty)&&(ai(),tb&&(t=tb,e=ty,ty=tb=null,tT(t),e)))for(t=0;t<e.length;t++)tT(e[t])}}function tC(e,t){var n=e.stateNode;if(null===n)return null;var o=n[eA]||null;if(null===o)return null;switch(n=o[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o="button"!==(e=e.type)&&"input"!==e&&"select"!==e&&"textarea"!==e),e=!o;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(l(231,t,typeof n));return n}var tI="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,tS=!1;if(tI)try{var tw={};Object.defineProperty(tw,"passive",{get:function(){tS=!0}}),window.addEventListener("test",tw,tw),window.removeEventListener("test",tw,tw)}catch(e){tS=!1}var tk=null,tO=null,tR=null;function tx(){if(tR)return tR;var e,t,n=tO,o=n.length,r="value"in tk?tk.value:tk.textContent,i=r.length;for(e=0;e<o&&n[e]===r[e];e++);var s=o-e;for(t=1;t<=s&&n[o-t]===r[i-t];t++);return tR=r.slice(e,1<t?1-t:void 0)}function t$(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tA(){return!0}function tN(){return!1}function tM(e){function t(t,n,o,r,i){for(var s in this._reactName=t,this._targetInst=o,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?tA:tN,this.isPropagationStopped=tN,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tA)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tA)},persist:function(){},isPersistent:tA}),t}var tL,tD,tP,tB,tF,tU,tH,tV,tG={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tj=tM(tG),tW=p({},tG,{view:0,detail:0}),tz=tM(tW),tX=p({},tW,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t3,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tV&&(tV&&"mousemove"===e.type?(tU=e.screenX-tV.screenX,tH=e.screenY-tV.screenY):tH=tU=0,tV=e),tU)},movementY:function(e){return"movementY"in e?e.movementY:tH}}),tY=tM(tX),tK=tM(p({},tX,{dataTransfer:0})),tJ=tM(p({},tW,{relatedTarget:0})),tZ=tM(p({},tG,{animationName:0,elapsedTime:0,pseudoElement:0})),tq=tM(p({},tG,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),tQ=tM(p({},tG,{data:0})),t0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=t2[e])&&!!t[e]}function t3(){return t5}var t4=tM(p({},tW,{key:function(e){if(e.key){var t=t0[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=t$(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?t1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t3,charCode:function(e){return"keypress"===e.type?t$(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?t$(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),t6=tM(p({},tX,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),t8=tM(p({},tW,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t3})),t9=tM(p({},tG,{propertyName:0,elapsedTime:0,pseudoElement:0})),t7=tM(p({},tX,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),ne=tM(p({},tG,{newState:0,oldState:0})),nt=[9,13,27,32],nn=tI&&"CompositionEvent"in window,no=null;tI&&"documentMode"in document&&(no=document.documentMode);var nr=tI&&"TextEvent"in window&&!no,ni=tI&&(!nn||no&&8<no&&11>=no),ns=!1;function nl(e,t){switch(e){case"keyup":return -1!==nt.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function na(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nu=!1,nc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nc[e.type]:"textarea"===t}function nh(e,t,n,o){tb?ty?ty.push(o):ty=[o]:tb=o,0<(t=a6(t,"onChange")).length&&(n=new tj("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var np=null,nf=null;function ng(e){aq(e,0)}function nm(e){if(e9(eV(e)))return e}function n_(e,t){if("change"===e)return t}var nb=!1;if(tI){if(tI){var ny="oninput"in document;if(!ny){var nT=document.createElement("div");nT.setAttribute("oninput","return;"),ny="function"==typeof nT.oninput}o=ny}else o=!1;nb=o&&(!document.documentMode||9<document.documentMode)}function nE(){np&&(np.detachEvent("onpropertychange",nv),nf=np=null)}function nv(e){if("value"===e.propertyName&&nm(nf)){var t=[];nh(t,nf,e,t_(e)),tv(ng,t)}}function nC(e,t,n){"focusin"===e?(nE(),np=t,nf=n,np.attachEvent("onpropertychange",nv)):"focusout"===e&&nE()}function nI(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return nm(nf)}function nS(e,t){if("click"===e)return nm(t)}function nw(e,t){if("input"===e||"change"===e)return nm(t)}var nk="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nO(e,t){if(nk(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!J.call(t,r)||!nk(e[r],t[r]))return!1}return!0}function nR(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nx(e,t){var n,o=nR(e);for(e=0;o;){if(3===o.nodeType){if(n=e+o.textContent.length,e<=t&&n>=t)return{node:o,offset:t-e};e=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=nR(o)}}function n$(e){e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;for(var t=e7(e.document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=e7(e.document)}return t}function nA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nN=tI&&"documentMode"in document&&11>=document.documentMode,nM=null,nL=null,nD=null,nP=!1;function nB(e,t,n){var o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;nP||null==nM||nM!==e7(o)||(o="selectionStart"in(o=nM)&&nA(o)?{start:o.selectionStart,end:o.selectionEnd}:{anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},nD&&nO(nD,o)||(nD=o,0<(o=a6(nL,"onSelect")).length&&(t=new tj("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=nM)))}function nF(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var nU={animationend:nF("Animation","AnimationEnd"),animationiteration:nF("Animation","AnimationIteration"),animationstart:nF("Animation","AnimationStart"),transitionrun:nF("Transition","TransitionRun"),transitionstart:nF("Transition","TransitionStart"),transitioncancel:nF("Transition","TransitionCancel"),transitionend:nF("Transition","TransitionEnd")},nH={},nV={};function nG(e){if(nH[e])return nH[e];if(!nU[e])return e;var t,n=nU[e];for(t in n)if(n.hasOwnProperty(t)&&t in nV)return nH[e]=n[t];return e}tI&&(nV=document.createElement("div").style,"AnimationEvent"in window||(delete nU.animationend.animation,delete nU.animationiteration.animation,delete nU.animationstart.animation),"TransitionEvent"in window||delete nU.transitionend.transition);var nj=nG("animationend"),nW=nG("animationiteration"),nz=nG("animationstart"),nX=nG("transitionrun"),nY=nG("transitionstart"),nK=nG("transitioncancel"),nJ=nG("transitionend"),nZ=new Map,nq="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nQ(e,t){nZ.set(e,t),eX(t,[e])}nq.push("scrollEnd");var n0=new WeakMap;function n1(e,t){if("object"==typeof e&&null!==e){var n=n0.get(e);return void 0!==n?n:(t={value:e,source:t,stack:e3(t)},n0.set(e,t),t)}return{value:e,source:t,stack:e3(t)}}var n2=[],n5=0,n3=0;function n4(){for(var e=n5,t=n3=n5=0;t<e;){var n=n2[t];n2[t++]=null;var o=n2[t];n2[t++]=null;var r=n2[t];n2[t++]=null;var i=n2[t];if(n2[t++]=null,null!==o&&null!==r){var s=o.pending;null===s?r.next=r:(r.next=s.next,s.next=r),o.pending=r}0!==i&&n7(n,r,i)}}function n6(e,t,n,o){n2[n5++]=e,n2[n5++]=t,n2[n5++]=n,n2[n5++]=o,n3|=o,e.lanes|=o,null!==(e=e.alternate)&&(e.lanes|=o)}function n8(e,t,n,o){return n6(e,t,n,o),oe(e)}function n9(e,t){return n6(e,null,null,t),oe(e)}function n7(e,t,n){e.lanes|=n;var o=e.alternate;null!==o&&(o.lanes|=n);for(var r=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(o=i.alternate)&&(o.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(r=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,r&&null!==t&&(r=31-ep(n),null===(o=(e=i.hiddenUpdates)[r])?e[r]=[t]:o.push(t),t.lane=0x20000000|n),i):null}function oe(e){if(50<l8)throw l8=0,l9=null,Error(l(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var ot={};function on(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oo(e,t,n,o){return new on(e,t,n,o)}function or(e){return!(!(e=e.prototype)||!e.isReactComponent)}function oi(e,t){var n=e.alternate;return null===n?((n=oo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=0x3e00000&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function os(e,t){e.flags&=0x3e00002;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,e.dependencies=null===(t=n.dependencies)?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ol(e,t,n,o,r,i){var s=0;if(o=e,"function"==typeof e)or(e)&&(s=1);else if("string"==typeof e)s=!function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;if("stylesheet"===t.rel)return e=t.disabled,"string"==typeof t.precedence&&null==e;return!0;case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,V.current)?"html"===e||"head"===e||"body"===e?27:5:26;else e:switch(e){case O:return(e=oo(31,n,t,r)).elementType=O,e.lanes=i,e;case _:return oa(n.children,r,i,t);case b:s=8,r|=24;break;case y:return(e=oo(12,n,t,2|r)).elementType=y,e.lanes=i,e;case I:return(e=oo(13,n,t,r)).elementType=I,e.lanes=i,e;case S:return(e=oo(19,n,t,r)).elementType=S,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case T:case v:s=10;break e;case E:s=9;break e;case C:s=11;break e;case w:s=14;break e;case k:s=16,o=null;break e}s=29,n=Error(l(130,null===e?"null":typeof e,"")),o=null}return(t=oo(s,n,t,r)).elementType=e,t.type=o,t.lanes=i,t}function oa(e,t,n,o){return(e=oo(7,e,o,t)).lanes=n,e}function ou(e,t,n){return(e=oo(6,e,null,t)).lanes=n,e}function oc(e,t,n){return(t=oo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var od=[],oh=0,op=null,of=0,og=[],om=0,o_=null,ob=1,oy="";function oT(e,t){od[oh++]=of,od[oh++]=op,op=e,of=t}function oE(e,t,n){og[om++]=ob,og[om++]=oy,og[om++]=o_,o_=e;var o=ob;e=oy;var r=32-ep(o)-1;o&=~(1<<r),n+=1;var i=32-ep(t)+r;if(30<i){var s=r-r%5;i=(o&(1<<s)-1).toString(32),o>>=s,r-=s,ob=1<<32-ep(t)+r|n<<r|o,oy=i+e}else ob=1<<i|n<<r|o,oy=e}function ov(e){null!==e.return&&(oT(e,1),oE(e,1,0))}function oC(e){for(;e===op;)op=od[--oh],od[oh]=null,of=od[--oh],od[oh]=null;for(;e===o_;)o_=og[--om],og[om]=null,oy=og[--om],og[om]=null,ob=og[--om],og[om]=null}var oI=null,oS=null,ow=!1,ok=null,oO=!1,oR=Error(l(519));function ox(e){throw oD(n1(Error(l(418,"")),e)),oR}function o$(e){var t=e.stateNode,n=e.type,o=e.memoizedProps;switch(t[e$]=e,t[eA]=o,n){case"dialog":aQ("cancel",t),aQ("close",t);break;case"iframe":case"object":case"embed":aQ("load",t);break;case"video":case"audio":for(n=0;n<aJ.length;n++)aQ(aJ[n],t);break;case"source":aQ("error",t);break;case"img":case"image":case"link":aQ("error",t),aQ("load",t);break;case"details":aQ("toggle",t);break;case"input":aQ("invalid",t),to(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),e8(t);break;case"select":aQ("invalid",t);break;case"textarea":aQ("invalid",t),tl(t,o.value,o.defaultValue,o.children),e8(t)}"string"!=typeof(n=o.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===o.suppressHydrationWarning||un(t.textContent,n)?(null!=o.popover&&(aQ("beforetoggle",t),aQ("toggle",t)),null!=o.onScroll&&aQ("scroll",t),null!=o.onScrollEnd&&aQ("scrollend",t),null!=o.onClick&&(t.onclick=uo),t=!0):t=!1,t||ox(e)}function oA(e){for(oI=e.return;oI;)switch(oI.tag){case 5:case 13:oO=!1;return;case 27:case 3:oO=!0;return;default:oI=oI.return}}function oN(e){if(e!==oI)return!1;if(!ow)return oA(e),ow=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t="form"===(t=e.type)||"button"===t||uh(e.type,e.memoizedProps)),t=!t),t&&oS&&ox(e),oA(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));e:{for(n=0,e=e.nextSibling;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){oS=uC(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}oS=null}}else 27===n?(n=oS,uy(e.type)?(e=uI,uI=null,oS=e):oS=n):oS=oI?uC(e.stateNode.nextSibling):null;return!0}function oM(){oS=oI=null,ow=!1}function oL(){var e=ok;return null!==e&&(null===lY?lY=e:lY.push.apply(lY,e),ok=null),e}function oD(e){null===ok?ok=[e]:ok.push(e)}var oP=F(null),oB=null,oF=null;function oU(e,t,n){H(oP,t._currentValue),t._currentValue=n}function oH(e){e._currentValue=oP.current,U(oP)}function oV(e,t,n){for(;null!==e;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==o&&(o.childLanes|=t)):null!==o&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function oG(e,t,n,o){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var i=r.dependencies;if(null!==i){var s=r.child;i=i.firstContext;e:for(;null!==i;){var a=i;i=r;for(var u=0;u<t.length;u++)if(a.context===t[u]){i.lanes|=n,null!==(a=i.alternate)&&(a.lanes|=n),oV(i.return,n,e),o||(s=null);break e}i=a.next}}else if(18===r.tag){if(null===(s=r.return))throw Error(l(341));s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),oV(s,n,e),s=null}else s=r.child;if(null!==s)s.return=r;else for(s=r;null!==s;){if(s===e){s=null;break}if(null!==(r=s.sibling)){r.return=s.return,s=r;break}s=s.return}r=s}}function oj(e,t,n,o){e=null;for(var r=t,i=!1;null!==r;){if(!i){if(0!=(524288&r.flags))i=!0;else if(0!=(262144&r.flags))break}if(10===r.tag){var s=r.alternate;if(null===s)throw Error(l(387));if(null!==(s=s.memoizedProps)){var a=r.type;nk(r.pendingProps.value,s.value)||(null!==e?e.push(a):e=[a])}}else if(r===W.current){if(null===(s=r.alternate))throw Error(l(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(u0):e=[u0])}r=r.return}null!==e&&oG(t,e,n,o),t.flags|=262144}function oW(e){for(e=e.firstContext;null!==e;){if(!nk(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function oz(e){oB=e,oF=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function oX(e){return oK(oB,e)}function oY(e,t){return null===oB&&oz(e),oK(e,t)}function oK(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===oF){if(null===e)throw Error(l(308));oF=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else oF=oF.next=t;return n}var oJ="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},oZ=r.unstable_scheduleCallback,oq=r.unstable_NormalPriority,oQ={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function o0(){return{controller:new oJ,data:new Map,refCount:0}}function o1(e){e.refCount--,0===e.refCount&&oZ(oq,function(){e.controller.abort()})}var o2=null,o5=0,o3=0,o4=null;function o6(){if(0==--o5&&null!==o2){null!==o4&&(o4.status="fulfilled");var e=o2;o2=null,o3=0,o4=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var o8=M.S;M.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===o2){var n=o2=[];o5=0,o3=aW(),o4={status:"pending",value:void 0,then:function(e){n.push(e)}}}o5++,t.then(o6,o6)}(0,t),null!==o8&&o8(e,t)};var o9=F(null);function o7(){var e=o9.current;return null!==e?e:lA.pooledCache}function re(e,t){null===t?H(o9,o9.current):H(o9,t.pool)}function rt(){var e=o7();return null===e?null:{parent:oQ._currentValue,pool:e}}var rn=Error(l(460)),ro=Error(l(474)),rr=Error(l(542)),ri={then:function(){}};function rs(e){return"fulfilled"===(e=e.status)||"rejected"===e}function rl(){}function ra(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(rl,rl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw rd(e=t.reason),e;default:if("string"==typeof t.status)t.then(rl,rl);else{if(null!==(e=lA)&&100<e.shellSuspendCounter)throw Error(l(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw rd(e=t.reason),e}throw ru=t,rn}}var ru=null;function rc(){if(null===ru)throw Error(l(459));var e=ru;return ru=null,e}function rd(e){if(e===rn||e===rr)throw Error(l(483))}var rh=!1;function rp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rg(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rm(e,t,n){var o=e.updateQueue;if(null===o)return null;if(o=o.shared,0!=(2&l$)){var r=o.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),o.pending=t,t=oe(e),n7(e,null,n),t}return n6(e,o,t,n),oe(e)}function r_(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194048&n))){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,ew(e,n)}}function rb(e,t){var n=e.updateQueue,o=e.alternate;if(null!==o&&n===(o=o.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?r=i=s:i=i.next=s,n=n.next}while(null!==n)null===i?r=i=t:i=i.next=t}else r=i=t;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,callbacks:o.callbacks},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ry=!1;function rT(){if(ry){var e=o4;if(null!==e)throw e}}function rE(e,t,n,o){ry=!1;var r=e.updateQueue;rh=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var a=l,u=a.next;a.next=null,null===s?i=u:s.next=u,s=a;var c=e.alternate;null!==c&&(l=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===l?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a)}if(null!==i){var d=r.baseState;for(s=0,c=u=a=null,l=i;;){var h=-0x20000001&l.lane,f=h!==l.lane;if(f?(lM&h)===h:(o&h)===h){0!==h&&h===o3&&(ry=!0),null!==c&&(c=c.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var g=e,m=l;switch(h=t,m.tag){case 1:if("function"==typeof(g=m.payload)){d=g.call(n,d,h);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(h="function"==typeof(g=m.payload)?g.call(n,d,h):g))break e;d=p({},d,h);break e;case 2:rh=!0}}null!==(h=l.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=r.callbacks)?r.callbacks=[h]:f.push(h))}else f={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===c?(u=c=f,a=d):c=c.next=f,s|=h;if(null===(l=l.next))if(null===(l=r.shared.pending))break;else l=(f=l).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}null===c&&(a=d),r.baseState=a,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null===i&&(r.shared.lanes=0),lV|=s,e.lanes=s,e.memoizedState=d}}function rv(e,t){if("function"!=typeof e)throw Error(l(191,e));e.call(t)}function rC(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)rv(n[e],t)}var rI=F(null),rS=F(0);function rw(e,t){H(rS,e=lU),H(rI,t),lU=e|t.baseLanes}function rk(){H(rS,lU),H(rI,rI.current)}function rO(){lU=rS.current,U(rI),U(rS)}var rR=0,rx=null,r$=null,rA=null,rN=!1,rM=!1,rL=!1,rD=0,rP=0,rB=null,rF=0;function rU(){throw Error(l(321))}function rH(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nk(e[n],t[n]))return!1;return!0}function rV(e,t,n,o,r,i){return rR=i,rx=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?iJ:iZ,rL=!1,i=n(o,r),rL=!1,rM&&(i=rj(t,n,o,r)),rG(e),i}function rG(e){M.H=iK;var t=null!==r$&&null!==r$.next;if(rR=0,rA=r$=rx=null,rN=!1,rP=0,rB=null,t)throw Error(l(300));null===e||sE||null!==(e=e.dependencies)&&oW(e)&&(sE=!0)}function rj(e,t,n,o){rx=e;var r=0;do{if(rM&&(rB=null),rP=0,rM=!1,25<=r)throw Error(l(301));if(r+=1,rA=r$=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}M.H=iq,i=t(n,o)}while(rM)return i}function rW(){var e=M.H,t=e.useState()[0];return t="function"==typeof t.then?rq(t):t,e=e.useState()[0],(null!==r$?r$.memoizedState:null)!==e&&(rx.flags|=1024),t}function rz(){var e=0!==rD;return rD=0,e}function rX(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function rY(e){if(rN){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}rN=!1}rR=0,rA=r$=rx=null,rM=!1,rP=rD=0,rB=null}function rK(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===rA?rx.memoizedState=rA=e:rA=rA.next=e,rA}function rJ(){if(null===r$){var e=rx.alternate;e=null!==e?e.memoizedState:null}else e=r$.next;var t=null===rA?rx.memoizedState:rA.next;if(null!==t)rA=t,r$=e;else{if(null===e){if(null===rx.alternate)throw Error(l(467));throw Error(l(310))}e={memoizedState:(r$=e).memoizedState,baseState:r$.baseState,baseQueue:r$.baseQueue,queue:r$.queue,next:null},null===rA?rx.memoizedState=rA=e:rA=rA.next=e}return rA}function rZ(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rq(e){var t=rP;return rP+=1,null===rB&&(rB=[]),e=ra(rB,e,t),t=rx,null===(null===rA?t.memoizedState:rA.next)&&(M.H=null===(t=t.alternate)||null===t.memoizedState?iJ:iZ),e}function rQ(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return rq(e);if(e.$$typeof===v)return oX(e)}throw Error(l(438,String(e)))}function r0(e){var t=null,n=rx.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var o=rx.alternate;null!==o&&null!==(o=o.updateQueue)&&null!=(o=o.memoCache)&&(t={data:o.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n=rZ(),rx.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),o=0;o<e;o++)n[o]=R;return t.index++,n}function r1(e,t){return"function"==typeof t?t(e):t}function r2(e){return r5(rJ(),r$,e)}function r5(e,t,n){var o=e.queue;if(null===o)throw Error(l(311));o.lastRenderedReducer=n;var r=e.baseQueue,i=o.pending;if(null!==i){if(null!==r){var s=r.next;r.next=i.next,i.next=s}t.baseQueue=r=i,o.pending=null}if(i=e.baseState,null===r)e.memoizedState=i;else{t=r.next;var a=s=null,u=null,c=t,d=!1;do{var h=-0x20000001&c.lane;if(h!==c.lane?(lM&h)===h:(rR&h)===h){var p=c.revertLane;if(0===p)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===o3&&(d=!0);else if((rR&p)===p){c=c.next,p===o3&&(d=!0);continue}else h={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(a=u=h,s=i):u=u.next=h,rx.lanes|=p,lV|=p;h=c.action,rL&&n(i,h),i=c.hasEagerState?c.eagerState:n(i,h)}else p={lane:h,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(a=u=p,s=i):u=u.next=p,rx.lanes|=h,lV|=h;c=c.next}while(null!==c&&c!==t)if(null===u?s=i:u.next=a,!nk(i,e.memoizedState)&&(sE=!0,d&&null!==(n=o4)))throw n;e.memoizedState=i,e.baseState=s,e.baseQueue=u,o.lastRenderedState=i}return null===r&&(o.lanes=0),[e.memoizedState,o.dispatch]}function r3(e){var t=rJ(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do i=e(i,s.action),s=s.next;while(s!==r)nk(i,t.memoizedState)||(sE=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function r4(e,t,n){var o=rx,r=rJ(),i=ow;if(i){if(void 0===n)throw Error(l(407));n=n()}else n=t();var s=!nk((r$||r).memoizedState,n);if(s&&(r.memoizedState=n,sE=!0),r=r.queue,iE(2048,8,r9.bind(null,o,r,e),[e]),r.getSnapshot!==t||s||null!==rA&&1&rA.memoizedState.tag){if(o.flags|=2048,i_(9,ib(),r8.bind(null,o,r,n,t),null),null===lA)throw Error(l(349));i||0!=(124&rR)||r6(o,t,n)}return n}function r6(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=rx.updateQueue)?(t=rZ(),rx.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function r8(e,t,n,o){t.value=n,t.getSnapshot=o,r7(t)&&ie(e)}function r9(e,t,n){return n(function(){r7(t)&&ie(e)})}function r7(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nk(e,n)}catch(e){return!0}}function ie(e){var t=n9(e,2);null!==t&&at(t,e,2)}function it(e){var t=rK();if("function"==typeof e){var n=e;if(e=n(),rL){eh(!0);try{n()}finally{eh(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r1,lastRenderedState:e},t}function io(e,t,n,o){return e.baseState=n,r5(e,r$,"function"==typeof o?o:r1)}function ir(e,t,n,o,r){if(iz(e))throw Error(l(485));if(null!==(e=t.action)){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==M.T?n(!0):i.isTransition=!1,o(i),null===(n=t.pending)?(i.next=t.pending=i,ii(t,i)):(i.next=n.next,t.pending=n.next=i)}}function ii(e,t){var n=t.action,o=t.payload,r=e.state;if(t.isTransition){var i=M.T,s={};M.T=s;try{var l=n(r,o),a=M.S;null!==a&&a(s,l),is(e,t,l)}catch(n){ia(e,t,n)}finally{M.T=i}}else try{i=n(r,o),is(e,t,i)}catch(n){ia(e,t,n)}}function is(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){il(e,t,n)},function(n){return ia(e,t,n)}):il(e,t,n)}function il(e,t,n){t.status="fulfilled",t.value=n,iu(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ii(e,n)))}function ia(e,t,n){var o=e.pending;if(e.pending=null,null!==o){o=o.next;do t.status="rejected",t.reason=n,iu(t),t=t.next;while(t!==o)}e.action=null}function iu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ic(e,t){return t}function id(e,t){if(ow){var n=lA.formState;if(null!==n){e:{var o=rx;if(ow){if(oS){t:{for(var r=oS,i=oO;8!==r.nodeType;)if(!i||null===(r=uC(r.nextSibling))){r=null;break t}r="F!"===(i=r.data)||"F"===i?r:null}if(r){oS=uC(r.nextSibling),o="F!"===r.data;break e}}ox(o)}o=!1}o&&(t=n[0])}}return(n=rK()).memoizedState=n.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:t},n.queue=o,n=iG.bind(null,rx,o),o.dispatch=n,o=it(!1),i=iW.bind(null,rx,!1,o.queue),o=rK(),r={state:t,dispatch:null,action:e,pending:null},o.queue=r,n=ir.bind(null,rx,r,i,n),r.dispatch=n,o.memoizedState=e,[t,n,!1]}function ih(e){return ip(rJ(),r$,e)}function ip(e,t,n){if(t=r5(e,t,ic)[0],e=r2(r1)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var o=rq(t)}catch(e){if(e===rn)throw rr;throw e}else o=t;var r=(t=rJ()).queue,i=r.dispatch;return n!==t.memoizedState&&(rx.flags|=2048,i_(9,ib(),ig.bind(null,r,n),null)),[o,i,e]}function ig(e,t){e.action=t}function im(e){var t=rJ(),n=r$;if(null!==n)return ip(t,n,e);rJ(),t=t.memoizedState;var o=(n=rJ()).queue.dispatch;return n.memoizedState=e,[t,o,!1]}function i_(e,t,n,o){return e={tag:e,create:n,deps:o,inst:t,next:null},null===(t=rx.updateQueue)&&(t=rZ(),rx.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function ib(){return{destroy:void 0,resource:void 0}}function iy(){return rJ().memoizedState}function iT(e,t,n,o){var r=rK();o=void 0===o?null:o,rx.flags|=e,r.memoizedState=i_(1|t,ib(),n,o)}function iE(e,t,n,o){var r=rJ();o=void 0===o?null:o;var i=r.memoizedState.inst;null!==r$&&null!==o&&rH(o,r$.memoizedState.deps)?r.memoizedState=i_(t,i,n,o):(rx.flags|=e,r.memoizedState=i_(1|t,i,n,o))}function iv(e,t){iT(8390656,8,e,t)}function iC(e,t){iE(2048,8,e,t)}function iI(e,t){return iE(4,2,e,t)}function iS(e,t){return iE(4,4,e,t)}function iw(e,t){if("function"==typeof t){var n=t(e=e());return function(){"function"==typeof n?n():t(null)}}if(null!=t)return t.current=e=e(),function(){t.current=null}}function ik(e,t,n){n=null!=n?n.concat([e]):null,iE(4,4,iw.bind(null,t,e),n)}function iO(){}function iR(e,t){var n=rJ();t=void 0===t?null:t;var o=n.memoizedState;return null!==t&&rH(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function ix(e,t){var n=rJ();t=void 0===t?null:t;var o=n.memoizedState;if(null!==t&&rH(t,o[1]))return o[0];if(o=e(),rL){eh(!0);try{e()}finally{eh(!1)}}return n.memoizedState=[o,t],o}function i$(e,t,n){return void 0===n||0!=(0x40000000&rR)?e.memoizedState=t:(e.memoizedState=n,e=ae(),rx.lanes|=e,lV|=e,n)}function iA(e,t,n,o){return nk(n,t)?n:null!==rI.current?(nk(e=i$(e,n,o),t)||(sE=!0),e):0==(42&rR)?(sE=!0,e.memoizedState=n):(e=ae(),rx.lanes|=e,lV|=e,t)}function iN(e,t,n,o,r){var i=L.p;L.p=0!==i&&8>i?i:8;var s=M.T,l={};M.T=l,iW(e,!1,t,n);try{var a=r(),u=M.S;if(null!==u&&u(l,a),null!==a&&"object"==typeof a&&"function"==typeof a.then){var c,d,h=(c=[],d={status:"pending",value:null,reason:null,then:function(e){c.push(e)}},a.then(function(){d.status="fulfilled",d.value=o;for(var e=0;e<c.length;e++)(0,c[e])(o)},function(e){for(d.status="rejected",d.reason=e,e=0;e<c.length;e++)(0,c[e])(void 0)}),d);ij(e,t,h,l7(e))}else ij(e,t,o,l7(e))}catch(n){ij(e,t,{then:function(){},status:"rejected",reason:n},l7())}finally{L.p=i,M.T=s}}function iM(){}function iL(e,t,n,o){if(5!==e.tag)throw Error(l(476));var r=iD(e).queue;iN(e,r,t,D,null===n?iM:function(){return iP(e),n(o)})}function iD(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:r1,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:r1,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function iP(e){var t=iD(e).next.queue;ij(e,t,{},l7())}function iB(){return oX(u0)}function iF(){return rJ().memoizedState}function iU(){return rJ().memoizedState}function iH(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=l7(),o=rm(t,e=rg(n),n);null!==o&&(at(o,t,n),r_(o,t,n)),t={cache:o0()},e.payload=t;return}t=t.return}}function iV(e,t,n){var o=l7();n={lane:o,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},iz(e)?iX(t,n):null!==(n=n8(e,t,n,o))&&(at(n,e,o),iY(n,t,o))}function iG(e,t,n){ij(e,t,n,l7())}function ij(e,t,n,o){var r={lane:o,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(iz(e))iX(t,r);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=i(s,n);if(r.hasEagerState=!0,r.eagerState=l,nk(l,s))return n6(e,t,r,0),null===lA&&n4(),!1}catch(e){}finally{}if(null!==(n=n8(e,t,r,o)))return at(n,e,o),iY(n,t,o),!0}return!1}function iW(e,t,n,o){if(o={lane:2,revertLane:aW(),action:o,hasEagerState:!1,eagerState:null,next:null},iz(e)){if(t)throw Error(l(479))}else null!==(t=n8(e,n,o,2))&&at(t,e,2)}function iz(e){var t=e.alternate;return e===rx||null!==t&&t===rx}function iX(e,t){rM=rN=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function iY(e,t,n){if(0!=(4194048&n)){var o=t.lanes;o&=e.pendingLanes,t.lanes=n|=o,ew(e,n)}}var iK={readContext:oX,use:rQ,useCallback:rU,useContext:rU,useEffect:rU,useImperativeHandle:rU,useLayoutEffect:rU,useInsertionEffect:rU,useMemo:rU,useReducer:rU,useRef:rU,useState:rU,useDebugValue:rU,useDeferredValue:rU,useTransition:rU,useSyncExternalStore:rU,useId:rU,useHostTransitionStatus:rU,useFormState:rU,useActionState:rU,useOptimistic:rU,useMemoCache:rU,useCacheRefresh:rU},iJ={readContext:oX,use:rQ,useCallback:function(e,t){return rK().memoizedState=[e,void 0===t?null:t],e},useContext:oX,useEffect:iv,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,iT(4194308,4,iw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return iT(4194308,4,e,t)},useInsertionEffect:function(e,t){iT(4,2,e,t)},useMemo:function(e,t){var n=rK();t=void 0===t?null:t;var o=e();if(rL){eh(!0);try{e()}finally{eh(!1)}}return n.memoizedState=[o,t],o},useReducer:function(e,t,n){var o=rK();if(void 0!==n){var r=n(t);if(rL){eh(!0);try{n(t)}finally{eh(!1)}}}else r=t;return o.memoizedState=o.baseState=r,o.queue=e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},e=e.dispatch=iV.bind(null,rx,e),[o.memoizedState,e]},useRef:function(e){return rK().memoizedState=e={current:e}},useState:function(e){var t=(e=it(e)).queue,n=iG.bind(null,rx,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:iO,useDeferredValue:function(e,t){return i$(rK(),e,t)},useTransition:function(){var e=it(!1);return e=iN.bind(null,rx,e.queue,!0,!1),rK().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var o=rx,r=rK();if(ow){if(void 0===n)throw Error(l(407));n=n()}else{if(n=t(),null===lA)throw Error(l(349));0!=(124&lM)||r6(o,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,iv(r9.bind(null,o,i,e),[e]),o.flags|=2048,i_(9,ib(),r8.bind(null,o,i,n,t),null),n},useId:function(){var e=rK(),t=lA.identifierPrefix;if(ow){var n=oy,o=ob;t="«"+t+"R"+(n=(o&~(1<<32-ep(o)-1)).toString(32)+n),0<(n=rD++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=rF++).toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:iB,useFormState:id,useActionState:id,useOptimistic:function(e){var t=rK();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=iW.bind(null,rx,!0,n),n.dispatch=t,[e,t]},useMemoCache:r0,useCacheRefresh:function(){return rK().memoizedState=iH.bind(null,rx)}},iZ={readContext:oX,use:rQ,useCallback:iR,useContext:oX,useEffect:iC,useImperativeHandle:ik,useInsertionEffect:iI,useLayoutEffect:iS,useMemo:ix,useReducer:r2,useRef:iy,useState:function(){return r2(r1)},useDebugValue:iO,useDeferredValue:function(e,t){return iA(rJ(),r$.memoizedState,e,t)},useTransition:function(){var e=r2(r1)[0],t=rJ().memoizedState;return["boolean"==typeof e?e:rq(e),t]},useSyncExternalStore:r4,useId:iF,useHostTransitionStatus:iB,useFormState:ih,useActionState:ih,useOptimistic:function(e,t){return io(rJ(),r$,e,t)},useMemoCache:r0,useCacheRefresh:iU},iq={readContext:oX,use:rQ,useCallback:iR,useContext:oX,useEffect:iC,useImperativeHandle:ik,useInsertionEffect:iI,useLayoutEffect:iS,useMemo:ix,useReducer:r3,useRef:iy,useState:function(){return r3(r1)},useDebugValue:iO,useDeferredValue:function(e,t){var n=rJ();return null===r$?i$(n,e,t):iA(n,r$.memoizedState,e,t)},useTransition:function(){var e=r3(r1)[0],t=rJ().memoizedState;return["boolean"==typeof e?e:rq(e),t]},useSyncExternalStore:r4,useId:iF,useHostTransitionStatus:iB,useFormState:im,useActionState:im,useOptimistic:function(e,t){var n=rJ();return null!==r$?io(n,r$,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:r0,useCacheRefresh:iU},iQ=null,i0=0;function i1(e){var t=i0;return i0+=1,null===iQ&&(iQ=[]),ra(iQ,e,t)}function i2(e,t){e.ref=void 0!==(t=t.props.ref)?t:null}function i5(e,t){if(t.$$typeof===f)throw Error(l(525));throw Error(l(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function i3(e){return(0,e._init)(e._payload)}function i4(e){function t(t,n){if(e){var o=t.deletions;null===o?(t.deletions=[n],t.flags|=16):o.push(n)}}function n(n,o){if(!e)return null;for(;null!==o;)t(n,o),o=o.sibling;return null}function o(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=oi(e,t)).index=0,e.sibling=null,e}function i(t,n,o){return(t.index=o,e)?null!==(o=t.alternate)?(o=o.index)<n?(t.flags|=0x4000002,n):o:(t.flags|=0x4000002,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=0x4000002),t}function a(e,t,n,o){return null===t||6!==t.tag?(t=ou(n,e.mode,o)).return=e:(t=r(t,n)).return=e,t}function u(e,t,n,o){var i=n.type;return i===_?d(e,t,n.props.children,o,n.key):(null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===k&&i3(i)===t.type)?i2(t=r(t,n.props),n):i2(t=ol(n.type,n.key,n.props,null,e.mode,o),n),t.return=e,t)}function c(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=oc(n,e.mode,o)).return=e:(t=r(t,n.children||[])).return=e,t}function d(e,t,n,o,i){return null===t||7!==t.tag?(t=oa(n,e.mode,o,i)).return=e:(t=r(t,n)).return=e,t}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=ou(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case g:return i2(n=ol(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=oc(t,e.mode,n)).return=e,t;case k:return h(e,t=(0,t._init)(t._payload),n)}if(N(t)||$(t))return(t=oa(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return h(e,i1(t),n);if(t.$$typeof===v)return h(e,oY(e,t),n);i5(e,t)}return null}function p(e,t,n,o){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==r?null:a(e,t,""+n,o);if("object"==typeof n&&null!==n){switch(n.$$typeof){case g:return n.key===r?u(e,t,n,o):null;case m:return n.key===r?c(e,t,n,o):null;case k:return p(e,t,n=(r=n._init)(n._payload),o)}if(N(n)||$(n))return null!==r?null:d(e,t,n,o,null);if("function"==typeof n.then)return p(e,t,i1(n),o);if(n.$$typeof===v)return p(e,t,oY(e,n),o);i5(e,n)}return null}function f(e,t,n,o,r){if("string"==typeof o&&""!==o||"number"==typeof o||"bigint"==typeof o)return a(t,e=e.get(n)||null,""+o,r);if("object"==typeof o&&null!==o){switch(o.$$typeof){case g:return u(t,e=e.get(null===o.key?n:o.key)||null,o,r);case m:return c(t,e=e.get(null===o.key?n:o.key)||null,o,r);case k:return f(e,t,n,o=(0,o._init)(o._payload),r)}if(N(o)||$(o))return d(t,e=e.get(n)||null,o,r,null);if("function"==typeof o.then)return f(e,t,n,i1(o),r);if(o.$$typeof===v)return f(e,t,n,oY(t,o),r);i5(t,o)}return null}return function(a,u,c,d){try{i0=0;var b=function a(u,c,d,b){if("object"==typeof d&&null!==d&&d.type===_&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case g:e:{for(var y=d.key;null!==c;){if(c.key===y){if((y=d.type)===_){if(7===c.tag){n(u,c.sibling),(b=r(c,d.props.children)).return=u,u=b;break e}}else if(c.elementType===y||"object"==typeof y&&null!==y&&y.$$typeof===k&&i3(y)===c.type){n(u,c.sibling),i2(b=r(c,d.props),d),b.return=u,u=b;break e}n(u,c);break}t(u,c),c=c.sibling}d.type===_?(b=oa(d.props.children,u.mode,b,d.key)).return=u:(i2(b=ol(d.type,d.key,d.props,null,u.mode,b),d),b.return=u),u=b}return s(u);case m:e:{for(y=d.key;null!==c;){if(c.key===y)if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(u,c.sibling),(b=r(c,d.children||[])).return=u,u=b;break e}else{n(u,c);break}t(u,c),c=c.sibling}(b=oc(d,u.mode,b)).return=u,u=b}return s(u);case k:return a(u,c,d=(y=d._init)(d._payload),b)}if(N(d))return function(r,s,l,a){for(var u=null,c=null,d=s,g=s=0,m=null;null!==d&&g<l.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var _=p(r,d,l[g],a);if(null===_){null===d&&(d=m);break}e&&d&&null===_.alternate&&t(r,d),s=i(_,s,g),null===c?u=_:c.sibling=_,c=_,d=m}if(g===l.length)return n(r,d),ow&&oT(r,g),u;if(null===d){for(;g<l.length;g++)null!==(d=h(r,l[g],a))&&(s=i(d,s,g),null===c?u=d:c.sibling=d,c=d);return ow&&oT(r,g),u}for(d=o(d);g<l.length;g++)null!==(m=f(d,r,g,l[g],a))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),s=i(m,s,g),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach(function(e){return t(r,e)}),ow&&oT(r,g),u}(u,c,d,b);if($(d)){if("function"!=typeof(y=$(d)))throw Error(l(150));return function(r,s,a,u){if(null==a)throw Error(l(151));for(var c=null,d=null,g=s,m=s=0,_=null,b=a.next();null!==g&&!b.done;m++,b=a.next()){g.index>m?(_=g,g=null):_=g.sibling;var y=p(r,g,b.value,u);if(null===y){null===g&&(g=_);break}e&&g&&null===y.alternate&&t(r,g),s=i(y,s,m),null===d?c=y:d.sibling=y,d=y,g=_}if(b.done)return n(r,g),ow&&oT(r,m),c;if(null===g){for(;!b.done;m++,b=a.next())null!==(b=h(r,b.value,u))&&(s=i(b,s,m),null===d?c=b:d.sibling=b,d=b);return ow&&oT(r,m),c}for(g=o(g);!b.done;m++,b=a.next())null!==(b=f(g,r,m,b.value,u))&&(e&&null!==b.alternate&&g.delete(null===b.key?m:b.key),s=i(b,s,m),null===d?c=b:d.sibling=b,d=b);return e&&g.forEach(function(e){return t(r,e)}),ow&&oT(r,m),c}(u,c,d=y.call(d),b)}if("function"==typeof d.then)return a(u,c,i1(d),b);if(d.$$typeof===v)return a(u,c,oY(u,d),b);i5(u,d)}return"string"==typeof d&&""!==d||"number"==typeof d||"bigint"==typeof d?(d=""+d,null!==c&&6===c.tag?(n(u,c.sibling),(b=r(c,d)).return=u):(n(u,c),(b=ou(d,u.mode,b)).return=u),s(u=b)):n(u,c)}(a,u,c,d);return iQ=null,b}catch(e){if(e===rn||e===rr)throw e;var y=oo(29,e,null,a.mode);return y.lanes=d,y.return=a,y}finally{}}}var i6=i4(!0),i8=i4(!1),i9=F(null),i7=null;function se(e){var t=e.alternate;H(sr,1&sr.current),H(i9,e),null===i7&&(null===t||null!==rI.current?i7=e:null!==t.memoizedState&&(i7=e))}function st(e){if(22===e.tag){if(H(sr,sr.current),H(i9,e),null===i7){var t=e.alternate;null!==t&&null!==t.memoizedState&&(i7=e)}}else sn(e)}function sn(){H(sr,sr.current),H(i9,i9.current)}function so(e){U(i9),i7===e&&(i7=null),U(sr)}var sr=F(0);function si(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||uv(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ss(e,t,n,o){n=null==(n=n(o,t=e.memoizedState))?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var sl={enqueueSetState:function(e,t,n){e=e._reactInternals;var o=l7(),r=rg(o);r.payload=t,null!=n&&(r.callback=n),null!==(t=rm(e,r,o))&&(at(t,e,o),r_(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=l7(),r=rg(o);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=rm(e,r,o))&&(at(t,e,o),r_(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=l7(),o=rg(n);o.tag=2,null!=t&&(o.callback=t),null!==(t=rm(e,o,n))&&(at(t,e,n),r_(t,e,n))}};function sa(e,t,n,o,r,i,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,i,s):!t.prototype||!t.prototype.isPureReactComponent||!nO(n,o)||!nO(r,i)}function su(e,t,n,o){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&sl.enqueueReplaceState(t,t.state,null)}function sc(e,t){var n=t;if("ref"in t)for(var o in n={},t)"ref"!==o&&(n[o]=t[o]);if(e=e.defaultProps)for(var r in n===t&&(n=p({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var sd="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}console.error(e)};function sh(e){sd(e)}function sp(e){console.error(e)}function sf(e){sd(e)}function sg(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function sm(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function s_(e,t,n){return(n=rg(n)).tag=3,n.payload={element:null},n.callback=function(){sg(e,t)},n}function sb(e){return(e=rg(e)).tag=3,e}function sy(e,t,n,o){var r=n.type.getDerivedStateFromError;if("function"==typeof r){var i=o.value;e.payload=function(){return r(i)},e.callback=function(){sm(t,n,o)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){sm(t,n,o),"function"!=typeof r&&(null===lQ?lQ=new Set([this]):lQ.add(this));var e=o.stack;this.componentDidCatch(o.value,{componentStack:null!==e?e:""})})}var sT=Error(l(461)),sE=!1;function sv(e,t,n,o){t.child=null===e?i8(t,null,n,o):i6(t,e.child,n,o)}function sC(e,t,n,o,r){n=n.render;var i=t.ref;if("ref"in o){var s={};for(var l in o)"ref"!==l&&(s[l]=o[l])}else s=o;return(oz(t),o=rV(e,t,n,s,i,r),l=rz(),null===e||sE)?(ow&&l&&ov(t),t.flags|=1,sv(e,t,o,r),t.child):(rX(e,t,r),sG(e,t,r))}function sI(e,t,n,o,r){if(null===e){var i=n.type;return"function"!=typeof i||or(i)||void 0!==i.defaultProps||null!==n.compare?((e=ol(n.type,null,o,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,sS(e,t,i,o,r))}if(i=e.child,!sj(e,r)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:nO)(s,o)&&e.ref===t.ref)return sG(e,t,r)}return t.flags|=1,(e=oi(i,o)).ref=t.ref,e.return=t,t.child=e}function sS(e,t,n,o,r){if(null!==e){var i=e.memoizedProps;if(nO(i,o)&&e.ref===t.ref)if(sE=!1,t.pendingProps=o=i,!sj(e,r))return t.lanes=e.lanes,sG(e,t,r);else 0!=(131072&e.flags)&&(sE=!0)}return sR(e,t,n,o,r)}function sw(e,t,n){var o=t.pendingProps,r=o.children,i=null!==e?e.memoizedState:null;if("hidden"===o.mode){if(0!=(128&t.flags)){if(o=null!==i?i.baseLanes|n:n,null!==e){for(i=0,r=t.child=e.child;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;t.childLanes=i&~o}else t.childLanes=0,t.child=null;return sk(e,t,o,n)}if(0==(0x20000000&n))return t.lanes=t.childLanes=0x20000000,sk(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&re(t,null!==i?i.cachePool:null),null!==i?rw(t,i):rk(),st(t)}else null!==i?(re(t,i.cachePool),rw(t,i),sn(t),t.memoizedState=null):(null!==e&&re(t,null),rk(),sn(t));return sv(e,t,r,n),t.child}function sk(e,t,n,o){var r=o7();return t.memoizedState={baseLanes:n,cachePool:r=null===r?null:{parent:oQ._currentValue,pool:r}},null!==e&&re(t,null),rk(),st(t),null!==e&&oj(e,t,o,!0),null}function sO(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(l(284));(null===e||e.ref!==n)&&(t.flags|=4194816)}}function sR(e,t,n,o,r){return(oz(t),n=rV(e,t,n,o,void 0,r),o=rz(),null===e||sE)?(ow&&o&&ov(t),t.flags|=1,sv(e,t,n,r),t.child):(rX(e,t,r),sG(e,t,r))}function sx(e,t,n,o,r,i){return(oz(t),t.updateQueue=null,n=rj(t,o,n,r),rG(e),o=rz(),null===e||sE)?(ow&&o&&ov(t),t.flags|=1,sv(e,t,n,i),t.child):(rX(e,t,i),sG(e,t,i))}function s$(e,t,n,o,r){if(oz(t),null===t.stateNode){var i=ot,s=n.contextType;"object"==typeof s&&null!==s&&(i=oX(s)),t.memoizedState=null!==(i=new n(o,i)).state&&void 0!==i.state?i.state:null,i.updater=sl,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=o,i.state=t.memoizedState,i.refs={},rp(t),s=n.contextType,i.context="object"==typeof s&&null!==s?oX(s):ot,i.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(ss(t,n,s,o),i.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(s=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&sl.enqueueReplaceState(i,i.state,null),rE(t,o,i,r),rT(),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308),o=!0}else if(null===e){i=t.stateNode;var l=t.memoizedProps,a=sc(n,l);i.props=a;var u=i.context,c=n.contextType;s=ot,"object"==typeof c&&null!==c&&(s=oX(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate,l=t.pendingProps!==l,c||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l||u!==s)&&su(t,i,o,s),rh=!1;var h=t.memoizedState;i.state=h,rE(t,o,i,r),rT(),u=t.memoizedState,l||h!==u||rh?("function"==typeof d&&(ss(t,n,d,o),u=t.memoizedState),(a=rh||sa(t,n,a,o,h,u,s))?(c||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=u),i.props=o,i.state=u,i.context=s,o=a):("function"==typeof i.componentDidMount&&(t.flags|=4194308),o=!1)}else{i=t.stateNode,rf(e,t),c=sc(n,s=t.memoizedProps),i.props=c,d=t.pendingProps,h=i.context,u=n.contextType,a=ot,"object"==typeof u&&null!==u&&(a=oX(u)),(u="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==d||h!==a)&&su(t,i,o,a),rh=!1,h=t.memoizedState,i.state=h,rE(t,o,i,r),rT();var p=t.memoizedState;s!==d||h!==p||rh||null!==e&&null!==e.dependencies&&oW(e.dependencies)?("function"==typeof l&&(ss(t,n,l,o),p=t.memoizedState),(c=rh||sa(t,n,c,o,h,p,a)||null!==e&&null!==e.dependencies&&oW(e.dependencies))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(o,p,a),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(o,p,a)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=p),i.props=o,i.state=p,i.context=a,o=c):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),o=!1)}return i=o,sO(e,t),o=0!=(128&t.flags),i||o?(i=t.stateNode,n=o&&"function"!=typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&o?(t.child=i6(t,e.child,null,r),t.child=i6(t,null,n,r)):sv(e,t,n,r),t.memoizedState=i.state,e=t.child):e=sG(e,t,r),e}function sA(e,t,n,o){return oM(),t.flags|=256,sv(e,t,n,o),t.child}var sN={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sM(e){return{baseLanes:e,cachePool:rt()}}function sL(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=lW),e}function sD(e,t,n){var o,r=t.pendingProps,i=!1,s=0!=(128&t.flags);if((o=s)||(o=(null===e||null!==e.memoizedState)&&0!=(2&sr.current)),o&&(i=!0,t.flags&=-129),o=0!=(32&t.flags),t.flags&=-33,null===e){if(ow){if(i?se(t):sn(t),ow){var a,u=oS;if(a=u){n:{for(a=u,u=oO;8!==a.nodeType;)if(!u||null===(a=uC(a.nextSibling))){u=null;break n}u=a}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==o_?{id:ob,overflow:oy}:null,retryLane:0x20000000,hydrationErrors:null},(a=oo(18,null,null,0)).stateNode=u,a.return=t,t.child=a,oI=t,oS=null,a=!0):a=!1}a||ox(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return uv(u)?t.lanes=32:t.lanes=0x20000000,null;so(t)}return(u=r.children,r=r.fallback,i)?(sn(t),u=sB({mode:"hidden",children:u},i=t.mode),r=oa(r,i,n,null),u.return=t,r.return=t,u.sibling=r,t.child=u,(i=t.child).memoizedState=sM(n),i.childLanes=sL(e,o,n),t.memoizedState=sN,r):(se(t),sP(t,u))}if(null!==(a=e.memoizedState)&&null!==(u=a.dehydrated)){if(s)256&t.flags?(se(t),t.flags&=-257,t=sF(e,t,n)):null!==t.memoizedState?(sn(t),t.child=e.child,t.flags|=128,t=null):(sn(t),i=r.fallback,u=t.mode,r=sB({mode:"visible",children:r.children},u),i=oa(i,u,n,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,i6(t,e.child,null,n),(r=t.child).memoizedState=sM(n),r.childLanes=sL(e,o,n),t.memoizedState=sN,t=i);else if(se(t),uv(u)){if(o=u.nextSibling&&u.nextSibling.dataset)var c=o.dgst;o=c,(r=Error(l(419))).stack="",r.digest=o,oD({value:r,source:null,stack:null}),t=sF(e,t,n)}else if(sE||oj(e,t,n,!1),o=0!=(n&e.childLanes),sE||o){if(null!==(o=lA)&&0!==(r=0!=((r=0!=(42&(r=n&-n))?1:ek(r))&(o.suspendedLanes|n))?0:r)&&r!==a.retryLane)throw a.retryLane=r,n9(e,r),at(o,e,r),sT;"$?"===u.data||ad(),t=sF(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=a.treeContext,oS=uC(u.nextSibling),oI=t,ow=!0,ok=null,oO=!1,null!==e&&(og[om++]=ob,og[om++]=oy,og[om++]=o_,ob=e.id,oy=e.overflow,o_=t),t=sP(t,r.children),t.flags|=4096);return t}return i?(sn(t),i=r.fallback,u=t.mode,c=(a=e.child).sibling,(r=oi(a,{mode:"hidden",children:r.children})).subtreeFlags=0x3e00000&a.subtreeFlags,null!==c?i=oi(c,i):(i=oa(i,u,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,null===(u=e.child.memoizedState)?u=sM(n):(null!==(a=u.cachePool)?(c=oQ._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=rt(),u={baseLanes:u.baseLanes|n,cachePool:a}),i.memoizedState=u,i.childLanes=sL(e,o,n),t.memoizedState=sN,r):(se(t),e=(n=e.child).sibling,(n=oi(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(o=t.deletions)?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function sP(e,t){return(t=sB({mode:"visible",children:t},e.mode)).return=e,e.child=t}function sB(e,t){return(e=oo(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function sF(e,t,n){return i6(t,e.child,null,n),e=sP(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sU(e,t,n){e.lanes|=t;var o=e.alternate;null!==o&&(o.lanes|=t),oV(e.return,t,n)}function sH(e,t,n,o,r){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function sV(e,t,n){var o=t.pendingProps,r=o.revealOrder,i=o.tail;if(sv(e,t,o.children,n),0!=(2&(o=sr.current)))o=1&o|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&sU(e,n,t);else if(19===e.tag)sU(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(H(sr,o),r){case"forwards":for(r=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===si(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),sH(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===si(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}sH(t,!0,n,null,i);break;case"together":sH(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sG(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),lV|=t.lanes,0==(n&t.childLanes)){if(null===e)return null;else if(oj(e,t,n,!1),0==(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=oi(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=oi(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sj(e,t){return 0!=(e.lanes&t)||!!(null!==(e=e.dependencies)&&oW(e))}function sW(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)sE=!0;else{if(!sj(e,n)&&0==(128&t.flags))return sE=!1,function(e,t,n){switch(t.tag){case 3:z(t,t.stateNode.containerInfo),oU(t,oQ,e.memoizedState.cache),oM();break;case 27:case 5:Y(t);break;case 4:z(t,t.stateNode.containerInfo);break;case 10:oU(t,t.type,t.memoizedProps.value);break;case 13:var o=t.memoizedState;if(null!==o){if(null!==o.dehydrated)return se(t),t.flags|=128,null;if(0!=(n&t.child.childLanes))return sD(e,t,n);return se(t),null!==(e=sG(e,t,n))?e.sibling:null}se(t);break;case 19:var r=0!=(128&e.flags);if((o=0!=(n&t.childLanes))||(oj(e,t,n,!1),o=0!=(n&t.childLanes)),r){if(o)return sV(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),H(sr,sr.current),!o)return null;break;case 22:case 23:return t.lanes=0,sw(e,t,n);case 24:oU(t,oQ,e.memoizedState.cache)}return sG(e,t,n)}(e,t,n);sE=0!=(131072&e.flags)}else sE=!1,ow&&0!=(1048576&t.flags)&&oE(t,of,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var o=t.elementType,r=o._init;if(o=r(o._payload),t.type=o,"function"==typeof o)or(o)?(e=sc(o,e),t.tag=1,t=s$(null,t,o,e,n)):(t.tag=0,t=sR(null,t,o,e,n));else{if(null!=o){if((r=o.$$typeof)===C){t.tag=11,t=sC(null,t,o,e,n);break e}else if(r===w){t.tag=14,t=sI(null,t,o,e,n);break e}}throw Error(l(306,t=function e(t){if(null==t)return null;if("function"==typeof t)return t.$$typeof===A?null:t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case _:return"Fragment";case y:return"Profiler";case b:return"StrictMode";case I:return"Suspense";case S:return"SuspenseList";case O:return"Activity"}if("object"==typeof t)switch(t.$$typeof){case m:return"Portal";case v:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case C:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case w:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case k:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(o)||o,""))}}return t;case 0:return sR(e,t,t.type,t.pendingProps,n);case 1:return r=sc(o=t.type,t.pendingProps),s$(e,t,o,r,n);case 3:e:{if(z(t,t.stateNode.containerInfo),null===e)throw Error(l(387));o=t.pendingProps;var i=t.memoizedState;r=i.element,rf(e,t),rE(t,o,null,n);var s=t.memoizedState;if(oU(t,oQ,o=s.cache),o!==i.cache&&oG(t,[oQ],n,!0),rT(),o=s.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=sA(e,t,o,n);break e}else if(o!==r){oD(r=n1(Error(l(424)),t)),t=sA(e,t,o,n);break e}else for(oS=uC((e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e).firstChild),oI=t,ow=!0,ok=null,oO=!0,n=i8(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling;else{if(oM(),o===r){t=sG(e,t,n);break e}sv(e,t,o,n)}t=t.child}return t;case 26:return sO(e,t),null===e?(n=uM(t.type,null,t.pendingProps,null))?t.memoizedState=n:ow||(n=t.type,e=t.pendingProps,(o=uu(j.current).createElement(n))[e$]=t,o[eA]=e,us(o,n,e),ej(o),t.stateNode=o):t.memoizedState=uM(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&ow&&(o=t.stateNode=uw(t.type,t.pendingProps,j.current),oI=t,oO=!0,r=oS,uy(t.type)?(uI=r,oS=uC(o.firstChild)):oS=r),sv(e,t,t.pendingProps.children,n),sO(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ow&&((r=o=oS)&&(null!==(o=function(e,t,n,o){for(;1===e.nodeType;){if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(o){if(!e[eB])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence")||r!==n.rel||e.getAttribute("href")!==(null==n.href||""===n.href?null:n.href)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin)||e.getAttribute("title")!==(null==n.title?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==n.src?null:n.src)||e.getAttribute("type")!==(null==n.type?null:n.type)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==n.name?null:""+n.name;if("hidden"===n.type&&e.getAttribute("name")===r)return e}if(null===(e=uC(e.nextSibling)))break}return null}(o,t.type,t.pendingProps,oO))?(t.stateNode=o,oI=t,oS=uC(o.firstChild),oO=!1,r=!0):r=!1),r||ox(t)),Y(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,uh(r,i)?o=null:null!==s&&uh(r,s)&&(t.flags|=32),null!==t.memoizedState&&(u0._currentValue=r=rV(e,t,rW,null,null,n)),sO(e,t),sv(e,t,o,n),t.child;case 6:return null===e&&ow&&((e=n=oS)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;)if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n||null===(e=uC(e.nextSibling)))return null;return e}(n,t.pendingProps,oO))?(t.stateNode=n,oI=t,oS=null,e=!0):e=!1),e||ox(t)),null;case 13:return sD(e,t,n);case 4:return z(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=i6(t,null,o,n):sv(e,t,o,n),t.child;case 11:return sC(e,t,t.type,t.pendingProps,n);case 7:return sv(e,t,t.pendingProps,n),t.child;case 8:case 12:return sv(e,t,t.pendingProps.children,n),t.child;case 10:return o=t.pendingProps,oU(t,t.type,o.value),sv(e,t,o.children,n),t.child;case 9:return r=t.type._context,o=t.pendingProps.children,oz(t),o=o(r=oX(r)),t.flags|=1,sv(e,t,o,n),t.child;case 14:return sI(e,t,t.type,t.pendingProps,n);case 15:return sS(e,t,t.type,t.pendingProps,n);case 19:return sV(e,t,n);case 31:return o=t.pendingProps,n=t.mode,o={mode:o.mode,children:o.children},null===e?(n=sB(o,n)).ref=t.ref:(n=oi(e.child,o)).ref=t.ref,t.child=n,n.return=t,t=n;case 22:return sw(e,t,n);case 24:return oz(t),o=oX(oQ),null===e?(null===(r=o7())&&(r=lA,i=o0(),r.pooledCache=i,i.refCount++,null!==i&&(r.pooledCacheLanes|=n),r=i),t.memoizedState={parent:o,cache:r},rp(t),oU(t,oQ,r)):(0!=(e.lanes&n)&&(rf(e,t),rE(t,null,null,n),rT()),r=e.memoizedState,i=t.memoizedState,r.parent!==o?(r={parent:o,cache:o},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),oU(t,oQ,o)):(oU(t,oQ,o=i.cache),o!==r.cache&&oG(t,[oQ],n,!0))),sv(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function sz(e){e.flags|=4}function sX(e,t){if("stylesheet"!==t.type||0!=(4&t.state.loading))e.flags&=-0x1000001;else if(e.flags|=0x1000000,!uX(t)){if(null!==(t=i9.current)&&((4194048&lM)===lM?null!==i7:(0x3c00000&lM)!==lM&&0==(0x20000000&lM)||t!==i7))throw ru=ri,ro;e.flags|=8192}}function sY(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ev():0x20000000,e.lanes|=t,lz|=t)}function sK(e,t){if(!ow)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function sJ(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=0x3e00000&r.subtreeFlags,o|=0x3e00000&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function sZ(e,t){switch(oC(t),t.tag){case 3:oH(oQ),X();break;case 26:case 27:case 5:K(t);break;case 4:X();break;case 13:so(t);break;case 19:U(sr);break;case 10:oH(t.type);break;case 22:case 23:so(t),rO(),null!==e&&U(o9);break;case 24:oH(oQ)}}function sq(e,t){try{var n=t.updateQueue,o=null!==n?n.lastEffect:null;if(null!==o){var r=o.next;n=r;do{if((n.tag&e)===e){o=void 0;var i=n.create;n.inst.destroy=o=i()}n=n.next}while(n!==r)}}catch(e){aw(t,t.return,e)}}function sQ(e,t,n){try{var o=t.updateQueue,r=null!==o?o.lastEffect:null;if(null!==r){var i=r.next;o=i;do{if((o.tag&e)===e){var s=o.inst,l=s.destroy;if(void 0!==l){s.destroy=void 0,r=t;try{l()}catch(e){aw(r,n,e)}}}o=o.next}while(o!==i)}}catch(e){aw(t,t.return,e)}}function s0(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{rC(t,n)}catch(t){aw(e,e.return,t)}}}function s1(e,t,n){n.props=sc(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){aw(e,t,n)}}function s2(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;default:o=e.stateNode}"function"==typeof n?e.refCleanup=n(o):n.current=o}}catch(n){aw(e,t,n)}}function s5(e,t){var n=e.ref,o=e.refCleanup;if(null!==n)if("function"==typeof o)try{o()}catch(n){aw(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){aw(e,t,n)}else n.current=null}function s3(e){var t=e.type,n=e.memoizedProps,o=e.stateNode;try{switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&o.focus();break;case"img":n.src?o.src=n.src:n.srcSet&&(o.srcset=n.srcSet)}}catch(t){aw(e,e.return,t)}}function s4(e,t,n){try{var o=e.stateNode;(function(e,t,n,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,s=null,a=null,u=null,c=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":u=h;default:o.hasOwnProperty(f)||ur(e,t,f,null,o,h)}}for(var p in o){var f=o[p];if(h=n[p],o.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":i=f;break;case"name":r=f;break;case"checked":c=f;break;case"defaultChecked":d=f;break;case"value":s=f;break;case"defaultValue":a=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(l(137,t));break;default:f!==h&&ur(e,t,p,f,o,h)}}tn(e,s,a,u,c,d,i,r);return;case"select":for(i in f=s=a=p=null,n)if(u=n[i],n.hasOwnProperty(i)&&null!=u)switch(i){case"value":break;case"multiple":f=u;default:o.hasOwnProperty(i)||ur(e,t,i,null,o,u)}for(r in o)if(i=o[r],u=n[r],o.hasOwnProperty(r)&&(null!=i||null!=u))switch(r){case"value":p=i;break;case"defaultValue":a=i;break;case"multiple":s=i;default:i!==u&&ur(e,t,r,i,o,u)}t=a,n=s,o=f,null!=p?ti(e,!!n,p,!1):!!o!=!!n&&(null!=t?ti(e,!!n,t,!0):ti(e,!!n,n?[]:"",!1));return;case"textarea":for(a in f=p=null,n)if(r=n[a],n.hasOwnProperty(a)&&null!=r&&!o.hasOwnProperty(a))switch(a){case"value":case"children":break;default:ur(e,t,a,null,o,r)}for(s in o)if(r=o[s],i=n[s],o.hasOwnProperty(s)&&(null!=r||null!=i))switch(s){case"value":p=r;break;case"defaultValue":f=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(l(91));break;default:r!==i&&ur(e,t,s,r,o,i)}ts(e,p,f);return;case"option":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!o.hasOwnProperty(g)&&("selected"===g?e.selected=!1:ur(e,t,g,null,o,p));for(u in o)p=o[u],f=n[u],o.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f)&&("selected"===u?e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p:ur(e,t,u,p,o,f));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)p=n[m],n.hasOwnProperty(m)&&null!=p&&!o.hasOwnProperty(m)&&ur(e,t,m,null,o,p);for(c in o)if(p=o[c],f=n[c],o.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(l(137,t));break;default:ur(e,t,c,p,o,f)}return;default:if(th(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&void 0!==p&&!o.hasOwnProperty(_)&&ui(e,t,_,void 0,o,p);for(d in o)p=o[d],f=n[d],o.hasOwnProperty(d)&&p!==f&&(void 0!==p||void 0!==f)&&ui(e,t,d,p,o,f);return}}for(var b in n)p=n[b],n.hasOwnProperty(b)&&null!=p&&!o.hasOwnProperty(b)&&ur(e,t,b,null,o,p);for(h in o)p=o[h],f=n[h],o.hasOwnProperty(h)&&p!==f&&(null!=p||null!=f)&&ur(e,t,h,p,o,f)})(o,e.type,n,t),o[eA]=t}catch(t){aw(e,e.return,t)}}function s6(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&uy(e.type)||4===e.tag}function s8(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||s6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&uy(e.type)||2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function s9(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==o&&(27===o&&uy(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(s9(e,t,n),e=e.sibling;null!==e;)s9(e,t,n),e=e.sibling}function s7(e){var t=e.stateNode,n=e.memoizedProps;try{for(var o=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);us(t,o,n),t[e$]=e,t[eA]=n}catch(t){aw(e,e.return,t)}}var le=!1,lt=!1,ln=!1,lo="function"==typeof WeakSet?WeakSet:Set,lr=null;function li(e,t,n){var o=n.flags;switch(n.tag){case 0:case 11:case 15:lm(e,n),4&o&&sq(5,n);break;case 1:if(lm(e,n),4&o)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){aw(n,n.return,e)}else{var r=sc(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){aw(n,n.return,e)}}64&o&&s0(n),512&o&&s2(n,n.return);break;case 3:if(lm(e,n),64&o&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{rC(e,t)}catch(e){aw(n,n.return,e)}}break;case 27:null===t&&4&o&&s7(n);case 26:case 5:lm(e,n),null===t&&4&o&&s3(n),512&o&&s2(n,n.return);break;case 12:default:lm(e,n);break;case 13:lm(e,n),4&o&&lc(e,n),64&o&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var o=function(){t(),n.removeEventListener("DOMContentLoaded",o)};n.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}(e,n=ax.bind(null,n));break;case 22:if(!(o=null!==n.memoizedState||le)){t=null!==t&&null!==t.memoizedState||lt,r=le;var i=lt;le=o,(lt=t)&&!i?function e(t,n,o){for(o=o&&0!=(8772&n.subtreeFlags),n=n.child;null!==n;){var r=n.alternate,i=t,s=n,l=s.flags;switch(s.tag){case 0:case 11:case 15:e(i,s,o),sq(4,s);break;case 1:if(e(i,s,o),"function"==typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(e){aw(r,r.return,e)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var u=i.shared.hiddenCallbacks;if(null!==u)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)rv(u[i],a)}catch(e){aw(r,r.return,e)}}o&&64&l&&s0(s),s2(s,s.return);break;case 27:s7(s);case 26:case 5:e(i,s,o),o&&null===r&&4&l&&s3(s),s2(s,s.return);break;case 12:default:e(i,s,o);break;case 13:e(i,s,o),o&&4&l&&lc(i,s);break;case 22:null===s.memoizedState&&e(i,s,o),s2(s,s.return);case 30:}n=n.sibling}}(e,n,0!=(8772&n.subtreeFlags)):lm(e,n),le=r,lt=i}case 30:}}var ls=null,ll=!1;function la(e,t,n){for(n=n.child;null!==n;)lu(e,t,n),n=n.sibling}function lu(e,t,n){if(ed&&"function"==typeof ed.onCommitFiberUnmount)try{ed.onCommitFiberUnmount(ec,n)}catch(e){}switch(n.tag){case 26:lt||s5(n,t),la(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:lt||s5(n,t);var o=ls,r=ll;uy(n.type)&&(ls=n.stateNode,ll=!1),la(e,t,n),uk(n.stateNode),ls=o,ll=r;break;case 5:lt||s5(n,t);case 6:if(o=ls,r=ll,ls=null,la(e,t,n),ls=o,ll=r,null!==ls)if(ll)try{(9===ls.nodeType?ls.body:"HTML"===ls.nodeName?ls.ownerDocument.body:ls).removeChild(n.stateNode)}catch(e){aw(n,t,e)}else try{ls.removeChild(n.stateNode)}catch(e){aw(n,t,e)}break;case 18:null!==ls&&(ll?(uT(9===(e=ls).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),cC(e)):uT(ls,n.stateNode));break;case 4:o=ls,r=ll,ls=n.stateNode.containerInfo,ll=!0,la(e,t,n),ls=o,ll=r;break;case 0:case 11:case 14:case 15:lt||sQ(2,n,t),lt||sQ(4,n,t),la(e,t,n);break;case 1:lt||(s5(n,t),"function"==typeof(o=n.stateNode).componentWillUnmount&&s1(n,t,o)),la(e,t,n);break;case 21:default:la(e,t,n);break;case 22:lt=(o=lt)||null!==n.memoizedState,la(e,t,n),lt=o}}function lc(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{cC(e)}catch(e){aw(t,t.return,e)}}function ld(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new lo),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new lo),t;default:throw Error(l(435,e.tag))}}(e);t.forEach(function(t){var o=a$.bind(null,e,t);n.has(t)||(n.add(t),t.then(o,o))})}function lh(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var r=n[o],i=e,s=t,a=s;e:for(;null!==a;){switch(a.tag){case 27:if(uy(a.type)){ls=a.stateNode,ll=!1;break e}break;case 5:ls=a.stateNode,ll=!1;break e;case 3:case 4:ls=a.stateNode.containerInfo,ll=!0;break e}a=a.return}if(null===ls)throw Error(l(160));lu(i,s,r),ls=null,ll=!1,null!==(i=r.alternate)&&(i.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)lf(t,e),t=t.sibling}var lp=null;function lf(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:lh(t,e),lg(e),4&o&&(sQ(3,e,e.return),sq(3,e),sQ(5,e,e.return));break;case 1:lh(t,e),lg(e),512&o&&(lt||null===n||s5(n,n.return)),64&o&&le&&null!==(e=e.updateQueue)&&null!==(o=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?o:n.concat(o));break;case 26:var r=lp;if(lh(t,e),lg(e),512&o&&(lt||null===n||s5(n,n.return)),4&o){var i=null!==n?n.memoizedState:null;if(o=e.memoizedState,null===n)if(null===o)if(null===e.stateNode){e:{o=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(o){case"title":(!(i=r.getElementsByTagName("title")[0])||i[eB]||i[e$]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=r.createElement(o),r.head.insertBefore(i,r.querySelector("head > title"))),us(i,o,n),i[e$]=e,ej(i),o=i;break e;case"link":var s=uW("link","href",r).get(o+(n.href||""));if(s){for(var a=0;a<s.length;a++)if((i=s[a]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(a,1);break t}}us(i=r.createElement(o),o,n),r.head.appendChild(i);break;case"meta":if(s=uW("meta","content",r).get(o+(n.content||""))){for(a=0;a<s.length;a++)if((i=s[a]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(a,1);break t}}us(i=r.createElement(o),o,n),r.head.appendChild(i);break;default:throw Error(l(468,o))}i[e$]=e,ej(i),o=i}e.stateNode=o}else uz(r,e.type,e.stateNode);else e.stateNode=uU(r,o,e.memoizedProps);else i!==o?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===o?uz(r,e.type,e.stateNode):uU(r,o,e.memoizedProps)):null===o&&null!==e.stateNode&&s4(e,e.memoizedProps,n.memoizedProps)}break;case 27:lh(t,e),lg(e),512&o&&(lt||null===n||s5(n,n.return)),null!==n&&4&o&&s4(e,e.memoizedProps,n.memoizedProps);break;case 5:if(lh(t,e),lg(e),512&o&&(lt||null===n||s5(n,n.return)),32&e.flags){r=e.stateNode;try{ta(r,"")}catch(t){aw(e,e.return,t)}}4&o&&null!=e.stateNode&&(r=e.memoizedProps,s4(e,r,null!==n?n.memoizedProps:r)),1024&o&&(ln=!0);break;case 6:if(lh(t,e),lg(e),4&o){if(null===e.stateNode)throw Error(l(162));o=e.memoizedProps,n=e.stateNode;try{n.nodeValue=o}catch(t){aw(e,e.return,t)}}break;case 3:if(uj=null,r=lp,lp=ux(t.containerInfo),lh(t,e),lp=r,lg(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{cC(t.containerInfo)}catch(t){aw(e,e.return,t)}ln&&(ln=!1,function e(t){if(1024&t.subtreeFlags)for(t=t.child;null!==t;){var n=t;e(n),5===n.tag&&1024&n.flags&&n.stateNode.reset(),t=t.sibling}}(e));break;case 4:o=lp,lp=ux(e.stateNode.containerInfo),lh(t,e),lg(e),lp=o;break;case 12:default:lh(t,e),lg(e);break;case 13:lh(t,e),lg(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(lJ=et()),4&o&&null!==(o=e.updateQueue)&&(e.updateQueue=null,ld(e,o));break;case 22:r=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=le,d=lt;if(le=c||r,lt=d||u,lh(t,e),lt=d,le=c,lg(e),8192&o)e:for((t=e.stateNode)._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||u||le||lt||function e(t){for(t=t.child;null!==t;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:sQ(4,n,n.return),e(n);break;case 1:s5(n,n.return);var o=n.stateNode;"function"==typeof o.componentWillUnmount&&s1(n,n.return,o),e(n);break;case 27:uk(n.stateNode);case 26:case 5:s5(n,n.return),e(n);break;case 22:null===n.memoizedState&&e(n);break;default:e(n)}t=t.sibling}}(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,r)s=i.style,"function"==typeof s.setProperty?s.setProperty("display","none","important"):s.display="none";else{a=u.stateNode;var h=u.memoizedProps.style,p=null!=h&&h.hasOwnProperty("display")?h.display:null;a.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(e){aw(u,u.return,e)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(e){aw(u,u.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&o&&null!==(o=e.updateQueue)&&null!==(n=o.retryQueue)&&(o.retryQueue=null,ld(e,n));break;case 19:lh(t,e),lg(e),4&o&&null!==(o=e.updateQueue)&&(e.updateQueue=null,ld(e,o));case 30:case 21:}}function lg(e){var t=e.flags;if(2&t){try{for(var n,o=e.return;null!==o;){if(s6(o)){n=o;break}o=o.return}if(null==n)throw Error(l(160));switch(n.tag){case 27:var r=n.stateNode,i=s8(e);s9(e,i,r);break;case 5:var s=n.stateNode;32&n.flags&&(ta(s,""),n.flags&=-33);var a=s8(e);s9(e,a,s);break;case 3:case 4:var u=n.stateNode.containerInfo,c=s8(e);!function e(t,n,o){var r=t.tag;if(5===r||6===r)t=t.stateNode,n?(9===o.nodeType?o.body:"HTML"===o.nodeName?o.ownerDocument.body:o).insertBefore(t,n):((n=9===o.nodeType?o.body:"HTML"===o.nodeName?o.ownerDocument.body:o).appendChild(t),null!=(o=o._reactRootContainer)||null!==n.onclick||(n.onclick=uo));else if(4!==r&&(27===r&&uy(t.type)&&(o=t.stateNode,n=null),null!==(t=t.child)))for(e(t,n,o),t=t.sibling;null!==t;)e(t,n,o),t=t.sibling}(e,c,u);break;default:throw Error(l(161))}}catch(t){aw(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function lm(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)li(e,t.alternate,t),t=t.sibling}function l_(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&o1(n))}function lb(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&o1(e))}function ly(e,t,n,o){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)lT(e,t,n,o),t=t.sibling}function lT(e,t,n,o){var r=t.flags;switch(t.tag){case 0:case 11:case 15:ly(e,t,n,o),2048&r&&sq(9,t);break;case 1:case 13:default:ly(e,t,n,o);break;case 3:ly(e,t,n,o),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&o1(e)));break;case 12:if(2048&r){ly(e,t,n,o),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,l=i.onPostCommit;"function"==typeof l&&l(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){aw(t,t.return,e)}}else ly(e,t,n,o);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?ly(e,t,n,o):lE(e,t):2&i._visibility?ly(e,t,n,o):(i._visibility|=2,function e(t,n,o,r,i){for(i=i&&0!=(10256&n.subtreeFlags),n=n.child;null!==n;){var s=n,l=s.flags;switch(s.tag){case 0:case 11:case 15:e(t,s,o,r,i),sq(8,s);break;case 23:break;case 22:var a=s.stateNode;null!==s.memoizedState?2&a._visibility?e(t,s,o,r,i):lE(t,s):(a._visibility|=2,e(t,s,o,r,i)),i&&2048&l&&l_(s.alternate,s);break;case 24:e(t,s,o,r,i),i&&2048&l&&lb(s.alternate,s);break;default:e(t,s,o,r,i)}n=n.sibling}}(e,t,n,o,0!=(10256&t.subtreeFlags))),2048&r&&l_(s,t);break;case 24:ly(e,t,n,o),2048&r&&lb(t.alternate,t)}}function lE(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=t,o=n.flags;switch(n.tag){case 22:lE(e,n),2048&o&&l_(n.alternate,n);break;case 24:lE(e,n),2048&o&&lb(n.alternate,n);break;default:lE(e,n)}t=t.sibling}}var lv=8192;function lC(e){if(e.subtreeFlags&lv)for(e=e.child;null!==e;)lI(e),e=e.sibling}function lI(e){switch(e.tag){case 26:lC(e),e.flags&lv&&null!==e.memoizedState&&function(e,t,n){if(null===uY)throw Error(l(475));var o=uY;if("stylesheet"===t.type&&("string"!=typeof n.media||!1!==matchMedia(n.media).matches)&&0==(4&t.state.loading)){if(null===t.instance){var r=uL(n.href),i=e.querySelector(uD(r));if(i){null!==(e=i._p)&&"object"==typeof e&&"function"==typeof e.then&&(o.count++,o=uJ.bind(o),e.then(o,o)),t.state.loading|=4,t.instance=i,ej(i);return}i=e.ownerDocument||e,n=uP(n),(r=uO.get(r))&&uV(n,r),ej(i=i.createElement("link"));var s=i;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),us(i,"link",n),t.instance=i}null===o.stylesheets&&(o.stylesheets=new Map),o.stylesheets.set(t,e),(e=t.state.preload)&&0==(3&t.state.loading)&&(o.count++,t=uJ.bind(o),e.addEventListener("load",t),e.addEventListener("error",t))}}(lp,e.memoizedState,e.memoizedProps);break;case 5:default:lC(e);break;case 3:case 4:var t=lp;lp=ux(e.stateNode.containerInfo),lC(e),lp=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=lv,lv=0x1000000,lC(e),lv=t):lC(e))}}function lS(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(null!==e)}}function lw(e){var t=e.deletions;if(0!=(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var o=t[n];lr=o,lO(o,e)}lS(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lk(e),e=e.sibling}function lk(e){switch(e.tag){case 0:case 11:case 15:lw(e),2048&e.flags&&sQ(9,e,e.return);break;case 3:case 12:default:lw(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,function e(t){var n=t.deletions;if(0!=(16&t.flags)){if(null!==n)for(var o=0;o<n.length;o++){var r=n[o];lr=r,lO(r,t)}lS(t)}for(t=t.child;null!==t;){switch((n=t).tag){case 0:case 11:case 15:sQ(8,n,n.return),e(n);break;case 22:2&(o=n.stateNode)._visibility&&(o._visibility&=-3,e(n));break;default:e(n)}t=t.sibling}}(e)):lw(e)}}function lO(e,t){for(;null!==lr;){var n=lr;switch(n.tag){case 0:case 11:case 15:sQ(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var o=n.memoizedState.cachePool.pool;null!=o&&o.refCount++}break;case 24:o1(n.memoizedState.cache)}if(null!==(o=n.child))o.return=n,lr=o;else for(n=e;null!==lr;){var r=(o=lr).sibling,i=o.return;if(!function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&eF(n),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(o),o===n){lr=null;break}if(null!==r){r.return=i,lr=r;break}lr=i}}}var lR={getCacheForType:function(e){var t=oX(oQ),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},lx="function"==typeof WeakMap?WeakMap:Map,l$=0,lA=null,lN=null,lM=0,lL=0,lD=null,lP=!1,lB=!1,lF=!1,lU=0,lH=0,lV=0,lG=0,lj=0,lW=0,lz=0,lX=null,lY=null,lK=!1,lJ=0,lZ=1/0,lq=null,lQ=null,l0=0,l1=null,l2=null,l5=0,l3=0,l4=null,l6=null,l8=0,l9=null;function l7(){if(0!=(2&l$)&&0!==lM)return lM&-lM;if(null!==M.T){var e=o3;return 0!==e?e:aW()}return eR()}function ae(){0===lW&&(lW=0==(0x20000000&lM)||ow?eE():0x20000000);var e=i9.current;return null!==e&&(e.flags|=32),lW}function at(e,t,n){(e===lA&&(2===lL||9===lL)||null!==e.cancelPendingCommit)&&(al(e,0),ar(e,lM,lW,!1)),eI(e,n),(0==(2&l$)||e!==lA)&&(e===lA&&(0==(2&l$)&&(lG|=n),4===lH&&ar(e,lM,lW,!1)),aB(e))}function an(e,t,n){if(0!=(6&l$))throw Error(l(327));for(var o=!n&&0==(124&t)&&0==(t&e.expiredLanes)||eT(e,t),r=o?function(e,t){var n=l$;l$|=2;var o=au(),r=ac();lA!==e||lM!==t?(lq=null,lZ=et()+500,al(e,t)):lB=eT(e,t);e:for(;;)try{if(0!==lL&&null!==lN){t=lN;var i=lD;t:switch(lL){case 1:lL=0,lD=null,ag(e,t,i,1);break;case 2:case 9:if(rs(i)){lL=0,lD=null,af(t);break}t=function(){2!==lL&&9!==lL||lA!==e||(lL=7),aB(e)},i.then(t,t);break e;case 3:lL=7;break e;case 4:lL=5;break e;case 7:rs(i)?(lL=0,lD=null,af(t)):(lL=0,lD=null,ag(e,t,i,7));break;case 5:var s=null;switch(lN.tag){case 26:s=lN.memoizedState;case 5:case 27:var a=lN;if(s?uX(s):1){lL=0,lD=null;var u=a.sibling;if(null!==u)lN=u;else{var c=a.return;null!==c?(lN=c,am(c)):lN=null}break t}}lL=0,lD=null,ag(e,t,i,5);break;case 6:lL=0,lD=null,ag(e,t,i,6);break;case 8:as(),lH=6;break e;default:throw Error(l(462))}}for(;null!==lN&&!Q();)ap(lN);break}catch(t){aa(e,t)}return(oF=oB=null,M.H=o,M.A=r,l$=n,null!==lN)?0:(lA=null,lM=0,n4(),lH)}(e,t):ah(e,t,!0),i=o;;){if(0===r)lB&&!o&&ar(e,t,0,!1);else{if(n=e.current.alternate,i&&!function(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!nk(i(),r))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)){r=ah(e,t,!1),i=!1;continue}if(2===r){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!=(s=-0x20000001&e.pendingLanes)?s:0x20000000&s?0x20000000:0;if(0!==s){t=s;e:{r=lX;var a=e.current.memoizedState.isDehydrated;if(a&&(al(e,s).flags|=256),2!==(s=ah(e,s,!1))){if(lF&&!a){e.errorRecoveryDisabledLanes|=i,lG|=i,r=4;break e}i=lY,lY=r,null!==i&&(null===lY?lY=i:lY.push.apply(lY,i))}r=s}if(i=!1,2!==r)continue}}if(1===r){al(e,0),ar(e,t,0,!0);break}e:{switch(o=e,i=r){case 0:case 1:throw Error(l(345));case 4:if((4194048&t)!==t)break;case 6:ar(o,t,lW,!lP);break e;case 2:lY=null;break;case 3:case 5:break;default:throw Error(l(329))}if((0x3c00000&t)===t&&10<(r=lJ+300-et())){if(ar(o,t,lW,!lP),0!==ey(o,0,!0))break e;o.timeoutHandle=uf(ao.bind(null,o,n,lY,lq,lK,t,lW,lG,lz,lP,i,2,-0,0),r);break e}ao(o,n,lY,lq,lK,t,lW,lG,lz,lP,i,0,-0,0)}}break}aB(e)}function ao(e,t,n,o,r,i,s,a,u,c,d,h,p,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||0x1002000==(0x1002000&h))&&(uY={stylesheets:null,count:0,unsuspend:uK},lI(t),null!==(h=function(){if(null===uY)throw Error(l(475));var e=uY;return e.stylesheets&&0===e.count&&uq(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&uq(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}()))){e.cancelPendingCommit=h(ab.bind(null,e,t,i,n,o,r,s,a,u,d,1,p,f)),ar(e,i,s,!c);return}ab(e,t,i,n,o,r,s,a,u)}function ar(e,t,n,o){t&=~lj,t&=~lG,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var r=t;0<r;){var i=31-ep(r),s=1<<i;o[i]=-1,r&=~s}0!==n&&eS(e,n,t)}function ai(){return 0!=(6&l$)||(aF(0,!1),!1)}function as(){if(null!==lN){if(0===lL)var e=lN.return;else e=lN,oF=oB=null,rY(e),iQ=null,i0=0,e=lN;for(;null!==e;)sZ(e.alternate,e),e=e.return;lN=null}}function al(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ug(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),as(),lA=e,lN=n=oi(e.current,null),lM=t,lL=0,lD=null,lP=!1,lB=eT(e,t),lF=!1,lz=lW=lj=lG=lV=lH=0,lY=lX=null,lK=!1,0!=(8&t)&&(t|=32&t);var o=e.entangledLanes;if(0!==o)for(e=e.entanglements,o&=t;0<o;){var r=31-ep(o),i=1<<r;t|=e[r],o&=~i}return lU=t,n4(),n}function aa(e,t){rx=null,M.H=iK,t===rn||t===rr?(t=rc(),lL=3):t===ro?(t=rc(),lL=4):lL=t===sT?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,lD=t,null===lN&&(lH=1,sg(e,n1(t,e.current)))}function au(){var e=M.H;return M.H=iK,null===e?iK:e}function ac(){var e=M.A;return M.A=lR,e}function ad(){lH=4,lP||(4194048&lM)!==lM&&null!==i9.current||(lB=!0),0==(0x7ffffff&lV)&&0==(0x7ffffff&lG)||null===lA||ar(lA,lM,lW,!1)}function ah(e,t,n){var o=l$;l$|=2;var r=au(),i=ac();(lA!==e||lM!==t)&&(lq=null,al(e,t)),t=!1;var s=lH;e:for(;;)try{if(0!==lL&&null!==lN){var l=lN,a=lD;switch(lL){case 8:as(),s=6;break e;case 3:case 2:case 9:case 6:null===i9.current&&(t=!0);var u=lL;if(lL=0,lD=null,ag(e,l,a,u),n&&lB){s=0;break e}break;default:u=lL,lL=0,lD=null,ag(e,l,a,u)}}(function(){for(;null!==lN;)ap(lN)})(),s=lH;break}catch(t){aa(e,t)}return t&&e.shellSuspendCounter++,oF=oB=null,l$=o,M.H=r,M.A=i,null===lN&&(lA=null,lM=0,n4()),s}function ap(e){var t=sW(e.alternate,e,lU);e.memoizedProps=e.pendingProps,null===t?am(e):lN=t}function af(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=sx(n,t,t.pendingProps,t.type,void 0,lM);break;case 11:t=sx(n,t,t.pendingProps,t.type.render,t.ref,lM);break;case 5:rY(t);default:sZ(n,t),t=sW(n,t=lN=os(t,lU),lU)}e.memoizedProps=e.pendingProps,null===t?am(e):lN=t}function ag(e,t,n,o){oF=oB=null,rY(t),iQ=null,i0=0;var r=t.return;try{if(function(e,t,n,o,r){if(n.flags|=32768,null!==o&&"object"==typeof o&&"function"==typeof o.then){if(null!==(t=n.alternate)&&oj(t,n,r,!0),null!==(n=i9.current)){switch(n.tag){case 13:return null===i7?ad():null===n.alternate&&0===lH&&(lH=3),n.flags&=-257,n.flags|=65536,n.lanes=r,o===ri?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([o]):t.add(o),ak(e,o,r)),!1;case 22:return n.flags|=65536,o===ri?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([o]):n.add(o),ak(e,o,r)),!1}throw Error(l(435,n.tag))}return ak(e,o,r),ad(),!1}if(ow)return null!==(t=i9.current)?(0==(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,o!==oR&&oD(n1(e=Error(l(422),{cause:o}),n))):(o!==oR&&oD(n1(t=Error(l(423),{cause:o}),n)),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,o=n1(o,n),r=s_(e.stateNode,o,r),rb(e,r),4!==lH&&(lH=2)),!1;var i=Error(l(520),{cause:o});if(i=n1(i,n),null===lX?lX=[i]:lX.push(i),4!==lH&&(lH=2),null===t)return!0;o=n1(o,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=s_(n.stateNode,o,e),rb(n,e),!1;case 1:if(t=n.type,i=n.stateNode,0==(128&n.flags)&&("function"==typeof t.getDerivedStateFromError||null!==i&&"function"==typeof i.componentDidCatch&&(null===lQ||!lQ.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,sy(r=sb(r),e,n,o),rb(n,r),!1}n=n.return}while(null!==n)return!1}(e,r,t,n,lM)){lH=1,sg(e,n1(n,e.current)),lN=null;return}}catch(t){if(null!==r)throw lN=r,t;lH=1,sg(e,n1(n,e.current)),lN=null;return}32768&t.flags?(ow||1===o?e=!0:lB||0!=(0x20000000&lM)?e=!1:(lP=e=!0,(2===o||9===o||3===o||6===o)&&null!==(o=i9.current)&&13===o.tag&&(o.flags|=16384)),a_(t,e)):am(t)}function am(e){var t=e;do{if(0!=(32768&t.flags))return void a_(t,lP);e=t.return;var n=function(e,t,n){var o=t.pendingProps;switch(oC(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return sJ(t),null;case 3:return n=t.stateNode,o=null,null!==e&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),oH(oQ),X(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(null===e||null===e.child)&&(oN(t)?sz(t):null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,oL())),sJ(t),null;case 26:return n=t.memoizedState,null===e?(sz(t),null!==n?(sJ(t),sX(t,n)):(sJ(t),t.flags&=-0x1000001)):n?n!==e.memoizedState?(sz(t),sJ(t),sX(t,n)):(sJ(t),t.flags&=-0x1000001):(e.memoizedProps!==o&&sz(t),sJ(t),t.flags&=-0x1000001),null;case 27:K(t),n=j.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==o&&sz(t);else{if(!o){if(null===t.stateNode)throw Error(l(166));return sJ(t),null}e=V.current,oN(t)?o$(t,e):(e=uw(r,o,n),t.stateNode=e,sz(t))}return sJ(t),null;case 5:if(K(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==o&&sz(t);else{if(!o){if(null===t.stateNode)throw Error(l(166));return sJ(t),null}if(e=V.current,oN(t))o$(t,e);else{switch(r=uu(j.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof o.is?r.createElement("select",{is:o.is}):r.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e="string"==typeof o.is?r.createElement(n,{is:o.is}):r.createElement(n)}}e[e$]=t,e[eA]=o;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(t.stateNode=e,us(e,n,o),n){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break;case"img":e=!0;break;default:e=!1}e&&sz(t)}}return sJ(t),t.flags&=-0x1000001,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==o&&sz(t);else{if("string"!=typeof o&&null===t.stateNode)throw Error(l(166));if(e=j.current,oN(t)){if(e=t.stateNode,n=t.memoizedProps,o=null,null!==(r=oI))switch(r.tag){case 27:case 5:o=r.memoizedProps}e[e$]=t,(e=!!(e.nodeValue===n||null!==o&&!0===o.suppressHydrationWarning||un(e.nodeValue,n)))||ox(t)}else(e=uu(e).createTextNode(o))[e$]=t,t.stateNode=e}return sJ(t),null;case 13:if(o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=oN(t),null!==o&&null!==o.dehydrated){if(null===e){if(!r)throw Error(l(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(l(317));r[e$]=t}else oM(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;sJ(t),r=!1}else r=oL(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r){if(256&t.flags)return so(t),t;return so(t),null}}if(so(t),0!=(128&t.flags))return t.lanes=n,t;if(n=null!==o,e=null!==e&&null!==e.memoizedState,n){o=t.child,r=null,null!==o.alternate&&null!==o.alternate.memoizedState&&null!==o.alternate.memoizedState.cachePool&&(r=o.alternate.memoizedState.cachePool.pool);var i=null;null!==o.memoizedState&&null!==o.memoizedState.cachePool&&(i=o.memoizedState.cachePool.pool),i!==r&&(o.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),sY(t,t.updateQueue),sJ(t),null;case 4:return X(),null===e&&a2(t.stateNode.containerInfo),sJ(t),null;case 10:return oH(t.type),sJ(t),null;case 19:if(U(sr),null===(r=t.memoizedState))return sJ(t),null;if(o=0!=(128&t.flags),null===(i=r.rendering))if(o)sK(r,!1);else{if(0!==lH||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=si(e))){for(t.flags|=128,sK(r,!1),e=i.updateQueue,t.updateQueue=e,sY(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)os(n,e),n=n.sibling;return H(sr,1&sr.current|2),t.child}e=e.sibling}null!==r.tail&&et()>lZ&&(t.flags|=128,o=!0,sK(r,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=si(i))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,sY(t,e),sK(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate&&!ow)return sJ(t),null}else 2*et()-r.renderingStartTime>lZ&&0x20000000!==n&&(t.flags|=128,o=!0,sK(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}if(null!==r.tail)return t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=et(),t.sibling=null,e=sr.current,H(sr,o?1&e|2:1&e),t;return sJ(t),null;case 22:case 23:return so(t),rO(),o=null!==t.memoizedState,null!==e?null!==e.memoizedState!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?0!=(0x20000000&n)&&0==(128&t.flags)&&(sJ(t),6&t.subtreeFlags&&(t.flags|=8192)):sJ(t),null!==(n=t.updateQueue)&&sY(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),o=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(o=t.memoizedState.cachePool.pool),o!==n&&(t.flags|=2048),null!==e&&U(o9),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),oH(oQ),sJ(t),null;case 25:case 30:return null}throw Error(l(156,t.tag))}(t.alternate,t,lU);if(null!==n){lN=n;return}if(null!==(t=t.sibling)){lN=t;return}lN=t=e}while(null!==t)0===lH&&(lH=5)}function a_(e,t){do{var n=function(e,t){switch(oC(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oH(oQ),X(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return K(t),null;case 13:if(so(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));oM()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(sr),null;case 4:return X(),null;case 10:return oH(t.type),null;case 22:case 23:return so(t),rO(),null!==e&&U(o9),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return oH(oQ),null;default:return null}}(e.alternate,e);if(null!==n){n.flags&=32767,lN=n;return}if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling)){lN=e;return}lN=e=n}while(null!==e)lH=6,lN=null}function ab(e,t,n,o,r,i,s,a,u){e.cancelPendingCommit=null;do aC();while(0!==l0)if(0!=(6&l$))throw Error(l(327));if(null!==t){if(t===e.current)throw Error(l(177));if(!function(e,t,n,o,r,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,a=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-ep(n),d=1<<c;l[c]=0,a[c]=-1;var h=u[c];if(null!==h)for(u[c]=null,c=0;c<h.length;c++){var p=h[c];null!==p&&(p.lane&=-0x20000001)}n&=~d}0!==o&&eS(e,o,0),0!==i&&0===r&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,n,i=t.lanes|t.childLanes|n3,s,a,u),e===lA&&(lN=lA=null,lM=0),l2=t,l1=e,l5=n,l3=i,l4=r,l6=o,0!=(10256&t.subtreeFlags)||0!=(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Z(ei,function(){return aI(!0),null})):(e.callbackNode=null,e.callbackPriority=0),o=0!=(13878&t.flags),0!=(13878&t.subtreeFlags)||o){o=M.T,M.T=null,r=L.p,L.p=2,s=l$,l$|=4;try{!function(e,t){if(e=e.containerInfo,ul=u9,nA(e=n$(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var r,i=o.anchorOffset,s=o.focusNode;o=o.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var a=0,u=-1,c=-1,d=0,h=0,p=e,f=null;t:for(;;){for(;p!==n||0!==i&&3!==p.nodeType||(u=a+i),p!==s||0!==o&&3!==p.nodeType||(c=a+o),3===p.nodeType&&(a+=p.nodeValue.length),null!==(r=p.firstChild);)f=p,p=r;for(;;){if(p===e)break t;if(f===n&&++d===i&&(u=a),f===s&&++h===o&&(c=a),null!==(r=p.nextSibling))break;f=(p=f).parentNode}p=r}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ua={focusedElem:e,selectionRange:n},u9=!1,lr=t;null!==lr;)if(e=(t=lr).child,0!=(1024&t.subtreeFlags)&&null!==e)e.return=t,lr=e;else for(;null!==lr;){switch(s=(t=lr).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!=(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,o=n.stateNode;try{var g=sc(n.type,i,n.elementType===n.type);e=o.getSnapshotBeforeUpdate(g,s),o.__reactInternalSnapshotBeforeUpdate=e}catch(e){aw(n,n.return,e)}}break;case 3:if(0!=(1024&e)){if(9===(n=(e=t.stateNode.containerInfo).nodeType))uE(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":uE(e);break;default:e.textContent=""}}break;default:if(0!=(1024&e))throw Error(l(163))}if(null!==(e=t.sibling)){e.return=t.return,lr=e;break}lr=t.return}}(e,t,n)}finally{l$=s,L.p=r,M.T=o}}l0=1,ay(),aT(),aE()}}function ay(){if(1===l0){l0=0;var e=l1,t=l2,n=0!=(13878&t.flags);if(0!=(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var o=L.p;L.p=2;var r=l$;l$|=4;try{lf(t,e);var i=ua,s=n$(e.containerInfo),l=i.focusedElem,a=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(l.ownerDocument.documentElement,l)){if(null!==a&&nA(l)){var u=a.start,c=a.end;if(void 0===c&&(c=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(c,l.value.length);else{var d=l.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=l.textContent.length,g=Math.min(a.start,f),m=void 0===a.end?g:Math.min(a.end,f);!p.extend&&g>m&&(s=m,m=g,g=s);var _=nx(l,g),b=nx(l,m);if(_&&b&&(1!==p.rangeCount||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),g>m?(p.addRange(y),p.extend(b.node,b.offset)):(y.setEnd(b.node,b.offset),p.addRange(y))}}}}for(d=[],p=l;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof l.focus&&l.focus(),l=0;l<d.length;l++){var T=d[l];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}u9=!!ul,ua=ul=null}finally{l$=r,L.p=o,M.T=n}}e.current=t,l0=2}}function aT(){if(2===l0){l0=0;var e=l1,t=l2,n=0!=(8772&t.flags);if(0!=(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var o=L.p;L.p=2;var r=l$;l$|=4;try{li(e,t.alternate,t)}finally{l$=r,L.p=o,M.T=n}}l0=3}}function aE(){if(4===l0||3===l0){l0=0,ee();var e=l1,t=l2,n=l5,o=l6;0!=(10256&t.subtreeFlags)||0!=(10256&t.flags)?l0=5:(l0=0,l2=l1=null,av(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(lQ=null),eO(n),t=t.stateNode,ed&&"function"==typeof ed.onCommitFiberRoot)try{ed.onCommitFiberRoot(ec,t,void 0,128==(128&t.current.flags))}catch(e){}if(null!==o){t=M.T,r=L.p,L.p=2,M.T=null;try{for(var i=e.onRecoverableError,s=0;s<o.length;s++){var l=o[s];i(l.value,{componentStack:l.stack})}}finally{M.T=t,L.p=r}}0!=(3&l5)&&aC(),aB(e),r=e.pendingLanes,0!=(4194090&n)&&0!=(42&r)?e===l9?l8++:(l8=0,l9=e):l8=0,aF(0,!1)}}function av(e,t){0==(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,o1(t))}function aC(e){return ay(),aT(),aE(),aI(e)}function aI(){if(5!==l0)return!1;var e=l1,t=l3;l3=0;var n=eO(l5),o=M.T,r=L.p;try{L.p=32>n?32:n,M.T=null,n=l4,l4=null;var i=l1,s=l5;if(l0=0,l2=l1=null,l5=0,0!=(6&l$))throw Error(l(331));var a=l$;if(l$|=4,lk(i.current),lT(i,i.current,s,n),l$=a,aF(0,!1),ed&&"function"==typeof ed.onPostCommitFiberRoot)try{ed.onPostCommitFiberRoot(ec,i)}catch(e){}return!0}finally{L.p=r,M.T=o,av(e,t)}}function aS(e,t,n){t=n1(n,t),t=s_(e.stateNode,t,2),null!==(e=rm(e,t,2))&&(eI(e,2),aB(e))}function aw(e,t,n){if(3===e.tag)aS(e,e,n);else for(;null!==t;){if(3===t.tag){aS(t,e,n);break}if(1===t.tag){var o=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof o.componentDidCatch&&(null===lQ||!lQ.has(o))){e=n1(n,e),null!==(o=rm(t,n=sb(2),2))&&(sy(n,o,t,e),eI(o,2),aB(o));break}}t=t.return}}function ak(e,t,n){var o=e.pingCache;if(null===o){o=e.pingCache=new lx;var r=new Set;o.set(t,r)}else void 0===(r=o.get(t))&&(r=new Set,o.set(t,r));r.has(n)||(lF=!0,r.add(n),e=aO.bind(null,e,t,n),t.then(e,e))}function aO(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,lA===e&&(lM&n)===n&&(4===lH||3===lH&&(0x3c00000&lM)===lM&&300>et()-lJ?0==(2&l$)&&al(e,0):lj|=n,lz===lM&&(lz=0)),aB(e)}function aR(e,t){0===t&&(t=ev()),null!==(e=n9(e,t))&&(eI(e,t),aB(e))}function ax(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),aR(e,n)}function a$(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(l(314))}null!==o&&o.delete(t),aR(e,n)}var aA=null,aN=null,aM=!1,aL=!1,aD=!1,aP=0;function aB(e){e!==aN&&null===e.next&&(null===aN?aA=aN=e:aN=aN.next=e),aL=!0,aM||(aM=!0,u_(function(){0!=(6&l$)?Z(eo,aU):aH()}))}function aF(e,t){if(!aD&&aL){aD=!0;do for(var n=!1,o=aA;null!==o;){if(!t)if(0!==e){var r=o.pendingLanes;if(0===r)var i=0;else{var s=o.suspendedLanes,l=o.pingedLanes;i=0xc000095&(i=(1<<31-ep(42|e)+1)-1&(r&~(s&~l)))?0xc000095&i|1:i?2|i:0}0!==i&&(n=!0,aj(o,i))}else i=lM,0==(3&(i=ey(o,o===lA?i:0,null!==o.cancelPendingCommit||-1!==o.timeoutHandle)))||eT(o,i)||(n=!0,aj(o,i));o=o.next}while(n)aD=!1}}function aU(){aH()}function aH(){aL=aM=!1;var e,t=0;0!==aP&&(((e=window.event)&&"popstate"===e.type?e===up||(up=e,0):(up=null,1))||(t=aP),aP=0);for(var n=et(),o=null,r=aA;null!==r;){var i=r.next,s=aV(r,n);0===s?(r.next=null,null===o?aA=i:o.next=i,null===i&&(aN=o)):(o=r,(0!==t||0!=(3&s))&&(aL=!0)),r=i}aF(t,!1)}function aV(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,i=-0x3c00001&e.pendingLanes;0<i;){var s=31-ep(i),l=1<<s,a=r[s];-1===a?(0==(l&n)||0!=(l&o))&&(r[s]=function(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}if(t=lA,n=lM,n=ey(e,e===t?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),o=e.callbackNode,0===n||e===t&&(2===lL||9===lL)||null!==e.cancelPendingCommit)return null!==o&&null!==o&&q(o),e.callbackNode=null,e.callbackPriority=0;if(0==(3&n)||eT(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==o&&q(o),eO(n)){case 2:case 8:n=er;break;case 32:default:n=ei;break;case 0x10000000:n=el}return n=Z(n,o=aG.bind(null,e)),e.callbackPriority=t,e.callbackNode=n,t}return null!==o&&null!==o&&q(o),e.callbackPriority=2,e.callbackNode=null,2}function aG(e,t){if(0!==l0&&5!==l0)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(aC(!0)&&e.callbackNode!==n)return null;var o=lM;return 0===(o=ey(e,e===lA?o:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(an(e,o,t),aV(e,et()),null!=e.callbackNode&&e.callbackNode===n?aG.bind(null,e):null)}function aj(e,t){if(aC())return null;an(e,t,!0)}function aW(){return 0===aP&&(aP=eE()),aP}function az(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:tg(""+e)}function aX(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var aY=0;aY<nq.length;aY++){var aK=nq[aY];nQ(aK.toLowerCase(),"on"+(aK[0].toUpperCase()+aK.slice(1)))}nQ(nj,"onAnimationEnd"),nQ(nW,"onAnimationIteration"),nQ(nz,"onAnimationStart"),nQ("dblclick","onDoubleClick"),nQ("focusin","onFocus"),nQ("focusout","onBlur"),nQ(nX,"onTransitionRun"),nQ(nY,"onTransitionStart"),nQ(nK,"onTransitionCancel"),nQ(nJ,"onTransitionEnd"),eY("onMouseEnter",["mouseout","mouseover"]),eY("onMouseLeave",["mouseout","mouseover"]),eY("onPointerEnter",["pointerout","pointerover"]),eY("onPointerLeave",["pointerout","pointerover"]),eX("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),eX("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),eX("onBeforeInput",["compositionend","keypress","textInput","paste"]),eX("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),eX("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),eX("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aJ="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aZ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(aJ));function aq(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var s=o.length-1;0<=s;s--){var l=o[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=u;try{i(r)}catch(e){sd(e)}r.currentTarget=null,i=a}else for(s=0;s<o.length;s++){if(a=(l=o[s]).instance,u=l.currentTarget,l=l.listener,a!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=u;try{i(r)}catch(e){sd(e)}r.currentTarget=null,i=a}}}}function aQ(e,t){var n=t[eM];void 0===n&&(n=t[eM]=new Set);var o=e+"__bubble";n.has(o)||(a5(t,e,2,!1),n.add(o))}function a0(e,t,n){var o=0;t&&(o|=4),a5(n,e,o,t)}var a1="_reactListening"+Math.random().toString(36).slice(2);function a2(e){if(!e[a1]){e[a1]=!0,eW.forEach(function(t){"selectionchange"!==t&&(aZ.has(t)||a0(t,!1,e),a0(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[a1]||(t[a1]=!0,a0("selectionchange",!1,t))}}function a5(e,t,n,o){switch(ci(t)){case 2:var r=u7;break;case 8:r=ce;break;default:r=ct}n=r.bind(null,t,n,e),r=void 0,tS&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(r=!0),o?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function a3(e,t,n,o,r){var i=o;if(0==(1&t)&&0==(2&t)&&null!==o)e:for(;;){if(null===o)return;var s=o.tag;if(3===s||4===s){var l=o.stateNode.containerInfo;if(l===r)break;if(4===s)for(s=o.return;null!==s;){var a=s.tag;if((3===a||4===a)&&s.stateNode.containerInfo===r)return;s=s.return}for(;null!==l;){if(null===(s=eU(l)))return;if(5===(a=s.tag)||6===a||26===a||27===a){o=i=s;continue e}l=l.parentNode}}o=o.return}tv(function(){var o=i,r=t_(n),s=[];e:{var l=nZ.get(e);if(void 0!==l){var a=tj,c=e;switch(e){case"keypress":if(0===t$(n))break e;case"keydown":case"keyup":a=t4;break;case"focusin":c="focus",a=tJ;break;case"focusout":c="blur",a=tJ;break;case"beforeblur":case"afterblur":a=tJ;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=tY;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=tK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=t8;break;case nj:case nW:case nz:a=tZ;break;case nJ:a=t9;break;case"scroll":case"scrollend":a=tz;break;case"wheel":a=t7;break;case"copy":case"cut":case"paste":a=tq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=t6;break;case"toggle":case"beforetoggle":a=ne}var d=0!=(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==l?l+"Capture":null:l;d=[];for(var f,g=o;null!==g;){var m=g;if(f=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===f||null===p||null!=(m=tC(g,p))&&d.push(a4(g,m,f)),h)break;g=g.return}0<d.length&&(l=new a(l,c,null,n,r),s.push({event:l,listeners:d}))}}if(0==(7&t)){if((l="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e,!(l&&n!==tm&&(c=n.relatedTarget||n.fromElement)&&(eU(c)||c[eN])))&&(a||l)&&(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,a?(c=n.relatedTarget||n.toElement,a=o,null!==(c=c?eU(c):null)&&(h=u(c),d=c.tag,c!==h||5!==d&&27!==d&&6!==d)&&(c=null)):(a=null,c=o),a!==c)){if(d=tY,m="onMouseLeave",p="onMouseEnter",g="mouse",("pointerout"===e||"pointerover"===e)&&(d=t6,m="onPointerLeave",p="onPointerEnter",g="pointer"),h=null==a?l:eV(a),f=null==c?l:eV(c),(l=new d(m,g+"leave",a,n,r)).target=h,l.relatedTarget=f,m=null,eU(r)===o&&((d=new d(p,g+"enter",c,n,r)).target=f,d.relatedTarget=h,m=d),h=m,a&&c)t:{for(d=a,p=c,g=0,f=d;f;f=a8(f))g++;for(f=0,m=p;m;m=a8(m))f++;for(;0<g-f;)d=a8(d),g--;for(;0<f-g;)p=a8(p),f--;for(;g--;){if(d===p||null!==p&&d===p.alternate)break t;d=a8(d),p=a8(p)}d=null}else d=null;null!==a&&a9(s,l,a,d,!1),null!==c&&null!==h&&a9(s,h,c,d,!0)}e:{if("select"===(a=(l=o?eV(o):window).nodeName&&l.nodeName.toLowerCase())||"input"===a&&"file"===l.type)var _,b=n_;else if(nd(l))if(nb)b=nw;else{b=nI;var y=nC}else(a=l.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)?b=nS:o&&th(o.elementType)&&(b=n_);if(b&&(b=b(e,o))){nh(s,b,n,r);break e}y&&y(e,l,o),"focusout"===e&&o&&"number"===l.type&&null!=o.memoizedProps.value&&tr(l,"number",l.value)}switch(y=o?eV(o):window,e){case"focusin":(nd(y)||"true"===y.contentEditable)&&(nM=y,nL=o,nD=null);break;case"focusout":nD=nL=nM=null;break;case"mousedown":nP=!0;break;case"contextmenu":case"mouseup":case"dragend":nP=!1,nB(s,n,r);break;case"selectionchange":if(nN)break;case"keydown":case"keyup":nB(s,n,r)}if(nn)t:{switch(e){case"compositionstart":var T="onCompositionStart";break t;case"compositionend":T="onCompositionEnd";break t;case"compositionupdate":T="onCompositionUpdate";break t}T=void 0}else nu?nl(e,n)&&(T="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(T="onCompositionStart");T&&(ni&&"ko"!==n.locale&&(nu||"onCompositionStart"!==T?"onCompositionEnd"===T&&nu&&(_=tx()):(tO="value"in(tk=r)?tk.value:tk.textContent,nu=!0)),0<(y=a6(o,T)).length&&(T=new tQ(T,e,null,n,r),s.push({event:T,listeners:y}),_?T.data=_:null!==(_=na(n))&&(T.data=_))),(_=nr?function(e,t){switch(e){case"compositionend":return na(t);case"keypress":if(32!==t.which)return null;return ns=!0," ";case"textInput":return" "===(e=t.data)&&ns?null:e;default:return null}}(e,n):function(e,t){if(nu)return"compositionend"===e||!nn&&nl(e,t)?(e=tx(),tR=tO=tk=null,nu=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ni&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(T=a6(o,"onBeforeInput")).length&&(y=new tQ("onBeforeInput","beforeinput",null,n,r),s.push({event:y,listeners:T}),y.data=_);var E=e;if("submit"===E&&o&&o.stateNode===r){var v=az((r[eA]||null).action),C=n.submitter;C&&null!==(E=(E=C[eA]||null)?az(E.formAction):C.getAttribute("formAction"))&&(v=E,C=null);var I=new tj("action","action",null,n,r);s.push({event:I,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==aP){var e=C?aX(r,C):new FormData(r);iL(o,{pending:!0,data:e,method:r.method,action:v},null,e)}}else"function"==typeof v&&(I.preventDefault(),iL(o,{pending:!0,data:e=C?aX(r,C):new FormData(r),method:r.method,action:v},v,e))},currentTarget:r}]})}}aq(s,t)})}function a4(e,t,n){return{instance:e,listener:t,currentTarget:n}}function a6(e,t){for(var n=t+"Capture",o=[];null!==e;){var r=e,i=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===i||(null!=(r=tC(e,n))&&o.unshift(a4(e,r,i)),null!=(r=tC(e,t))&&o.push(a4(e,r,i))),3===e.tag)return o;e=e.return}return[]}function a8(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag&&27!==e.tag)return e||null}function a9(e,t,n,o,r){for(var i=t._reactName,s=[];null!==n&&n!==o;){var l=n,a=l.alternate,u=l.stateNode;if(l=l.tag,null!==a&&a===o)break;5!==l&&26!==l&&27!==l||null===u||(a=u,r?null!=(u=tC(n,i))&&s.unshift(a4(n,u,a)):r||null!=(u=tC(n,i))&&s.push(a4(n,u,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var a7=/\r\n?/g,ue=/\u0000|\uFFFD/g;function ut(e){return("string"==typeof e?e:""+e).replace(a7,"\n").replace(ue,"")}function un(e,t){return t=ut(t),ut(e)===t}function uo(){}function ur(e,t,n,o,r,i){switch(n){case"children":"string"==typeof o?"body"===t||"textarea"===t&&""===o||ta(e,o):("number"==typeof o||"bigint"==typeof o)&&"body"!==t&&ta(e,""+o);break;case"className":eQ(e,"class",o);break;case"tabIndex":eQ(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":eQ(e,n,o);break;case"style":td(e,o,i);break;case"data":if("object"!==t){eQ(e,"data",o);break}case"src":case"href":if(""===o&&("a"!==t||"href"!==n)||null==o||"function"==typeof o||"symbol"==typeof o||"boolean"==typeof o){e.removeAttribute(n);break}o=tg(""+o),e.setAttribute(n,o);break;case"action":case"formAction":if("function"==typeof o){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof i&&("formAction"===n?("input"!==t&&ur(e,t,"name",r.name,r,null),ur(e,t,"formEncType",r.formEncType,r,null),ur(e,t,"formMethod",r.formMethod,r,null),ur(e,t,"formTarget",r.formTarget,r,null)):(ur(e,t,"encType",r.encType,r,null),ur(e,t,"method",r.method,r,null),ur(e,t,"target",r.target,r,null))),null==o||"symbol"==typeof o||"boolean"==typeof o){e.removeAttribute(n);break}o=tg(""+o),e.setAttribute(n,o);break;case"onClick":null!=o&&(e.onclick=uo);break;case"onScroll":null!=o&&aQ("scroll",e);break;case"onScrollEnd":null!=o&&aQ("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!=typeof o||!("__html"in o))throw Error(l(61));if(null!=(n=o.__html)){if(null!=r.children)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=o&&"function"!=typeof o&&"symbol"!=typeof o;break;case"muted":e.muted=o&&"function"!=typeof o&&"symbol"!=typeof o;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":case"innerText":case"textContent":break;case"xlinkHref":if(null==o||"function"==typeof o||"boolean"==typeof o||"symbol"==typeof o){e.removeAttribute("xlink:href");break}n=tg(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,""+o):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===o?e.setAttribute(n,""):!1!==o&&null!=o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,o):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&!isNaN(o)&&1<=o?e.setAttribute(n,o):e.removeAttribute(n);break;case"rowSpan":case"start":null==o||"function"==typeof o||"symbol"==typeof o||isNaN(o)?e.removeAttribute(n):e.setAttribute(n,o);break;case"popover":aQ("beforetoggle",e),aQ("toggle",e),eq(e,"popover",o);break;case"xlinkActuate":e0(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":e0(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":e0(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":e0(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":e0(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":e0(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":e0(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":e0(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":e0(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":eq(e,"is",o);break;default:2<n.length&&("o"===n[0]||"O"===n[0])&&("n"===n[1]||"N"===n[1])||eq(e,n=tp.get(n)||n,o)}}function ui(e,t,n,o,r,i){switch(n){case"style":td(e,o,i);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!=typeof o||!("__html"in o))throw Error(l(61));if(null!=(n=o.__html)){if(null!=r.children)throw Error(l(60));e.innerHTML=n}}break;case"children":"string"==typeof o?ta(e,o):("number"==typeof o||"bigint"==typeof o)&&ta(e,""+o);break;case"onScroll":null!=o&&aQ("scroll",e);break;case"onScrollEnd":null!=o&&aQ("scrollend",e);break;case"onClick":null!=o&&(e.onclick=uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:if(!ez.hasOwnProperty(n))e:{if("o"===n[0]&&"n"===n[1]&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"==typeof(i=null!=(i=e[eA]||null)?i[n]:null)&&e.removeEventListener(t,i,r),"function"==typeof o)){"function"!=typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,o,r);break e}n in e?e[n]=o:!0===o?e.setAttribute(n,""):eq(e,n,o)}}}function us(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":aQ("error",e),aQ("load",e);var o,r=!1,i=!1;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(null!=s)switch(o){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ur(e,t,o,s,n,null)}}i&&ur(e,t,"srcSet",n.srcSet,n,null),r&&ur(e,t,"src",n.src,n,null);return;case"input":aQ("invalid",e);var a=o=s=i=null,u=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":i=d;break;case"type":s=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":o=d;break;case"defaultValue":a=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(l(137,t));break;default:ur(e,t,r,d,n,null)}}to(e,o,a,u,c,s,i,!1),e8(e);return;case"select":for(i in aQ("invalid",e),r=s=o=null,n)if(n.hasOwnProperty(i)&&null!=(a=n[i]))switch(i){case"value":o=a;break;case"defaultValue":s=a;break;case"multiple":r=a;default:ur(e,t,i,a,n,null)}t=o,n=s,e.multiple=!!r,null!=t?ti(e,!!r,t,!1):null!=n&&ti(e,!!r,n,!0);return;case"textarea":for(s in aQ("invalid",e),o=i=r=null,n)if(n.hasOwnProperty(s)&&null!=(a=n[s]))switch(s){case"value":r=a;break;case"defaultValue":i=a;break;case"children":o=a;break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(l(91));break;default:ur(e,t,s,a,n,null)}tl(e,r,i,o),e8(e);return;case"option":for(u in n)n.hasOwnProperty(u)&&null!=(r=n[u])&&("selected"===u?e.selected=r&&"function"!=typeof r&&"symbol"!=typeof r:ur(e,t,u,r,n,null));return;case"dialog":aQ("beforetoggle",e),aQ("toggle",e),aQ("cancel",e),aQ("close",e);break;case"iframe":case"object":aQ("load",e);break;case"video":case"audio":for(r=0;r<aJ.length;r++)aQ(aJ[r],e);break;case"image":aQ("error",e),aQ("load",e);break;case"details":aQ("toggle",e);break;case"embed":case"source":case"link":aQ("error",e),aQ("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ur(e,t,c,r,n,null)}return;default:if(th(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(r=n[d])&&ui(e,t,d,r,n,void 0);return}}for(a in n)n.hasOwnProperty(a)&&null!=(r=n[a])&&ur(e,t,a,r,n,null)}var ul=null,ua=null;function uu(e){return 9===e.nodeType?e:e.ownerDocument}function uc(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ud(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function uh(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var up=null,uf="function"==typeof setTimeout?setTimeout:void 0,ug="function"==typeof clearTimeout?clearTimeout:void 0,um="function"==typeof Promise?Promise:void 0,u_="function"==typeof queueMicrotask?queueMicrotask:void 0!==um?function(e){return um.resolve(null).then(e).catch(ub)}:uf;function ub(e){setTimeout(function(){throw e})}function uy(e){return"head"===e}function uT(e,t){var n=t,o=0,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<o&&8>o){n=o;var s=e.ownerDocument;if(1&n&&uk(s.documentElement),2&n&&uk(s.body),4&n)for(uk(n=s.head),s=n.firstChild;s;){var l=s.nextSibling,a=s.nodeName;s[eB]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=l}}if(0===r){e.removeChild(i),cC(t);return}r--}else"$"===n||"$?"===n||"$!"===n?r++:o=n.charCodeAt(0)-48;else o=0;n=i}while(n)cC(t)}function uE(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":uE(n),eF(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function uv(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function uC(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var uI=null;function uS(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function uw(e,t,n){switch(t=uu(n),e){case"html":if(!(e=t.documentElement))throw Error(l(452));return e;case"head":if(!(e=t.head))throw Error(l(453));return e;case"body":if(!(e=t.body))throw Error(l(454));return e;default:throw Error(l(451))}}function uk(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);eF(e)}var uO=new Map,uR=new Set;function ux(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var u$=L.d;L.d={f:function(){var e=u$.f(),t=ai();return e||t},r:function(e){var t=eH(e);null!==t&&5===t.tag&&"form"===t.type?iP(t):u$.r(e)},D:function(e){u$.D(e),uN("dns-prefetch",e,null)},C:function(e,t){u$.C(e,t),uN("preconnect",e,t)},L:function(e,t,n){if(u$.L(e,t,n),uA&&e&&t){var o='link[rel="preload"][as="'+tt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+tt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(o+='[imagesizes="'+tt(n.imageSizes)+'"]')):o+='[href="'+tt(e)+'"]';var r=o;switch(t){case"style":r=uL(e);break;case"script":r=uB(e)}uO.has(r)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),uO.set(r,e),null!==uA.querySelector(o)||"style"===t&&uA.querySelector(uD(r))||"script"===t&&uA.querySelector(uF(r))||(us(t=uA.createElement("link"),"link",e),ej(t),uA.head.appendChild(t)))}},m:function(e,t){if(u$.m(e,t),uA&&e){var n=t&&"string"==typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+tt(n)+'"][href="'+tt(e)+'"]',r=o;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=uB(e)}if(!uO.has(r)&&(e=p({rel:"modulepreload",href:e},t),uO.set(r,e),null===uA.querySelector(o))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(uA.querySelector(uF(r)))return}us(n=uA.createElement("link"),"link",e),ej(n),uA.head.appendChild(n)}}},X:function(e,t){if(u$.X(e,t),uA&&e){var n=eG(uA).hoistableScripts,o=uB(e),r=n.get(o);r||((r=uA.querySelector(uF(o)))||(e=p({src:e,async:!0},t),(t=uO.get(o))&&uG(e,t),ej(r=uA.createElement("script")),us(r,"link",e),uA.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(o,r))}},S:function(e,t,n){if(u$.S(e,t,n),uA&&e){var o=eG(uA).hoistableStyles,r=uL(e);t=t||"default";var i=o.get(r);if(!i){var s={loading:0,preload:null};if(i=uA.querySelector(uD(r)))s.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=uO.get(r))&&uV(e,n);var l=i=uA.createElement("link");ej(l),us(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,uH(i,t,uA)}i={type:"stylesheet",instance:i,count:1,state:s},o.set(r,i)}}},M:function(e,t){if(u$.M(e,t),uA&&e){var n=eG(uA).hoistableScripts,o=uB(e),r=n.get(o);r||((r=uA.querySelector(uF(o)))||(e=p({src:e,async:!0,type:"module"},t),(t=uO.get(o))&&uG(e,t),ej(r=uA.createElement("script")),us(r,"link",e),uA.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(o,r))}}};var uA="undefined"==typeof document?null:document;function uN(e,t,n){if(uA&&"string"==typeof t&&t){var o=tt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"==typeof n&&(o+='[crossorigin="'+n+'"]'),uR.has(o)||(uR.add(o),e={rel:e,crossOrigin:n,href:t},null===uA.querySelector(o)&&(us(t=uA.createElement("link"),"link",e),ej(t),uA.head.appendChild(t)))}}function uM(e,t,n,o){var r=(r=j.current)?ux(r):null;if(!r)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=uL(n.href),(o=(n=eG(r).hoistableStyles).get(t))||(o={type:"style",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=uL(n.href);var i,s,a,u,c=eG(r).hoistableStyles,d=c.get(e);if(d||(r=r.ownerDocument||r,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=r.querySelector(uD(e)))&&!c._p&&(d.instance=c,d.state.loading=5),uO.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},uO.set(e,n),c||(i=r,s=e,a=n,u=d.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(u.preload=s=i.createElement("link"),s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),us(s,"link",a),ej(s),i.head.appendChild(s))))),t&&null===o)throw Error(l(528,""));return d}if(t&&null!==o)throw Error(l(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=uB(n),(o=(n=eG(r).hoistableScripts).get(t))||(o={type:"script",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function uL(e){return'href="'+tt(e)+'"'}function uD(e){return'link[rel="stylesheet"]['+e+"]"}function uP(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function uB(e){return'[src="'+tt(e)+'"]'}function uF(e){return"script[async]"+e}function uU(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+tt(n.href)+'"]');if(o)return t.instance=o,ej(o),o;var r=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return ej(o=(e.ownerDocument||e).createElement("style")),us(o,"style",r),uH(o,n.precedence,e),t.instance=o;case"stylesheet":r=uL(n.href);var i=e.querySelector(uD(r));if(i)return t.state.loading|=4,t.instance=i,ej(i),i;o=uP(n),(r=uO.get(r))&&uV(o,r),ej(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),us(i,"link",o),t.state.loading|=4,uH(i,n.precedence,e),t.instance=i;case"script":if(i=uB(n.src),r=e.querySelector(uF(i)))return t.instance=r,ej(r),r;return o=n,(r=uO.get(i))&&uG(o=p({},n),r),ej(r=(e=e.ownerDocument||e).createElement("script")),us(r,"link",o),e.head.appendChild(r),t.instance=r;case"void":return null;default:throw Error(l(443,t.type))}return"stylesheet"===t.type&&0==(4&t.state.loading)&&(o=t.instance,t.state.loading|=4,uH(o,n.precedence,e)),t.instance}function uH(e,t,n){for(var o=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=o.length?o[o.length-1]:null,i=r,s=0;s<o.length;s++){var l=o[s];if(l.dataset.precedence===t)i=l;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function uV(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function uG(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var uj=null;function uW(e,t,n){if(null===uj){var o=new Map,r=uj=new Map;r.set(n,o)}else(o=(r=uj).get(n))||(o=new Map,r.set(n,o));if(o.has(e))return o;for(o.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var i=n[r];if(!(i[eB]||i[e$]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var l=o.get(s);l?l.push(i):o.set(s,[i])}}return o}function uz(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function uX(e){return"stylesheet"!==e.type||0!=(3&e.state.loading)}var uY=null;function uK(){}function uJ(){if(this.count--,0===this.count){if(this.stylesheets)uq(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uZ=null;function uq(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,uZ=new Map,t.forEach(uQ,e),uZ=null,uJ.call(e))}function uQ(e,t){if(!(4&t.state.loading)){var n=uZ.get(e);if(n)var o=n.get(null);else{n=new Map,uZ.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var s=r[i];("LINK"===s.nodeName||"not all"!==s.getAttribute("media"))&&(n.set(s.dataset.precedence,s),o=s)}o&&n.set(null,o)}s=(r=t.instance).getAttribute("data-precedence"),(i=n.get(s)||o)===o&&n.set(null,r),n.set(s,r),this.count++,o=uJ.bind(this),r.addEventListener("load",o),r.addEventListener("error",o),i?i.parentNode.insertBefore(r,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var u0={$$typeof:v,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function u1(e,t,n,o,r,i,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eC(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eC(0),this.hiddenUpdates=eC(null),this.identifierPrefix=o,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function u2(e,t,n,o,r,i,s,l,a,u,c,d){return e=new u1(e,t,n,s,l,a,u,d),t=1,!0===i&&(t|=24),i=oo(3,null,null,t),e.current=i,i.stateNode=e,t=o0(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:o,isDehydrated:n,cache:t},rp(i),e}function u5(e){return e?e=ot:ot}function u3(e,t,n,o,r,i){var s;r=(s=r)?s=ot:ot,null===o.context?o.context=r:o.pendingContext=r,(o=rg(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(o.callback=i),null!==(n=rm(e,o,t))&&(at(n,e,t),r_(n,e,t))}function u4(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function u6(e,t){u4(e,t),(e=e.alternate)&&u4(e,t)}function u8(e){if(13===e.tag){var t=n9(e,0x4000000);null!==t&&at(t,e,0x4000000),u6(e,0x4000000)}}var u9=!0;function u7(e,t,n,o){var r=M.T;M.T=null;var i=L.p;try{L.p=2,ct(e,t,n,o)}finally{L.p=i,M.T=r}}function ce(e,t,n,o){var r=M.T;M.T=null;var i=L.p;try{L.p=8,ct(e,t,n,o)}finally{L.p=i,M.T=r}}function ct(e,t,n,o){if(u9){var r=cn(o);if(null===r)a3(e,t,o,co,n),cf(e,o);else if(function(e,t,n,o,r){switch(t){case"focusin":return cl=cg(cl,e,t,n,o,r),!0;case"dragenter":return ca=cg(ca,e,t,n,o,r),!0;case"mouseover":return cu=cg(cu,e,t,n,o,r),!0;case"pointerover":var i=r.pointerId;return cc.set(i,cg(cc.get(i)||null,e,t,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,cd.set(i,cg(cd.get(i)||null,e,t,n,o,r)),!0}return!1}(r,e,t,n,o))o.stopPropagation();else if(cf(e,o),4&t&&-1<cp.indexOf(e)){for(;null!==r;){var i=eH(r);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=eb(i.pendingLanes);if(0!==s){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;s;){var a=1<<31-ep(s);l.entanglements[1]|=a,s&=~a}aB(i),0==(6&l$)&&(lZ=et()+500,aF(0,!1))}}break;case 13:null!==(l=n9(i,2))&&at(l,i,2),ai(),u6(i,2)}if(null===(i=cn(o))&&a3(e,t,o,co,n),i===r)break;r=i}null!==r&&o.stopPropagation()}else a3(e,t,o,null,n)}}function cn(e){return cr(e=t_(e))}var co=null;function cr(e){if(co=null,null!==(e=eU(e))){var t=u(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=d(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return co=e,null}function ci(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case eo:return 2;case er:return 8;case ei:case es:return 32;case el:return 0x10000000;default:return 32}default:return 32}}var cs=!1,cl=null,ca=null,cu=null,cc=new Map,cd=new Map,ch=[],cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cf(e,t){switch(e){case"focusin":case"focusout":cl=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":cu=null;break;case"pointerover":case"pointerout":cc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cd.delete(t.pointerId)}}function cg(e,t,n,o,r,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},null!==t&&null!==(t=eH(t))&&u8(t)):(e.eventSystemFlags|=o,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r)),e}function cm(e){var t=eU(e.target);if(null!==t){var n=u(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=d(n))){e.blockedOn=t,function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,function(){if(13===n.tag){var e=l7(),t=n9(n,e=ek(e));null!==t&&at(t,n,e),u6(n,e)}});return}}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function c_(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=cn(e.nativeEvent);if(null!==n)return null!==(t=eH(n))&&u8(t),e.blockedOn=n,!1;var o=new(n=e.nativeEvent).constructor(n.type,n);tm=o,n.target.dispatchEvent(o),tm=null,t.shift()}return!0}function cb(e,t,n){c_(e)&&n.delete(t)}function cy(){cs=!1,null!==cl&&c_(cl)&&(cl=null),null!==ca&&c_(ca)&&(ca=null),null!==cu&&c_(cu)&&(cu=null),cc.forEach(cb),cd.forEach(cb)}function cT(e,t){e.blockedOn===t&&(e.blockedOn=null,cs||(cs=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,cy)))}var cE=null;function cv(e){cE!==e&&(cE=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){cE===e&&(cE=null);for(var t=0;t<e.length;t+=3){var n=e[t],o=e[t+1],r=e[t+2];if("function"!=typeof o)if(null===cr(o||n))continue;else break;var i=eH(n);null!==i&&(e.splice(t,3),t-=3,iL(i,{pending:!0,data:r,method:n.method,action:o},o,r))}}))}function cC(e){function t(t){return cT(t,e)}null!==cl&&cT(cl,e),null!==ca&&cT(ca,e),null!==cu&&cT(cu,e),cc.forEach(t),cd.forEach(t);for(var n=0;n<ch.length;n++){var o=ch[n];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ch.length&&null===(n=ch[0]).blockedOn;)cm(n),null===n.blockedOn&&ch.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(o=0;o<n.length;o+=3){var r=n[o],i=n[o+1],s=r[eA]||null;if("function"==typeof i)s||cv(n);else if(s){var l=null;if(i&&i.hasAttribute("formAction")){if(r=i,s=i[eA]||null)l=s.formAction;else if(null!==cr(r))continue}else l=s.action;"function"==typeof l?n[o+1]=l:(n.splice(o,3),o-=3),cv(n)}}}function cI(e){this._internalRoot=e}function cS(e){this._internalRoot=e}cS.prototype.render=cI.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));u3(t.current,l7(),e,t,null,null)},cS.prototype.unmount=cI.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;u3(e.current,2,null,e,null,null),ai(),t[eN]=null}},cS.prototype.unstable_scheduleHydration=function(e){if(e){var t=eR();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ch.length&&0!==t&&t<ch[n].priority;n++);ch.splice(n,0,e),0===n&&cm(e)}};var cw=i.version;if("19.1.0"!==cw)throw Error(l(527,cw,"19.1.0"));if(L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(l(188));throw Error(l(268,e=Object.keys(e).join(",")))}return e=null===(e=null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=u(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(o=r.return)){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return h(r),e;if(i===o)return h(r),t;i=i.sibling}throw Error(l(188))}if(n.return!==o.return)n=r,o=i;else{for(var s=!1,a=r.child;a;){if(a===n){s=!0,n=r,o=i;break}if(a===o){s=!0,o=r,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,o=r;break}if(a===o){s=!0,o=i,n=r;break}a=a.sibling}if(!s)throw Error(l(189))}}if(n.alternate!==o)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}(t))?function e(t){var n=t.tag;if(5===n||26===n||27===n||6===n)return t;for(t=t.child;null!==t;){if(null!==(n=e(t)))return n;t=t.sibling}return null}(e):null)?null:e.stateNode},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ck=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ck.isDisabled&&ck.supportsFiber)try{ec=ck.inject({bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"}),ed=ck}catch(e){}}tL=function(e,t){if(!a(e))throw Error(l(299));var n=!1,o="",r=sh,i=sp,s=sf,u=null;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&(u=t.unstable_transitionCallbacks)),t=u2(e,1,!1,null,null,n,o,r,i,s,u,null),e[eN]=t.current,a2(e),new cI(t)},tD=function(e,t,n){if(!a(e))throw Error(l(299));var o,r=!1,i="",s=sh,u=sp,c=sf,d=null,h=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(u=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&(d=n.unstable_transitionCallbacks),void 0!==n.formState&&(h=n.formState)),(t=u2(e,1,!0,t,null!=n?n:null,r,i,s,u,c,d,h)).context=(o=null,ot),n=t.current,(i=rg(r=ek(r=l7()))).callback=null,rm(n,i,r),n=r,t.current.lanes=n,eI(t,n),aB(t),e[eN]=t.current,a2(e),new cS(t)},tP="19.1.0"}),d("6qr1r",function(e,t){e.exports=c("h8XvE")}),d("h8XvE",function(t,n){function o(e,t){var n=e.length;for(e.push(t);0<n;){var o=n-1>>>1,r=e[o];if(0<s(r,t))e[o]=t,e[n]=r,n=o;else break}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var o=0,r=e.length,i=r>>>1;o<i;){var l=2*(o+1)-1,a=e[l],u=l+1,c=e[u];if(0>s(a,n))u<r&&0>s(c,a)?(e[o]=c,e[u]=n,o=u):(e[o]=a,e[l]=n,o=l);else if(u<r&&0>s(c,n))e[o]=c,e[u]=n,o=u;else break}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e(t.exports,"unstable_now",()=>l,e=>l=e),e(t.exports,"unstable_IdlePriority",()=>a,e=>a=e),e(t.exports,"unstable_ImmediatePriority",()=>u,e=>u=e),e(t.exports,"unstable_LowPriority",()=>c,e=>c=e),e(t.exports,"unstable_NormalPriority",()=>d,e=>d=e),e(t.exports,"unstable_Profiling",()=>h,e=>h=e),e(t.exports,"unstable_UserBlockingPriority",()=>p,e=>p=e),e(t.exports,"unstable_cancelCallback",()=>f,e=>f=e),e(t.exports,"unstable_forceFrameRate",()=>g,e=>g=e),e(t.exports,"unstable_getCurrentPriorityLevel",()=>m,e=>m=e),e(t.exports,"unstable_next",()=>_,e=>_=e),e(t.exports,"unstable_requestPaint",()=>b,e=>b=e),e(t.exports,"unstable_runWithPriority",()=>y,e=>y=e),e(t.exports,"unstable_scheduleCallback",()=>T,e=>T=e),e(t.exports,"unstable_shouldYield",()=>E,e=>E=e),e(t.exports,"unstable_wrapCallback",()=>v,e=>v=e),l=void 0,"object"==typeof performance&&"function"==typeof performance.now){var l,a,u,c,d,h,p,f,g,m,_,b,y,T,E,v,C,I=performance;l=function(){return I.now()}}else{var S=Date,w=S.now();l=function(){return S.now()-w}}var k=[],O=[],R=1,x=null,$=3,A=!1,N=!1,M=!1,L=!1,D="function"==typeof setTimeout?setTimeout:null,P="function"==typeof clearTimeout?clearTimeout:null,B="undefined"!=typeof setImmediate?setImmediate:null;function F(e){for(var t=r(O);null!==t;){if(null===t.callback)i(O);else if(t.startTime<=e)i(O),t.sortIndex=t.expirationTime,o(k,t);else break;t=r(O)}}function U(e){if(M=!1,F(e),!N)if(null!==r(k))N=!0,H||(H=!0,C());else{var t=r(O);null!==t&&K(U,t.startTime-e)}}var H=!1,V=-1,G=5,j=-1;function W(){return!!L||!(l()-j<G)}function z(){if(L=!1,H){var e=l();j=e;var t=!0;try{e:{N=!1,M&&(M=!1,P(V),V=-1),A=!0;var n=$;try{t:{for(F(e),x=r(k);null!==x&&!(x.expirationTime>e&&W());){var o=x.callback;if("function"==typeof o){x.callback=null,$=x.priorityLevel;var s=o(x.expirationTime<=e);if(e=l(),"function"==typeof s){x.callback=s,F(e),t=!0;break t}x===r(k)&&i(k),F(e)}else i(k);x=r(k)}if(null!==x)t=!0;else{var a=r(O);null!==a&&K(U,a.startTime-e),t=!1}}break e}finally{x=null,$=n,A=!1}}}finally{t?C():H=!1}}}if("function"==typeof B)C=function(){B(z)};else if("undefined"!=typeof MessageChannel){var X=new MessageChannel,Y=X.port2;X.port1.onmessage=z,C=function(){Y.postMessage(null)}}else C=function(){D(z,0)};function K(e,t){V=D(function(){e(l())},t)}a=5,u=1,c=4,d=3,h=null,p=2,f=function(e){e.callback=null},g=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<e?Math.floor(1e3/e):5},m=function(){return $},_=function(e){switch($){case 1:case 2:case 3:var t=3;break;default:t=$}var n=$;$=t;try{return e()}finally{$=n}},b=function(){L=!0},y=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=$;$=e;try{return t()}finally{$=n}},T=function(e,t,n){var i=l();switch(n="object"==typeof n&&null!==n&&"number"==typeof(n=n.delay)&&0<n?i+n:i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=0x3fffffff;break;case 4:s=1e4;break;default:s=5e3}return s=n+s,e={id:R++,callback:t,priorityLevel:e,startTime:n,expirationTime:s,sortIndex:-1},n>i?(e.sortIndex=n,o(O,e),null===r(k)&&e===r(O)&&(M?(P(V),V=-1):M=!0,K(U,n-i))):(e.sortIndex=s,o(k,e),N||A||(N=!0,H||(H=!0,C()))),e},E=W,v=function(e){var t=$;return function(){var n=$;$=t;try{return e.apply(this,arguments)}finally{$=n}}}}),d("d2L2u",function(e,t){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=c("hw5nP")}),d("hw5nP",function(t,n){e(t.exports,"__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE",()=>o,e=>o=e),e(t.exports,"createPortal",()=>r,e=>r=e),e(t.exports,"flushSync",()=>i,e=>i=e),e(t.exports,"preconnect",()=>s,e=>s=e),e(t.exports,"prefetchDNS",()=>l,e=>l=e),e(t.exports,"preinit",()=>a,e=>a=e),e(t.exports,"preinitModule",()=>u,e=>u=e),e(t.exports,"preload",()=>d,e=>d=e),e(t.exports,"preloadModule",()=>h,e=>h=e),e(t.exports,"requestFormReset",()=>p,e=>p=e),e(t.exports,"unstable_batchedUpdates",()=>f,e=>f=e),e(t.exports,"useFormState",()=>g,e=>g=e),e(t.exports,"useFormStatus",()=>m,e=>m=e),e(t.exports,"version",()=>_,e=>_=e);var o,r,i,s,l,a,u,d,h,p,f,g,m,_,b=c("fYo6y");function y(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function T(){}var E={d:{f:T,r:function(){throw Error(y(522))},D:T,C:T,L:T,m:T,X:T,S:T,M:T},p:0,findDOMNode:null},v=Symbol.for("react.portal"),C=b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function I(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}o=E,r=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(y(299));return function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:v,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},i=function(e){var t=C.T,n=E.p;try{if(C.T=null,E.p=2,e)return e()}finally{C.T=t,E.p=n,E.d.f()}},s=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,E.d.C(e,t))},l=function(e){"string"==typeof e&&E.d.D(e)},a=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,o=I(n,t.crossOrigin),r="string"==typeof t.integrity?t.integrity:void 0,i="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?E.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:o,integrity:r,fetchPriority:i}):"script"===n&&E.d.X(e,{crossOrigin:o,integrity:r,fetchPriority:i,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},u=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=I(t.as,t.crossOrigin);E.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&E.d.M(e)},d=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,o=I(n,t.crossOrigin);E.d.L(e,n,{crossOrigin:o,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},h=function(e,t){if("string"==typeof e)if(t){var n=I(t.as,t.crossOrigin);E.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else E.d.m(e)},p=function(e){E.d.r(e)},f=function(e,t){return e(t)},g=function(e,t,n){return C.H.useFormState(e,t,n)},m=function(){return C.H.useHostTransitionStatus()},_="19.1.0"}),d("jVSxT",function(e,t){e.exports=c("8GNui")}),d("8GNui",function(e,t){var n,o;e.exports,o=function(){var e,t,n,o,r,s,l,a,u,c,d,h,p,f,g,m,_,b,y,T,E,v,C,I,S,w,k,O={};Z=function(e,t,n,o){if(!(e instanceof A)&&"string"!=typeof e||""===`${e}`.trim())throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=`${e}`.toLowerCase(),"string"!=typeof t||""===t.trim())throw Error('Invalid name "'+t+'". The name must be a non-empty string.');let r=t.toLowerCase();if(!n)throw Error("Can not register a null value");let i=R[e],s=x[e];if(i||(i=R[e]=Object.create(null),s=x[e]=Object.create(null)),q(e,n),!o&&i[r]&&i[r]!==n)throw Error('Name "'+r+'" with type "'+e+'" already registered.');i[r]=n,s[r]=t},q=function(e,t){if(e===String(A.FIELD)&&"function"!=typeof t.fromJson)throw Error('Type "'+e+'" must have a fromJson function')},Q=function(e,t){e=`${e}`.toLowerCase(),t=t.toLowerCase();let n=R[e];n&&n[t]?(delete R[e][t],delete x[e][t]):console.warn("Unable to unregister ["+t+"]["+e+"] from the registry.")},ee=function(e,t,n){e=`${e}`.toLowerCase(),t=t.toLowerCase();let o=R[e];if(!o||!o[t]){if(t="Unable to find ["+t+"]["+e+"] in the registry.",n)throw Error(t+" You must require or register a "+e+" plugin.");return console.warn(t),null}return o[t]},et=function(e,t){return e=`${e}`.toLowerCase(),t=t.toLowerCase(),!!(e=R[e])&&!!e[t]},en=function(e,t,n){return ee(e,t,n)},eo=function(e,t,n){return ee(e,t,n)},er=function(e,t,n){var o=R[e=`${e}`.toLowerCase()];if(!o){if(o=`Unable to find [${e}] in the registry.`,n)throw Error(`${o} You must require or register a ${e} plugin.`);return console.warn(o),null}if(!t)return o;for(let t of(e=x[e],n=Object.create(null),Object.keys(o)))n[e[t]]=o[t];return n},ei=function(e,t,n){return"function"==typeof(t=t.plugins[String(e)]||$)?t:en(e,t,n)},es=function(e,t,n,o){e=e+" was deprecated in "+t+" and will be deleted in "+n+".",o&&(e+="\nUse "+o+" instead."),D.has(e)||(D.add(e),console.warn(e))},el=function(){return"blockly-"+(U++).toString(36)},ea=function(){return F.genUid()},eu=function(e){return e.type===iK.BLOCK_CREATE},ec=function(e){return e.type===iK.BLOCK_DELETE},ed=function(e){return e.type===iK.BLOCK_CHANGE},eh=function(e){return e.type===iK.BLOCK_FIELD_INTERMEDIATE_CHANGE},ep=function(e){return e.type===iK.BLOCK_MOVE},ef=function(e){return e.type===iK.CLICK},eg=function(e){return e.type===iK.BUBBLE_OPEN},em=function(e){return e.type===iK.VIEWPORT_CHANGE},O.setRecordUndo$$module$build$src$core$events$utils=function(e){j=e},e_=function(){return j},eb=function(e){Y.fireInternal(e)},ey=function(){let e=eE(X,!0);for(let t of(X.length=0,e)){let e;t.workspaceId&&(null==(e=eO(t.workspaceId))||e.fireChangeListener(t))}},eT=function(e){if(ed(e)&&"mutation"===e.element){let t;for(t=X.length;0<t;t--){let n=X[t-1];if(n.group!==e.group||n.workspaceId!==e.workspaceId||!ep(n)||n.newParentId!==e.blockId)break}X.splice(t,0,e)}else X.push(e)},eE=function(e,t=!0){t||(es("filter(queue, /*forward=*/false)","v11.2","v12"),e=e.slice().reverse());let n=[];for(let t of e)if(e=n[n.length-1],!t.isNull())if(e&&e.workspaceId===t.workspaceId&&e.group===t.group)if(ep(t)&&ep(e)&&t.blockId===e.blockId){if(e.newParentId=t.newParentId,e.newInputName=t.newInputName,e.newCoordinate=t.newCoordinate,e.reason||t.reason){let n,o;e.reason=Array.from(new Set((null!=(n=e.reason)?n:[]).concat(null!=(o=t.reason)?o:[])))}}else ed(t)&&ed(e)&&t.blockId===e.blockId&&t.element===e.element&&t.name===e.name?e.newValue=t.newValue:em(t)&&em(e)?(e.viewTop=t.viewTop,e.viewLeft=t.viewLeft,e.scale=t.scale,e.oldScale=t.oldScale):ef(t)&&eg(e)||n.push(t);else n.push(t);return e=n.filter(e=>!e.isNull()),t||e.reverse(),e},ev=function(){for(let e=0,t;t=X[e];e++)t.recordUndo=!1},O.disable$$module$build$src$core$events$utils=function(){W++},O.enable$$module$build$src$core$events$utils=function(){W--},eC=function(){return 0===W},O.getGroup$$module$build$src$core$events$utils=function(){return G},O.setGroup$$module$build$src$core$events$utils=function(e){Y.setGroupInternal(e)},eI=function(e){let t=[];e=e.getDescendants(!1);for(let n=0,o;o=e[n];n++)t[n]=o.id;return t},eS=function(e,t){let n=ew(e.type);if(!n)throw Error("Unknown event type.");return n.fromJson(e,t)},ew=function(e){let t=en(A.EVENT,e);if(!t)throw Error(`Event type ${e} not found in registry.`);return t},ek=function(e){if((ep(e)||eu(e))&&e.workspaceId){var t=eO(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=t.getBlockById(e.blockId)){let n=j;try{j=!1;let n=e.getParent();if(n&&!n.hasDisabledReason(z)){let t=e.getDescendants(!1);for(let e=0,n;n=t[e];e++)n.setDisabledReason(!1,z)}else if((e.outputConnection||e.previousConnection)&&!t.isDragging())do e.setDisabledReason(!0,z),e=e.getNextBlock();while(e)}finally{j=n}}}},eO=function(e){return iq[e]||null},eR=function(){let e=[];for(let t in iq)e.push(iq[t]);return e},ex=function(e){iq[e.id]=e},e$=function(e){delete iq[e.id]},eA=function(){return iJ},eN=function(e){iJ=e},eM=function(){return iQ},O.setSelected$$module$build$src$core$common=function(e){if(iQ!==e){var t,n,o,r,i,s,l,a;eb(new(ew(iK.SELECTED))(null!=(i=null==(o=iQ)?void 0:o.id)?i:null,null!=(s=null==e?void 0:e.id)?s:null,null!=(a=null!=(l=null==e?void 0:e.workspace.id)?l:null==(r=iQ)?void 0:r.workspace.id)?a:"")),null==(t=iQ)||t.unselect(),null==(n=iQ=e)||n.select()}},eL=function(){return iZ},eD=function(e){iZ=e},eP=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;let t=e.getParentSvg(),n=e.getCachedParentSvgSize();var o=t.parentElement;if(o instanceof HTMLElement){var r=o.offsetWidth;o=o.offsetHeight,n.width!==r&&(t.setAttribute("width",r+"px"),e.setCachedParentSvgSize(r,null)),n.height!==o&&(t.setAttribute("height",o+"px"),e.setCachedParentSvgSize(null,o)),e.resize()}},eB=function(e,t){let n=Object.create(null),o=e.getDescendants(!0);t&&(e=e.getNextBlock())&&(e=o.indexOf(e),o.splice(e,o.length-e));for(let e=0,t;t=o[e];e++)n[t.type]?n[t.type]++:n[t.type]=1;return n},eF=function(e){return function(){this.jsonInit(e)}},eU=function(e){i1.defineBlocksWithJsonArrayInternal(e)},O.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(e){let t={};for(let n=0;n<e.length;n++){let o=e[n];if(!o){console.warn(`Block definition #${n} in JSON array is ${o}. Skipping`);continue}let r=o.type;r?t[r]={init:eF(o)}:console.warn(`Block definition #${n} in JSON array is missing a type attribute. Skipping.`)}return t},O.defineBlocks$$module$build$src$core$common=function(e){for(let t of Object.keys(e)){let n=e[t];t in M&&console.warn(`Block definition "${t}" overwrites previous definition.`),M[t]=n}},eH=function(e,t){eV(),sn=setTimeout(function(){t&&t.handleRightClick(e)},i9)},eV=function(){sn&&(clearTimeout(sn),sn=0)},eG=function(){se=null},ej=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&ez(e)},eW=function(e){return`${e.pointerId}`},ez=function(e){let t=eW(e);return se?se===t:"pointerdown"===e.type&&(se=t,!0)},eX=function(e,t,n,o,r){function i(e){(r||ej(e))&&(n?o.call(n,e):o(e))}let s=[];if(t in st)for(let n=0;n<st[t].length;n++){let o=st[t][n];e.addEventListener(o,i,!1),s.push([e,o,i])}else e.addEventListener(t,i,!1),s.push([e,t,i]);return s},eY=function(e,t,n,o){function r(e){n?o.call(n,e):o(e)}let i=[];if(t in st)for(let n=0;n<st[t].length;n++){let o=st[t][n];e.addEventListener(o,r,!1),i.push([e,o,r])}else e.addEventListener(t,r,!1),i.push([e,t,r]);return i},eK=function(e){let t=e[e.length-1][2];for(;e.length;){let[t,n,o]=e.pop();t.removeEventListener(n,o,!1)}return t},eJ=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||"true"===e.target.getAttribute("data-is-text-input"))return!0;if(e.target instanceof HTMLInputElement)return"text"===(e=e.target).type||"number"===e.type||"email"===e.type||"password"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type;if(e.target instanceof HTMLTextAreaElement)return!0}return!1},eZ=function(e){return!!e.ctrlKey&&!!sa||2===e.button},eq=function(e,t,n){let o=t.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,n||(n=t.getScreenCTM().inverse()),o.matrixTransform(n)},eQ=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*su,y:e.deltaY*su};case 2:return{x:e.deltaX*sc,y:e.deltaY*sc}}},e0=function(e,t){return -1!==(t=e.indexOf(t))&&(e.splice(t,1),!0)},e1=function(e){if(s_)throw Error("CSS already injected");sb+="\n"+e},e2=function(e,t){s_||(s_=!0,e&&(e=t.replace(/[\\/]$/,""),t=sb.replace(/<<<PATH>>>/g,e),sb="",(e=document.createElement("style")).id="blockly-common-style",t=document.createTextNode(t),e.appendChild(t),document.head.insertBefore(e,document.head.firstChild)))},e5=function(e,t,n){for(let n in e=document.createElementNS(sN,`${e}`),t)e.setAttribute(n,`${t[n]}`);return n&&n.appendChild(e),e},e3=function(e,t){return!(t=t.split(" ")).every(t=>e.classList.contains(t))&&(e.classList.add(...t),!0)},e4=function(e,t){e.classList.remove(...t.split(" "))},e6=function(e,t){return!(t=t.split(" ")).every(t=>!e.classList.contains(t))&&(e.classList.remove(...t),!0)},e8=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},e9=function(e,t){let n=t.nextSibling;if(!(t=t.parentNode))throw Error("Reference node has no parent.");n?t.insertBefore(e,n):t.appendChild(e)},e7=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},te=function(){sP++,sD||(sD=Object.create(null))},tt=function(){--sP||(sD=null)},tn=function(e){let t,n=e.textContent+"\n"+e.className.baseVal;if(sD&&(t=sD[n]))return t;try{t=e.getComputedTextLength()}catch(t){return 8*e.textContent.length}return sD&&(sD[n]=t),t},to=function(e,t,n,o){return tr(e,t+"pt",n,o)},tr=function(e,t,n,o){var r;let i=e.textContent;return e=i+"\n"+e.className.baseVal,sD&&(r=sD[e])||(sB||((r=document.createElement("canvas")).className="blocklyComputeCanvas",document.body.appendChild(r),sB=r.getContext("2d")),sB.font=n+" "+t+" "+o,r=i?sB.measureText(i).width:0,sD&&(sD[e]=r)),r},ti=function(e,t,n,o){let r=document.createElement("span");r.style.font=n+" "+t+" "+o,r.textContent=e,(e=document.createElement("div")).style.width="1px",e.style.height="0",(t=document.createElement("div")).style.display="flex",t.style.position="fixed",t.style.top="0",t.style.left="0",t.appendChild(r),t.appendChild(e),document.body.appendChild(t),n={height:0,baseline:0};try{t.style.alignItems="baseline",n.baseline=e.offsetTop-r.offsetTop,t.style.alignItems="flex-end",n.height=e.offsetTop-r.offsetTop}finally{document.body.removeChild(t)}return n},ts=function(e){return sG.getSizeInternal(e)},tl=function(e){return new sV(e.offsetWidth,e.offsetHeight)},ta=function(e,t){return(e=window.getComputedStyle(e))[t]||e.getPropertyValue(t)},tu=function(e){let t=new sA(0,0);e=e.getBoundingClientRect();var n=document.documentElement;return n=new sA(window.pageXOffset||n.scrollLeft,window.pageYOffset||n.scrollTop),t.x=e.left+n.x,t.y=e.top+n.y,t},tc=function(){let e=document.body,t=document.documentElement;return new sA(e.scrollLeft||t.scrollLeft,e.scrollTop||t.scrollTop)},td=function(e){let t=parseFloat(ta(e,"borderLeftWidth")),n=parseFloat(ta(e,"borderRightWidth"));return new sH(parseFloat(ta(e,"borderTopWidth")),e=parseFloat(ta(e,"borderBottomWidth")),t,n)},th=function(e,t,n){e=tp(e,t,n),t.scrollLeft=e.x,t.scrollTop=e.y},tp=function(e,t,n){var o=tu(e),r=tu(t),i=td(t);let s=o.x-r.x-i.left;return o=o.y-r.y-i.top,r=tl(e),e=t.clientWidth-r.width,r=t.clientHeight-r.height,i=t.scrollLeft,t=t.scrollTop,n?(i+=s-e/2,t+=o-r/2):(i+=Math.min(s,Math.max(s-e,0)),t+=Math.min(o,Math.max(o-r,0))),new sA(i,t)},tf=function(e){let t=new sA(0,0);var n=e.x&&e.getAttribute("x");let o=e.y&&e.getAttribute("y");return n&&(t.x=parseInt(n)),o&&(t.y=parseInt(o)),(n=(n=e.getAttribute("transform"))&&n.match(sW))&&(t.x+=Number(n[1]),n[3]&&(t.y+=Number(n[3]))),(e=e.getAttribute("style"))&&e.includes("translate")&&(e=e.match(sz))&&(t.x+=Number(e[1]),e[3]&&(t.y+=Number(e[3]))),t},tg=function(e){let t=0,n=0;for(;e;){let o=tf(e);if(t+=o.x,n+=o.y,(" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv "))break;e=e.parentNode}return new sA(t,n)},tm=function(){let e=tc();return new sH(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},t_=function(){let e=document.documentElement,t=window;return new sA(t.pageXOffset||e.scrollLeft,t.pageYOffset||e.scrollTop)},O.createElement$$module$build$src$core$utils$xml=function(e){return sZ.createElementNS(s0,e)},O.createTextNode$$module$build$src$core$utils$xml=function(e){return sZ.createTextNode(e)},O.textToDom$$module$build$src$core$utils$xml=function(e){let t=sK.parseFromString(e,"text/xml");if(t&&t.documentElement&&!t.getElementsByTagName("parsererror").length)return t.documentElement;if((t=sK.parseFromString(e,"text/html"))&&t.body.firstChild&&"xml"===t.body.firstChild.nodeName.toLowerCase())return t.body.firstChild;throw Error(`DOMParser was unable to parse: ${e}`)},tb=function(e){return ty(sJ.serializeToString(e))},ty=function(e){return e.replace(s1,e=>`&#${e.charCodeAt(0)};`)},tT=function(e){return e?((e instanceof Element||"string"==typeof e)&&(e=tO(e),e=tS(e)),tE(e),e):null},tE=function(e){let t=e.kind;if(e=e.contents,t&&t!==s6&&t!==s4)throw Error("Invalid toolbox kind "+t+". Please supply either "+s6+" or "+s4);if(!e)throw Error("Toolbox must have a contents attribute.")},tv=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:tw(e):[]},tC=function(e){return s8.hasCategoriesInternal(e)},tI=function(e){return!!e&&!!e.contents&&!!e.contents.filter(function(e){return"CATEGORY"===e.kind.toUpperCase()}).length},tS=function(e){let t={contents:tw(e)};return e instanceof Node&&tk(e,t),t},tw=function(e){let t=[],n=e.childNodes;n||(n=e);for(let o=0,r;r=n[o];o++){if(!r.tagName)continue;e={};let n=r.tagName.toUpperCase();e.kind=n,"BLOCK"===n?e.blockxml=r:r.childNodes&&0<r.childNodes.length&&(e.contents=tw(r)),tk(r,e),t.push(e)}return t},tk=function(e,t){for(let n=0;n<e.attributes.length;n++){let o=e.attributes[n];o.nodeName.includes("css-")?(t.cssconfig=t.cssconfig||{},t.cssconfig[o.nodeName.replace("css-","")]=o.value):t[o.nodeName]=o.value}},tO=function(e){let t=null;if(e)if("string"==typeof e){if("xml"!==(t=O.textToDom$$module$build$src$core$utils$xml(e)).nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(t=e);return t},tR=function(e,t,n,o,r,i){let s=i.scrollbar&&i.scrollbar.canScrollVertically();return e.horizontal===lh.LEFT?(n=r.absoluteMetrics.left+n,s&&i.RTL&&(n+=sY.scrollbarThickness)):(n=r.absoluteMetrics.left+r.viewMetrics.width-t.width-n,s&&!i.RTL&&(n-=sY.scrollbarThickness)),e.vertical===ld.TOP?e=r.absoluteMetrics.top+o:(e=r.absoluteMetrics.top+r.viewMetrics.height-t.height-o,i.scrollbar&&i.scrollbar.canScrollHorizontally()&&(e-=sY.scrollbarThickness)),new sH(e,e+t.height,n,n+t.width)},tx=function(e,t){return{horizontal:t.toolboxMetrics.position===s3.LEFT||e.horizontalLayout&&!e.RTL?lh.RIGHT:lh.LEFT,vertical:t.toolboxMetrics.position===s3.BOTTOM?ld.TOP:ld.BOTTOM}},t$=function(e,t,n,o){let r=e.left,i=e.right-e.left,s=e.bottom-e.top;for(let l=0;l<o.length;l++){let a=o[l];e.intersects(a)&&(e=new sH(e=n===lp.UP?a.top-s-t:a.bottom+t,e+s,r,r+i),l=-1)}return e},tA=function(e,t){Z(A.SERIALIZER,e,t)},tN=function(e,{addCoordinates:t=!1,saveIds:n=!0}={}){let o=e.workspace,r=Object.create(null);return r.height=e.getSize().height,r.width=e.getSize().width,n&&(r.id=e.id),t&&(t=e.getRelativeToSurfaceXY(),r.x=o.RTL?o.getWidth()-t.x:t.x,r.y=t.y),e.getText()&&(r.text=e.getText()),e.isCollapsed()&&(r.collapsed=!0),e.isOwnEditable()||(r.editable=!1),e.isOwnMovable()||(r.movable=!1),e.isOwnDeletable()||(r.deletable=!1),r},tM=function(e,t,{recordUndo:n=!1}={}){let o=e_();if(O.setRecordUndo$$module$build$src$core$events$utils(n),n=t.newComment(e.id),void 0!==e.text&&n.setText(e.text),void 0!==e.x||void 0!==e.y){var r;let o=n.getRelativeToSurfaceXY(),i,s=null!=(i=e.x)?i:o.x;s=t.RTL?t.getWidth()-s:s,t=null!=(r=e.y)?r:o.y,n.moveTo(new sA(s,t))}if(void 0!==e.width||e.height){let t,o;r=n.getSize(),n.setSize(new sV(null!=(t=e.width)?t:r.width,null!=(o=e.height)?o:r.height))}return void 0!==e.collapsed&&n.setCollapsed(e.collapsed),void 0!==e.editable&&n.setEditable(e.editable),void 0!==e.movable&&n.setMovable(e.movable),void 0!==e.deletable&&n.setDeletable(e.deletable),O.setRecordUndo$$module$build$src$core$events$utils(o),n},tL=function(e,t){Z(A.PASTER,e,t)},tD=function(e){let t=e.workspace,n=e.getRelativeToSurfaceXY(),o=new sA(0,0),r=t.getTopComments(!1).filter(t=>t.id!==e.id).map(e=>e.getRelativeToSurfaceXY());for(;tP(sA.sum(n,o),r);)o.translate(t.RTL?-30:30,30);e.moveTo(sA.sum(n,o))},tP=function(e,t){return t.some(t=>1>=Math.abs(t.x-e.x)&&1>=Math.abs(t.y-e.y))},tB=function(e,t){e.setAttribute(lm,t)},tF=function(e,t,n){Array.isArray(n)&&(n=n.join(" ")),e.setAttribute(lg+t,`${n}`)},tU=function(e){return void 0!==e.saveState&&void 0!==e.loadState},tH=function(e){return(tW(e),tj())?(tz(),Promise.resolve()):(lw||(lw=new Promise(e=>{lk=e,lO=window.requestAnimationFrame(()=>{tz(),e()})})),lw)},tV=function(){return lw||Promise.resolve()},tG=function(e){e||window.cancelAnimationFrame(lO),tz(e),!e&&lk&&lk()},tj=function(){return sl},tW=function(e){lI.add(e),lS.set(e,O.getGroup$$module$build$src$core$events$utils());let t=e.getParent();t?tW(t):lC.add(e)},tz=function(e){let t=new Set(e?[e]:[...lC].map(e=>e.workspace)),n=[...lC].filter(tY).filter(e=>t.has(e.workspace));for(var o of n)tK(o);for(let e of t)e.resizeContents();for(var r of n)o=r.getRelativeToSurfaceXY(),r.updateComponentLocations(o);for(let e of n)r=O.getGroup$$module$build$src$core$events$utils(),(o=lS.get(e))&&O.setGroup$$module$build$src$core$events$utils(o),e.bumpNeighbours(),O.setGroup$$module$build$src$core$events$utils(r);for(let e of n)tX(e);e||(lw=null)},tX=function(e){for(let t of(lC.delete(e),lI.delete(e),lS.delete(e),e.getChildren(!1)))tX(t)},tY=function(e){return!e.isDisposed()&&!e.getParent()},tK=function(e){if(lI.has(e)&&e.initialized){for(let t of e.getChildren(!1))tK(t);e.renderEfficiently()}},tJ=function(e,t){lx(e,t)},tZ=function(e,t){lN.confirmInternal(e,t)},tq=function(e,t,n){lA(e,t,n)},tQ=function(e){return void 0!==e.getProcedureDef},t0=function(e){return void 0!==e.getProcedureCall&&void 0!==e.renameProcedure},t1=function(e){return void 0!==e.getVariableModel},O.allUsedVarModels$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);let t=new Set;for(let n=0;n<e.length;n++){let o=e[n].getVarModels();if(o)for(let e=0;e<o.length;e++){let n=o[e];n.getId()&&t.add(n)}}return Array.from(t.values())},O.allDeveloperVariables$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);let t=new Set;for(let o=0,r;r=e[o];o++){var n=r.getDeveloperVariables;if(n){n=n();for(let e=0;e<n.length;e++)t.add(n[e])}}return Array.from(t.values())},t2=function(e){let t=[],n=document.createElement("button");return n.setAttribute("text","%{BKY_NEW_VARIABLE}"),n.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(e){t6(e.getTargetWorkspace())}),t.push(n),t.concat(e=t5(e))},t5=function(e){e=e.getVariablesOfType("");let t=[];if(0<e.length){var n=e[e.length-1];if(M.variables_set){var o=O.createElement$$module$build$src$core$utils$xml("block");o.setAttribute("type","variables_set"),o.setAttribute("gap",M.math_change?"8":"24"),o.appendChild(no(n)),t.push(o)}if(M.math_change&&((o=O.createElement$$module$build$src$core$utils$xml("block")).setAttribute("type","math_change"),o.setAttribute("gap",M.variables_get?"20":"8"),o.appendChild(no(n)),n=O.textToDom$$module$build$src$core$utils$xml('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),o.appendChild(n),t.push(o)),M.variables_get){e.sort(lB.compareByName);for(let o=0,r;r=e[o];o++)(n=O.createElement$$module$build$src$core$utils$xml("block")).setAttribute("type","variables_get"),n.setAttribute("gap","8"),n.appendChild(no(r)),t.push(n)}}return t},t3=function(e){return lH.generateUniqueNameInternal(e)},t4=function(e,t){if(!t.length)return e;let n="",o=lU.indexOf(e);for(;;){let r=!1;for(let n=0;n<t.length;n++)if(t[n].toLowerCase()===e){r=!0;break}if(!r)break;++o===lU.length&&(o=0,n=`${Number(n)+1}`),e=lU.charAt(o)+n}return e},t6=function(e,t,n){let o=n||"";!function n(r){t8(O.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,r,function(r){if(r){var i=t7(r,e);if(i){if(i.type===o)var s=O.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace("%1",i.name);else s=(s=O.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE).replace("%1",i.name).replace("%2",i.type);tJ(s,function(){n(r)})}else e.createVariable(r,o),t&&t(r)}else t&&t(null)})}("")},O.renameVariable$$module$build$src$core$variables=function(e,t,n){!function o(r){let i=O.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace("%1",t.name);t8(i,r,function(r){if(r){var i=t9(r,t.type,e),s=ne(t.name,r,e);if(i||s){var l="";i?l=O.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",i.name).replace("%2",i.type):s&&(l=O.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",r).replace("%2",s)),tJ(l,function(){o(r)})}else e.renameVariableById(t.getId(),r),n&&n(r)}else n&&n(null)})}("")},t8=function(e,t,n){tq(e,t,function(e){e&&((e=e.replace(/[\s\xa0]+/g," ").trim())===O.Msg$$module$build$src$core$msg.RENAME_VARIABLE||e===O.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(e=null),n(e)})},t9=function(e,t,n){n=n.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let o=0,r;r=n[o];o++)if(r.name.toLowerCase()===e&&r.type!==t)return r;return null},t7=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let n=0,o;o=t[n];n++)if(o.name.toLowerCase()===e)return o;return null},ne=function(e,t,n){return n.getProcedureMap().getProcedures().length?nt(e,t,n):nn(e,t,n)},nt=function(e,t,n){for(let r of(e=e.toLowerCase(),t=t.toLowerCase(),n=n.getProcedureMap().getProcedures())){var o=r.getParameters().filter(t1).map(e=>e.getVariableModel().name);if(o&&(n=o.some(t=>t.toLowerCase()===e),o=o.some(e=>e.toLowerCase()===t),n&&o))return r.getName()}return null},nn=function(e,t,n){for(let r of(e=e.toLowerCase(),t=t.toLowerCase(),n=n.getAllBlocks(!1))){if(!tQ(r))continue;var o=(n=r.getProcedureDef())[1];let i=o.some(t=>t.toLowerCase()===e);if(o=o.some(e=>e.toLowerCase()===t),i&&o)return n[0]}return null},no=function(e){let t=O.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name","VAR"),t.setAttribute("id",e.getId()),t.setAttribute("variabletype",e.type),e=O.createTextNode$$module$build$src$core$utils$xml(e.name),t.appendChild(e),t},O.getOrCreateVariablePackage$$module$build$src$core$variables=function(e,t,n,o){let r=O.getVariable$$module$build$src$core$variables(e,t,n,o);return r||(r=nr(e,t,n,o)),r},O.getVariable$$module$build$src$core$variables=function(e,t,n,o){let r=e.getPotentialVariableMap(),i=null;if(t&&((i=e.getVariableById(t))||!r||(i=r.getVariableById(t)),i))return i;if(n){if(void 0===o)throw Error("Tried to look up a variable by name without a type");(i=e.getVariable(n,o))||!r||(i=r.getVariable(n,o))}return i},nr=function(e,t,n,o){let r=e.getPotentialVariableMap();return n||(n=t3(e.isFlyout?e.targetWorkspace:e)),r?r.createVariable(n,o,t):e.createVariable(n,o,t)},ni=function(e,t){e=e.getAllVariables();let n=[];if(t.length!==e.length)for(let o=0;o<e.length;o++){let r=e[o];t.includes(r)||n.push(r)}return n},ns=function(e,{addCoordinates:t=!1,addInputBlocks:n=!0,addNextBlocks:o=!0,doFullSerialization:r=!0,saveIds:i=!0}={}){if(e.isInsertionMarker())return null;let s={type:e.type,id:i?e.id:void 0};return t&&na(e,s),nl(e,s),nu(e,s,r),nc(e,s,r),nd(e,s,r),n&&nh(e,s,r,i),o&&np(e,s,r,i),s},nl=function(e,t){e.isCollapsed()&&(t.collapsed=!0),e.isEnabled()||(t.disabledReasons=Array.from(e.getDisabledReasons())),e.isOwnDeletable()||(t.deletable=!1),e.isOwnMovable()||(t.movable=!1),e.isOwnEditable()||(t.editable=!1),void 0!==e.inputsInline&&e.inputsInline!==e.inputsInlineDefault&&(t.inline=e.inputsInline),e.data&&(t.data=e.data)},na=function(e,t){let n=e.workspace;e=e.getRelativeToSurfaceXY(),t.x=Math.round(n.RTL?n.getWidth()-e.x:e.x),t.y=Math.round(e.y)},nu=function(e,t,n){e.saveExtraState?null!==(e=e.saveExtraState(n))&&(t.extraState=e):e.mutationToDom&&null!==(e=e.mutationToDom())&&(t.extraState=oQ(e).replace(' xmlns="https://developers.google.com/blockly/xml"',""))},nc=function(e,t,n){let o=Object.create(null);for(let t of e.getIcons())tU(t)&&(e=t.saveState(n))&&(o[t.getType().toString()]=e);Object.keys(o).length&&(t.icons=o)},nd=function(e,t,n){let o=Object.create(null);for(let t=0;t<e.inputList.length;t++){let r=e.inputList[t];for(let e=0;e<r.fieldRow.length;e++){let t=r.fieldRow[e];t.isSerializable()&&(o[t.name]=t.saveState(n))}}Object.keys(o).length&&(t.fields=o)},nh=function(e,t,n,o){let r=Object.create(null);for(let t=0;t<e.inputList.length;t++){let i=e.inputList[t];if(!i.connection)continue;let s=nf(i.connection,n,o);s&&(r[i.name]=s)}Object.keys(r).length&&(t.inputs=r)},np=function(e,t,n,o){e.nextConnection&&(e=nf(e.nextConnection,n,o))&&(t.next=e)},nf=function(e,t,n){let o=e.getShadowState(!0);if(e=e.targetBlock(),!o&&!e)return null;let r=Object.create(null);return o&&(r.shadow=o),e&&!e.isShadow()&&(r.block=ns(e,{doFullSerialization:t,saveIds:n})),r},ng=function(e,t,{recordUndo:n=!1}={}){return e=nm(e,t,{recordUndo:n}),t.rendered&&tG(),e},nm=function(e,t,{parentConnection:n,isShadow:o=!1,recordUndo:r=!1}={}){let i,s=e_();O.setRecordUndo$$module$build$src$core$events$utils(r),(r=O.getGroup$$module$build$src$core$events$utils())||O.setGroup$$module$build$src$core$events$utils(!0),O.disable$$module$build$src$core$events$utils();let l=t.getAllVariables();try{i=n_(e,t,{parentConnection:n,isShadow:o})}finally{O.enable$$module$build$src$core$events$utils()}if(nb(t,l),eC()&&eb(new(ew(iK.BLOCK_CREATE))(i)),O.setGroup$$module$build$src$core$events$utils(r),O.setRecordUndo$$module$build$src$core$events$utils(s),t.rendered){let e=i;setTimeout(()=>{e.disposed||e.setConnectionTracking(!0)},1)}return i},n_=function(e,t,{parentConnection:n,isShadow:o=!1}={}){if(!e.type)throw new lj(e);let r=t.newBlock(e.type,e.id);return r.setShadow(o),ny(r,e),nT(r,e),nE(r,e),nv(n,r,e),nC(r,e),nI(r,e),nS(r,e),nw(r,e),nO(r,t.rendered),r},nb=function(e,t){if(eC())for(e=ni(e,t),t=0;t<e.length;t++){let n=e[t];eb(new(ew(iK.VAR_CREATE))(n))}},ny=function(e,t){let n=void 0===t.x?0:t.x;t=void 0===t.y?0:t.y;let o=e.workspace;n=o.RTL?o.getWidth()-n:n,e.moveBy(n,t)},nT=function(e,t){if(t.collapsed&&e.setCollapsed(!0),!1===t.deletable&&e.setDeletable(!1),!1===t.movable&&e.setMovable(!1),!1===t.editable&&e.setEditable(!1),!1===t.enabled&&e.setDisabledReason(!0,lv),Array.isArray(t.disabledReasons))for(let n of t.disabledReasons)e.setDisabledReason(!0,n);void 0!==t.inline&&e.setInputsInline(t.inline),void 0!==t.data&&(e.data=t.data)},nE=function(e,t){t.extraState&&(e.loadExtraState?e.loadExtraState(t.extraState):e.domToMutation&&e.domToMutation(O.textToDom$$module$build$src$core$utils$xml(t.extraState)))},nv=function(e,t,n){if(e){if(e.getSourceBlock().isShadow()&&!t.isShadow())throw new lX(n);if(e.type===O.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var o=t.outputConnection;if(!o)throw new lW("output",t,n)}else if(!(o=t.previousConnection))throw new lW("previous",t,n);if(!e.connect(o)){let r=t.workspace.connectionChecker;throw new lz(r.getErrorMessage(r.canConnectWithReason(o,e,!1),o,e),e.type===O.inputTypes$$module$build$src$core$inputs$input_types.VALUE?"output connection":"previous connection",t,n)}}},nC=function(e,t){if(t.icons){var n=Object.keys(t.icons);for(let r of n){n=t.icons[r];var o=e.getIcon(r);if(!o){if(!(o=en(A.ICON,r,!1)))throw new lY(r,e,t);o=new o(e),e.addIcon(o)}tU(o)&&o.loadState(n)}}},nI=function(e,t){if(t.fields){var n=Object.keys(t.fields);for(let o=0;o<n.length;o++){let r=n[o],i=t.fields[r],s=e.getField(r);s?s.loadState(i):console.warn(`Ignoring non-existant field ${r} in block ${e.type}`)}}},nS=function(e,t){if(t.inputs){var n=Object.keys(t.inputs);for(let o=0;o<n.length;o++){let r=n[o],i=e.getInput(r);if(!i||!i.connection)throw new lW(r,e,t);nk(i.connection,t.inputs[r])}}},nw=function(e,t){if(t.next){if(!e.nextConnection)throw new lW("next",e,t);nk(e.nextConnection,t.next)}},nk=function(e,t){t.shadow&&e.setShadowState(t.shadow),t.block&&n_(t.block,e.getSourceBlock().workspace,{parentConnection:e})},nO=function(e,t){if(t)for(let t of(e.setConnectionTracking(!1),e.initSvg(),e.queueRender(),e.getIcons()))t.onLocationChange(e.getRelativeToSurfaceXY());else e.initModel()},nR=function(e){return void 0!==e.bubbleIsVisible&&void 0!==e.setBubbleVisible},nx=function(e){return e*Math.PI/180},n$=function(e,t,n){if(n<e){let t=n;n=e,e=t}return Math.max(e,Math.min(t,n))},nA=function(){document.querySelector(".blocklyDropDownDiv")||((l9=document.createElement("div")).className="blocklyDropDownDiv",(eL()||document.body).appendChild(l9),(l7=document.createElement("div")).className="blocklyDropDownContent",l9.appendChild(l7),(ae=document.createElement("div")).className="blocklyDropDownArrow",l9.appendChild(ae),l9.style.opacity="0",l9.style.transition="transform "+ai+"s, opacity "+ai+"s",l9.addEventListener("focusin",function(){e3(l9,"blocklyFocused")}),l9.addEventListener("focusout",function(){e6(l9,"blocklyFocused")}))},nN=function(e){ac=e},nM=function(){return ad},nL=function(){return l7},nD=function(){l7.textContent="",l7.style.width=""},nP=function(e,t){l9.style.backgroundColor=e,l9.style.borderColor=t},nB=function(e,t,n){return ah=!0,nH(nU(e),e,t,n)},nF=function(e){var t=e.getSvgRoot();let n=e.workspace.scale,o=e.height*n;return e=e.width*n,new sH((t=tu(t)).y,t.y+o,t.x,t.x+e)},nU=function(e){return new sH((e=e.getScaledBBox()).top,e.bottom,e.left,e.right)},nH=function(e,t,n,o){let r=e.left+(e.right-e.left)/2,i=e.bottom;e=e.top,o&&(e+=o);let s=(o=t.getSourceBlock()).workspace;for(;s.options.parentWorkspace;)s=s.options.parentWorkspace;return nN(s.getParentSvg().parentNode),nV(t,o.RTL,r,i,r,e,n)},nV=function(e,t,n,o,r,i,s){return ad=e,al=s||null,l9.style.direction=t?"rtl":"ltr",aa=(e=eA()).getRenderer().getClassName(),au=e.getTheme().getClassName(),aa&&e3(l9,aa),au&&e3(l9,au),nJ(n,o,r,i)},nG=function(e,t,n,o){return{initialX:(e=nW(e,n.left,n.right,o.width)).divX,initialY:t,finalX:e.divX,finalY:t+ar,arrowX:e.arrowX,arrowY:-(at/2+an),arrowAtTop:!0,arrowVisible:!0}},nj=function(e,t,n,o){return{initialX:(e=nW(e,n.left,n.right,o.width)).divX,initialY:t-o.height,finalX:e.divX,finalY:t-o.height-ar,arrowX:e.arrowX,arrowY:o.height-2*an-at/2,arrowAtTop:!1,arrowVisible:!0}},nW=function(e,t,n,o){return t=n$(t,e-o/2,n-o),e=e-at/2-t,{arrowX:e=n$(n=ao,e,o-n-at),divX:t}},nz=function(){return!!ad},nX=function(e,t){return ad===e&&(t?nK():nY(),!0)},nY=function(){l9.style.transform="translate(0, 0)",l9.style.opacity="0",as=setTimeout(function(){nK()},1e3*ai),al&&(al(),al=null)},nK=function(){nz()&&(as&&clearTimeout(as),l9.style.transform="",l9.style.left="",l9.style.top="",l9.style.opacity="0",l9.style.display="none",l9.style.backgroundColor="",l9.style.borderColor="",al&&(al(),al=null),nD(),ad=null,aa&&(e6(l9,aa),aa=""),au&&(e6(l9,au),au=""),eA().markFocused())},nJ=function(e,t,n,o){(e=ap.getPositionMetrics(e,t,n,o)).arrowVisible?(ae.style.display="",ae.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",ae.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):ae.style.display="none",t=Math.floor(e.initialX),n=Math.floor(e.initialY),o=Math.floor(e.finalX);let r=Math.floor(e.finalY);return l9.style.left=t+"px",l9.style.top=n+"px",l9.style.display="block",l9.style.opacity="1",l9.style.transform="translate("+(o-t)+"px,"+(r-n)+"px)",!!e.arrowAtTop},nZ=function(){if(ad){var e=ad.getSourceBlock();let t=(e=ah?nU(ad):nF(e)).left+(e.right-e.left)/2;nJ(t,e.bottom,t,e.top)}else nY()},nq=function(e){return e.length?e.reduce(function(e,t){return e.length<t.length?e:t}).length:0},nQ=function(e,t){let n;if(!e.length)return 0;if(1===e.length)return e[0].length;let o=0;for(n=0,t=t||nq(e);n<t;n++){for(var r=e[0][n],i=1;i<e.length;i++)if(r!==e[i][n])return o;" "===r&&(o=n+1)}for(r=1;r<e.length;r++)if((i=e[r][n])&&" "!==i)return o;return t},n0=function(e,t){let n;if(!e.length)return 0;if(1===e.length)return e[0].length;let o=0;for(n=0,t=t||nq(e);n<t;n++){for(var r=e[0].substr(-n-1,1),i=1;i<e.length;i++)if(r!==e[i].substr(-n-1,1))return o;" "===r&&(o=n+1)}for(r=1;r<e.length;r++)if((i=e[r].charAt(e[r].length-n-1))&&" "!==i)return o;return t},O.wrap$$module$build$src$core$utils$string=function(e,t){e=e.split("\n");for(let n=0;n<e.length;n++)e[n]=n1(e[n],t);return e.join("\n")},n1=function(e,t){if(e.length<=t)return e;let n=e.trim().split(/\s+/);for(var o=0;o<n.length;o++)n[o].length>t&&(t=n[o].length);var r=-1/0;let i,s=1;do{o=r,i=e,e=[],r=n.length/s;let l=1;for(let t=0;t<n.length-1;t++)l<(t+1.5)/r?(l++,e[t]=!0):e[t]=!1;e=n5(n,e,t),r=n2(n,e,t),e=n3(n,e),s++}while(r>o)return i},n2=function(e,t,n){let o=[0],r=[];for(var i=0;i<e.length;i++)o[o.length-1]+=e[i].length,!0===t[i]?(o.push(0),r.push(e[i].charAt(e[i].length-1))):!1===t[i]&&o[o.length-1]++;for(i=0,e=Math.max(...o),t=0;i<o.length;i++)t-=2*Math.pow(Math.abs(n-o[i]),1.5),t-=Math.pow(e-o[i],1.5),".?!".includes(r[i])?t+=n/3:",;)]}".includes(r[i])&&(t+=n/4);return 1<o.length&&o[o.length-1]<=o[o.length-2]&&(t+=.5),t},n5=function(e,t,n){let o=n2(e,t,n),r;for(let i=0;i<t.length-1;i++){if(t[i]===t[i+1])continue;let s=[].concat(t);s[i]=!s[i],s[i+1]=!s[i+1];let l=n2(e,s,n);l>o&&(o=l,r=s)}return r?n5(e,r,n):t},n3=function(e,t){let n=[];for(let o=0;o<e.length;o++)n.push(e[o]),void 0!==t[o]&&n.push(t[o]?"\n":" ");return n.join("")},O.isNumber$$module$build$src$core$utils$string=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},n4=function(e){if(e=n6(e)){for(e=e.tooltip;"function"==typeof e;)e=e();if("string"!=typeof e)throw Error("Tooltip function must return a string.");return e}return""},n6=function(e){for(;e&&e.tooltip;){if("string"==typeof e.tooltip||"function"==typeof e.tooltip)return e;e=e.tooltip}return null},n8=function(){document.querySelector(".blocklyTooltipDiv")||((aA=document.createElement("div")).className="blocklyTooltipDiv",(eL()||document.body).appendChild(aA))},n9=function(e){e.mouseOverWrapper_=eY(e,"pointerover",null,oe),e.mouseOutWrapper_=eY(e,"pointerout",null,ot),e.addEventListener("pointermove",on,!1)},n7=function(e){e&&(eK(e.mouseOverWrapper_),eK(e.mouseOutWrapper_),e.removeEventListener("pointermove",on))},oe=function(e){ay||(e=n6(e.currentTarget),aS!==e&&(or(),aw=null,aS=e),clearTimeout(aE))},ot=function(e){ay||(aE=setTimeout(function(){aw=aS=null,or()},1),clearTimeout(av),av=0)},on=function(e){if(aS&&aS.tooltip&&!ay)if(ab){let t=aC-e.pageX;Math.sqrt(t*t+(e=aI-e.pageY)*e)>aR&&or()}else aw!==aS&&(clearTimeout(av),aC=e.pageX,aI=e.pageY,av=setTimeout(oc,ax))},oo=function(){aw=aS=null,or()},or=function(){ab&&(ab=!1,aA&&(aA.style.display="none")),av&&(clearTimeout(av),av=0)},oi=function(){or(),ay=!0},os=function(){ay=!1},ol=function(){aA&&aS&&("function"==typeof a_?a_(aA,aS):oa())},oa=function(){var e=n4(aS);e=(e=O.wrap$$module$build$src$core$utils$string(e,aT)).split("\n");for(let t=0;t<e.length;t++){let n=document.createElement("div");n.appendChild(document.createTextNode(e[t])),aA.appendChild(n)}},ou=function(e){let t=document.documentElement.clientWidth,n=document.documentElement.clientHeight,o=aC;o=e?o-(ak+aA.offsetWidth):o+ak;let r=aI+aO;return r+aA.offsetHeight>n+window.scrollY&&(r-=aA.offsetHeight+2*aO),e?o=Math.max(a$-window.scrollX,o):o+aA.offsetWidth>t+window.scrollX-2*a$&&(o=t-aA.offsetWidth-2*a$),{x:o,y:r}},oc=function(){if(!ay&&(aw=aS,aA)){aA.textContent="",ol();var e=aS.RTL;aA.style.direction=e?"rtl":"ltr",aA.style.display="block",ab=!0;var{x:t,y:n}=ou(e);aA.style.left=t+"px",aA.style.top=n+"px"}},od=function(){return aM},oh=function(){return aL},op=function(e){var t=aD[e=`${e}`.toLowerCase().trim()];if(t||(t="#"===(t="0x"===e.substring(0,2)?"#"+e.substring(2):e)[0]?t:"#"+t,/^#[0-9a-f]{6}$/.test(t)))return t;if(/^#[0-9a-f]{3}$/.test(t))return["#",t[1],t[1],t[2],t[2],t[3],t[3]].join("");var n=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return n&&(e=Number(n[1]),t=Number(n[2]),n=Number(n[3]),0<=e&&256>e&&0<=t&&256>t&&0<=n&&256>n)?of(e,t,n):null},of=function(e,t,n){return t=e<<16|t<<8|n,16>e?"#"+(0x1000000|t).toString(16).substr(1):"#"+t.toString(16)},og=function(e){return(e=op(e))?[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e]:[0,0,0]},om=function(e,t,n){let o=0,r=0,i=0;if(0===t)i=r=o=n;else{let s=Math.floor(e/60),l=e/60-s;e=n*(1-t);let a=n*(1-t*l);switch(t=n*(1-t*(1-l)),s){case 1:o=a,r=n,i=e;break;case 2:o=e,r=n,i=t;break;case 3:o=e,r=a,i=n;break;case 4:o=t,r=e,i=n;break;case 5:o=n,r=e,i=a;break;case 6:case 0:o=n,r=t,i=e}}return of(Math.floor(o),Math.floor(r),Math.floor(i))},o_=function(e,t,n){return(e=op(e))&&(t=op(t))?(e=og(e),t=og(t),of(Math.round(t[0]+n*(e[0]-t[0])),Math.round(t[1]+n*(e[1]-t[1])),Math.round(t[2]+n*(e[2]-t[2])))):null},ob=function(e){return om(e,aM,255*aL)},oy=function(e,t,n){let o=[];var r=e.split("");r.push("");var i=0;e=[];let s=null;for(let u=0;u<r.length;u++){var l=r[u];if(0===i)if("%"===l)(i=e.join(""))&&o.push(i),e.length=0,i=1;else if(n&&"\n"===l){let t=e.join("");t&&o.push(t),e.length=0,o.push(l)}else e.push(l);else if(1===i)"%"===l?(e.push(l),i=0):t&&"0"<=l&&"9">=l?(i=2,s=l,(l=e.join(""))&&o.push(l),e.length=0):"{"===l?i=3:(e.push("%",l),i=0);else if(2===i)if("0"<=l&&"9">=l)s+=l;else{var a=void 0;o.push(parseInt(null!=(a=s)?a:"",10)),u--,i=0}else 3===i&&(""===l?(e.splice(0,0,"%{"),u--,i=0):"}"!==l?e.push(l):(i=e.join(""),/[A-Z]\w*/i.test(i)&&(l=(l=i.toUpperCase()).startsWith("BKY_")?l.substring(4):null)&&l in O.Msg$$module$build$src$core$msg?"string"==typeof(i=O.Msg$$module$build$src$core$msg[l])?Array.prototype.push.apply(o,oy(i,t,n)):t?o.push(`${i}`):o.push(i):o.push("%{"+i+"}"),i=e.length=0))}for((t=e.join(""))&&o.push(t),a=[],e.length=0,r=0;r<o.length;r++)"string"!=typeof o[r]||n&&"\n"===o[r]?((t=e.join(""))&&a.push(t),e.length=0,a.push(o[r])):e.push(o[r]);return(t=e.join(""))&&a.push(t),e.length=0,a},oT=function(e){return oy(e,!0,!0)},oE=function(e){return"string"!=typeof e?e:(e=oy(e,!1,!1)).length?String(e[0]):""},ov=function(e){let t="string"==typeof e?oE(e):e;var n=Number(t);if(!isNaN(n)&&0<=n&&360>=n)return{hue:n,hex:om(n,od(),255*oh())};if(n=op(t))return{hue:null,hex:n};throw n='Invalid colour: "'+t+'"',e!==t&&(n+=' (from "'+e+'")'),Error(n)},oC=function(){return aV},oI=function(){let e=eL()||document.body;document.querySelector("."+az)?aV=document.querySelector("."+az):(aV=document.createElement("div")).className=az,e.appendChild(aV)},oS=function(e,t,n,o){if(ow(),aG=e,aW=n,n=aV){var r,i;if(n.style.direction=t?"rtl":"ltr",n.style.display="block",!o&&e instanceof aF){let t;o=null==(t=e.getSourceBlock())?void 0:t.workspace}aj=null!=(r=o)?r:null,aX=(e=null!=(i=o)?i:eA()).getRenderer().getClassName(),aY=e.getTheme().getClassName(),aX&&e3(n,aX),aY&&e3(n,aY)}},ow=function(){if(ok()){aG=null;var e=aV;e&&(e.style.display="none",e.style.left="",e.style.top="",aW&&aW(),aW=null,e.textContent="",aX&&(e6(e,aX),aX=""),aY&&(e6(e,aY),aY=""),eA().markFocused())}},ok=function(){return!!aG},oO=function(e){aG===e&&ow()},oR=function(e){null!==aj&&aj!==e||ow()},ox=function(e,t,n){aV.style.left=e+"px",aV.style.top=t+"px",aV.style.height=n+"px"},o$=function(e,t,n,o){let r=oN(e,t,n);e=oA(e,t,n,o),0>r?ox(e,0,n.height+r):ox(e,r,n.height)},oA=function(e,t,n,o){return o?Math.min(Math.max(t.right-n.width,e.left),e.right-n.width):Math.max(Math.min(t.left,e.right-n.width),e.left)},oN=function(e,t,n){return t.bottom+n.height>=e.bottom?t.top-n.height:t.bottom},oM=function(){var e;!(null==(e=aG)||!e.repositionForWindowResize)&&aG.repositionForWindowResize()||ow()},oL=function(e){aJ=e},oD=function(e,t,n,o){if(oS(aZ,n,oV,o),t.length){var r=oP(t,n,e);aq=r,oB(r,e,n),setTimeout(function(){r.focus()},1),aJ=null}else oH()},oP=function(e,t,n){let o=new lb;o.setRole(lf.MENU);for(let r=0;r<e.length;r++){let i=e[r],s=new ly(i.text);s.setRightToLeft(t),s.setRole(lf.MENUITEM),o.addChild(s),s.setEnabled(i.enabled),i.enabled&&s.onAction(function(){oH(),requestAnimationFrame(()=>{setTimeout(()=>{i.callback(i.scope,n)},0)})},{})}return o},oB=function(e,t,n){let o=tm();t=new sH(t.clientY+o.top,t.clientY+o.top,t.clientX+o.left,t.clientX+o.left),oF(e);let r=e.getSize();n&&(t.left+=r.width,t.right+=r.width,o.left+=r.width,o.right+=r.width),o$(o,t,r,n),e.focus()},oF=function(e){var t=oC();if(!t)throw Error("Attempting to create a context menu when widget div is null");e3(t=e.render(t),"blocklyContextMenu"),eX(t,"contextmenu",null,oU),e.focus()},oU=function(e){e.preventDefault(),e.stopPropagation()},oH=function(){oO(aZ),aJ=null},oV=function(){aq&&(aq.dispose(),aq=null)},O.callbackFactory$$module$build$src$core$contextmenu=function(e,t){return()=>{let n;O.disable$$module$build$src$core$events$utils();try{n=t instanceof Element?o1(t,e.workspace):nm(t,e.workspace);let o=e.getRelativeToSurfaceXY();o.x=e.RTL?o.x-O.config$$module$build$src$core$config.snapRadius:o.x+O.config$$module$build$src$core$config.snapRadius,o.y+=2*O.config$$module$build$src$core$config.snapRadius,n.moveBy(o.x,o.y)}finally{O.enable$$module$build$src$core$events$utils()}return eC()&&!n.isShadow()&&eb(new(ew(iK.BLOCK_CREATE))(n)),O.setSelected$$module$build$src$core$common(n),n}},oG=function(e,t){return t=eq(t,e.getParentSvg(),e.getInverseScreenCTM()),t.x/=e.scale,t.y/=e.scale,t},oj=function(e,t,n){t=oG(e,t),a3.set(e,sA.difference(n,t))},oW=function(e,t){if(t=oG(e,t),!(e=a3.get(e)))throw Error("Drag not initialized");return sA.sum(e,t)},oz=function(e,t=!1){let n=O.createElement$$module$build$src$core$utils$xml("comment");t||n.setAttribute("id",e.id),t=e.workspace;let o=e.getRelativeToSurfaceXY();return o.x=t.RTL?t.getWidth()-o.x:o.x,n.setAttribute("x",`${o.x}`),n.setAttribute("y",`${o.y}`),n.setAttribute("w",`${e.getSize().width}`),n.setAttribute("h",`${e.getSize().height}`),e.getText()&&(n.textContent=e.getText()),e.isCollapsed()&&n.setAttribute("collapsed","true"),e.isOwnEditable()||n.setAttribute("editable","false"),e.isOwnMovable()||n.setAttribute("movable","false"),e.isOwnDeletable()||n.setAttribute("deletable","false"),n},oX=function(e){let t=O.createElement$$module$build$src$core$utils$xml("variables");for(let n=0;n<e.length;n++){let o=e[n],r=O.createElement$$module$build$src$core$utils$xml("variable");r.appendChild(O.createTextNode$$module$build$src$core$utils$xml(o.name)),o.type&&r.setAttribute("type",o.type),r.id=o.getId(),t.appendChild(r)}return t},oY=function(e,t){if(e.isInsertionMarker()&&!(e=e.getChildren(!1)[0]))return new DocumentFragment;let n=0;if(e.workspace.RTL&&(n=e.workspace.getWidth()),t=oZ(e,t),ro(t)){let o=e.getRelativeToSurfaceXY();t.setAttribute("x",String(Math.round(e.workspace.RTL?n-o.x:o.x))),t.setAttribute("y",String(Math.round(o.y)))}return t},oK=function(e){if(e.isSerializable()){let t=O.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name",e.name||""),e.toXml(t)}return null},oJ=function(e,t){for(let n=0;n<e.inputList.length;n++){let o=e.inputList[n];for(let e=0;e<o.fieldRow.length;e++){let n=oK(o.fieldRow[e]);n&&t.appendChild(n)}}},oZ=function(e,t){let n;if(e.isInsertionMarker())return(t=e.getChildren(!1)[0])?oZ(t):new DocumentFragment;let o=O.createElement$$module$build$src$core$utils$xml(e.isShadow()?"shadow":"block");if(o.setAttribute("type",e.type),t||(o.id=e.id),e.mutationToDom){var r=e.mutationToDom();r&&(r.hasChildNodes()||r.hasAttributes())&&o.appendChild(r)}if(oJ(e,o),r=e.getCommentText()){var i=e.getIcon(lq.COMMENT),s=i.getBubbleSize();i=i.bubbleIsVisible();var l=O.createElement$$module$build$src$core$utils$xml("comment");l.appendChild(O.createTextNode$$module$build$src$core$utils$xml(r)),l.setAttribute("pinned",`${i}`),l.setAttribute("h",String(s.height)),l.setAttribute("w",String(s.width)),o.appendChild(l)}for(e.data&&((r=O.createElement$$module$build$src$core$utils$xml("data")).appendChild(O.createTextNode$$module$build$src$core$utils$xml(e.data)),o.appendChild(r)),r=0;r<e.inputList.length;r++){s=e.inputList[r];var a=void 0;if(i=!0,s.type!==O.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&s.type!==O.inputTypes$$module$build$src$core$inputs$input_types.END_ROW){l=s.connection.targetBlock(),s.type===O.inputTypes$$module$build$src$core$inputs$input_types.VALUE?a=O.createElement$$module$build$src$core$utils$xml("value"):s.type===O.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(a=O.createElement$$module$build$src$core$utils$xml("statement"));let e=s.connection.getShadowDom();!e||l&&l.isShadow()||a.appendChild(oq(e,t)),l&&(l=oZ(l,t)).nodeType===s$.ELEMENT_NODE&&(a.appendChild(l),i=!1),a.setAttribute("name",s.name),i||o.appendChild(a)}}return void 0!==e.inputsInline&&e.inputsInline!==e.inputsInlineDefault&&o.setAttribute("inline",String(e.inputsInline)),e.isCollapsed()&&o.setAttribute("collapsed","true"),e.isEnabled()||o.setAttribute("disabled-reasons",Array.from(e.getDisabledReasons()).map(encodeURIComponent).join(",")),e.isOwnDeletable()||o.setAttribute("deletable","false"),e.isOwnMovable()||o.setAttribute("movable","false"),e.isOwnEditable()||o.setAttribute("editable","false"),(a=e.getNextBlock())&&(r=oZ(a,t)).nodeType===s$.ELEMENT_NODE&&((n=O.createElement$$module$build$src$core$utils$xml("next")).appendChild(r),o.appendChild(n)),!(e=e.nextConnection&&e.nextConnection.getShadowDom())||a&&a.isShadow()||n.appendChild(oq(e,t)),o},oq=function(e,t){let n=e=e.cloneNode(!0),o;for(;n;)if(t&&"shadow"===n.nodeName&&n.removeAttribute("id"),n.firstChild)n=n.firstChild;else{for(;n&&!n.nextSibling;){let e;o=n,n=n.parentNode,o.nodeType===s$.TEXT_NODE&&""===o.data.trim()&&(null==(e=n)?void 0:e.firstChild)!==o&&e8(o)}n&&(o=n,n=n.nextSibling,o.nodeType===s$.TEXT_NODE&&""===o.data.trim()&&e8(o))}return e},oQ=function(e){return tb(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},O.domToWorkspace$$module$build$src$core$xml=function(e,t){let n=0;t.RTL&&(n=t.getWidth());let o=[];te();let r=O.getGroup$$module$build$src$core$events$utils();r||O.setGroup$$module$build$src$core$events$utils(!0),t.setResizesEnabled&&t.setResizesEnabled(!1);let i=!0;try{for(let r=0,s;s=e.childNodes[r];r++){let e=s.nodeName.toLowerCase(),r=s;if("block"!==e&&("shadow"!==e||e_())){if("shadow"===e)throw TypeError("Shadow block cannot be a top-level block.");if("comment"===e)o0(r,t);else if("variables"===e){if(i)o2(r,t);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");i=!1}}else{let e,s,l=o1(r,t);o.push(l.id);let a=parseInt(null!=(e=r.getAttribute("x"))?e:"10",10),u=parseInt(null!=(s=r.getAttribute("y"))?s:"10",10);isNaN(a)||isNaN(u)||l.moveBy(t.RTL?n-a:a,u,["create"]),i=!1}}}finally{O.setGroup$$module$build$src$core$events$utils(r),t.setResizesEnabled&&t.setResizesEnabled(!0),t.rendered&&tG(),tt()}return eb(new(ew(iK.FINISHED_LOADING))(t)),o},o0=function(e,t){var n,o,r,i;let s,l,a=null!=(n=e.getAttribute("id"))?n:void 0;return(n=t.rendered?new a9(t,a):new a8(t,a)).setText(null!=(o=e.textContent)?o:""),o=parseInt(null!=(r=e.getAttribute("x"))?r:"",10),r=parseInt(null!=(s=e.getAttribute("y"))?s:"",10),isNaN(o)||isNaN(r)||(o=t.RTL?t.getWidth()-o:o,n.moveTo(new sA(o,r))),t=parseInt(null!=(i=e.getAttribute("w"))?i:"",10),i=parseInt(null!=(l=e.getAttribute("h"))?l:"",10),isNaN(t)||isNaN(i)||n.setSize(new sV(t,i)),"true"===e.getAttribute("collapsed")&&n.setCollapsed(!0),"false"===e.getAttribute("editable")&&n.setEditable(!1),"false"===e.getAttribute("movable")&&n.setMovable(!1),"false"===e.getAttribute("deletable")&&n.setDeletable(!1),n},O.domToBlock$$module$build$src$core$xml=function(e,t){return e=o1(e,t),t.rendered&&tG(),e},o1=function(e,t){let n;O.disable$$module$build$src$core$events$utils();var o=t.getAllVariables();try{if(n=rt(e,t),t.rendered){let e=n,o=n.getDescendants(!1);e.setConnectionTracking(!1);for(let e=o.length-1;0<=e;e--)o[e].initSvg();for(let e=o.length-1;0<=e;e--)o[e].queueRender();setTimeout(function(){e.disposed||e.setConnectionTracking(!0)},1),t.resizeContents()}else{let e=n.getDescendants(!1);for(let t=e.length-1;0<=t;t--)e[t].initModel()}}finally{O.enable$$module$build$src$core$events$utils()}if(eC()){for(e=ni(t,o),t=0;t<e.length;t++)o=e[t],eb(new(ew(iK.VAR_CREATE))(o));eb(new(ew(iK.BLOCK_CREATE))(n))}return n},o2=function(e,t){for(let o=0;o<e.children.length;o++){var n=e.children[o];let r=n.getAttribute("type"),i=n.getAttribute("id");if(!(n=n.textContent))break;t.createVariable(n,r,i)}},o5=function(e){let t={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let n=0;n<e.children.length;n++){let o=e.children[n];if(o.nodeType!==s$.TEXT_NODE)switch(o.nodeName.toLowerCase()){case"mutation":t.mutation.push(o);break;case"comment":t.comment.push(o);break;case"data":t.data.push(o);break;case"title":case"field":t.field.push(o);break;case"value":case"statement":t.input.push(o);break;case"next":t.next.push(o);break;default:console.warn("Ignoring unknown tag: "+o.nodeName)}}return t},o3=function(e,t){let n=!1;for(let o=0;o<e.length;o++){let r=e[o];t.domToMutation&&(t.domToMutation(r),t.initSvg&&(n=!0))}return n},o4=function(e,t){for(let o=0;o<e.length;o++){let r,i;var n=e[o];let s=n.textContent,l="true"===n.getAttribute("pinned"),a=parseInt(null!=(r=n.getAttribute("w"))?r:"50",10);n=parseInt(null!=(i=n.getAttribute("h"))?i:"50",10),t.setCommentText(s);let u=t.getIcon(lq.COMMENT);isNaN(a)||isNaN(n)||u.setBubbleSize(new sV(a,n)),u.setBubbleVisible(l),setTimeout(()=>u.setBubbleVisible(l),1)}},o6=function(e,t){for(let n=0;n<e.length;n++)t.data=e[n].textContent},o8=function(e,t){for(let n=0;n<e.length;n++){let o=e[n],r=o.getAttribute("name");r?rn(t,r,o):console.warn(`Ignoring unnamed field in block ${t.type}`)}},o9=function(e){let t=null,n=null;for(let o=0;o<e.childNodes.length;o++){let r=e.childNodes[o];ro(r)&&("block"===r.nodeName.toLowerCase()?t=r:"shadow"===r.nodeName.toLowerCase()&&(n=r))}return{childBlockElement:t,childShadowElement:n}},o7=function(e,t,n,o){for(let i=0;i<e.length;i++){var r=e[i];let s=r.getAttribute("name"),l=s?n.getInput(s):null;if(!l){console.warn("Ignoring non-existent input "+s+" in block "+o);break}if((r=o9(r)).childBlockElement){if(!l.connection)throw TypeError("Input connection does not exist.");rt(r.childBlockElement,t,l.connection,!1)}if(r.childShadowElement){let e;null==(e=l.connection)||e.setShadowDom(r.childShadowElement)}}},re=function(e,t,n){for(let o=0;o<e.length;o++){let r=o9(e[o]);if(r.childBlockElement){if(!n.nextConnection)throw TypeError("Next statement does not exist.");if(n.nextConnection.isConnected())throw TypeError("Next statement is already connected.");rt(r.childBlockElement,t,n.nextConnection,!0)}r.childShadowElement&&n.nextConnection&&n.nextConnection.setShadowDom(r.childShadowElement)}},rt=function(e,t,n,o){let r=e.getAttribute("type");if(!r)throw TypeError("Block type unspecified: "+e.outerHTML);var i,s=null!=(i=e.getAttribute("id"))?i:void 0;i=t.newBlock(r,s);let l=o3((s=o5(e)).mutation,i);if(o4(s.comment,i),o6(s.data,i),n)if(o)if(i.previousConnection)n.connect(i.previousConnection);else throw TypeError("Next block does not have previous statement.");else if(i.outputConnection)n.connect(i.outputConnection);else if(i.previousConnection)n.connect(i.previousConnection);else throw TypeError("Child block does not have output or previous statement.");if(o8(s.field,i),o7(s.input,t,i,r),re(s.next,t,i),l&&i.initSvg(),(t=e.getAttribute("inline"))&&i.setInputsInline("true"===t),(t=e.getAttribute("disabled"))&&i.setDisabledReason("true"===t||"disabled"===t,lv),null!==(t=e.getAttribute("disabled-reasons")))for(var a of t.split(","))i.setDisabledReason(!0,decodeURIComponent(a));if((a=e.getAttribute("deletable"))&&i.setDeletable("true"===a),(a=e.getAttribute("movable"))&&i.setMovable("true"===a),(a=e.getAttribute("editable"))&&i.setEditable("true"===a),(a=e.getAttribute("collapsed"))&&i.setCollapsed("true"===a),"shadow"===e.nodeName.toLowerCase()){for(a=0,e=i.getChildren(!1);a<e.length;a++)if(!e[a].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");i.setShadow(!0)}return i},rn=function(e,t,n){let o=e.getField(t);o?o.fromXml(n):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},ro=function(e){return e.nodeType===s$.ELEMENT_NODE},rr=function(e){if(!(100<e.getDescendants(!1).length)){var t,n=e.workspace,o=e.getSvgRoot();n.getAudioManager().play("delete");var r=e.getRelativeToSurfaceXY(),i=o.cloneNode(!0);i.setAttribute("transform","translate("+r.x+","+r.y+")"),null==(t=n.getLayerManager())||t.appendToAnimationLayer({getSvgRoot:()=>i}),ri(i,{x:r.x,y:r.y,width:e.width,height:e.height},n.RTL,new Date)}},ri=function(e,t,n,o){let r=((new Date).getTime()-o.getTime())/150;1<r?e8(e):(e.setAttribute("transform","translate("+(t.x+(n?-1:1)*t.width/2*r)+","+(t.y+t.height/2*r)+") scale("+(1-r)+")"),setTimeout(ri,10,e,t,n,o))},rs=function(e){var t=e.workspace;let n=t.scale;if(t.getAudioManager().play("click"),!(1>n)){var o=t.getSvgXY(e.getSvgRoot());e.outputConnection?(o.x+=(e.RTL?3:-3)*n,o.y+=13*n):e.previousConnection&&(o.x+=(e.RTL?-23:23)*n,o.y+=3*n);var r=e5(sU.CIRCLE,{cx:o.x,cy:o.y,r:0,fill:"none",stroke:"#888","stroke-width":10},t.getParentSvg());e=e5(sU.ANIMATE,{id:"animationCircle",begin:"indefinite",attributeName:"r",dur:"150ms",from:0,to:25*n},r),t=e5(sU.ANIMATE,{id:"animationOpacity",begin:"indefinite",attributeName:"opacity",dur:"150ms",from:1,to:0},r),e.beginElement(),t.beginElement(),setTimeout(()=>void e8(r),150)}},rl=function(e){if(ru(),e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var t=e.getHeightWidth().height;t=Math.atan(10/t)/Math.PI*180,e.RTL||(t*=-1),us=e,ra(e,t,new Date,0)}},ra=function(e,t,n,o){let r=[.66,1,.66,0,-.66,-1,-.66,0],i="";n.getTime()+200>(new Date).getTime()&&(i=`skewX(${Math.round(r[o%r.length]*t)})`,ui=setTimeout(ra,15,e,t,n,o+1)),e.getSvgRoot().setAttribute("transform",`${e.getTranslation()} ${i}`)},ru=function(){us&&(ui&&(clearTimeout(ui),ui=null),us.getSvgRoot().setAttribute("transform",us.getTranslation()),us=null)},rc=function(e){return void 0!==e.getRelativeToSurfaceXY&&void 0!==e.isMovable&&void 0!==e.startDrag&&void 0!==e.drag&&void 0!==e.endDrag&&void 0!==e.revertDrag},rd=function(e,t){for(let n in t)e[n]=null!==t[n]&&"object"==typeof t[n]?rd(e[n]||Object.create(null),t[n]):t[n];return e},rh=function(e,t){Z(A.FIELD,e,t)},O.fromJson$$module$build$src$core$field_registry=function(e){return um.fromJsonInternal(e)},O.register$$module$build$src$core$extensions=function(e,t){if("string"!=typeof e||""===e.trim())throw Error('Error: Invalid extension name "'+e+'"');if(uO[e])throw Error('Error: Extension "'+e+'" is already registered.');if("function"!=typeof t)throw Error('Error: Extension "'+e+'" must be a function');uO[e]=t},O.registerMixin$$module$build$src$core$extensions=function(e,t){if(!t||"object"!=typeof t)throw Error('Error: Mixin "'+e+'" must be a object');O.register$$module$build$src$core$extensions(e,function(){this.mixin(t)})},O.registerMutator$$module$build$src$core$extensions=function(e,t,n,o){let r='Error when registering mutator "'+e+'": ';rb(r,t);let i=rm(t,r);if(n&&"function"!=typeof n)throw Error(r+'Extension "'+e+'" is not a function');O.register$$module$build$src$core$extensions(e,function(){i&&this.setMutator(new O.MutatorIcon$$module$build$src$core$icons$mutator_icon(o||[],this)),this.mixin(t),n&&n.apply(this)})},rp=function(e){return!!uO[e]},rf=function(e,t,n){let o,r=uO[e];if("function"!=typeof r)throw Error('Error: Extension "'+e+'" not found.');if(n?rg(e,t):o=ry(t),r.apply(t),n)rb('Error after applying mutator "'+e+'": ',t);else if(!rT(o,t))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},rg=function(e,t){if(ry(t).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+t.id)},rm=function(e,t){return r_(e.compose,e.decompose,t+" compose/decompose")},r_=function(e,t,n){if(e&&t){if("function"!=typeof e||"function"!=typeof t)throw Error(n+" must be a function");return!0}if(!e&&!t)return!1;throw Error(n+"Must have both or neither functions")},rb=function(e,t){let n=r_(t.mutationToDom,t.domToMutation,e+" mutationToDom/domToMutation"),o=r_(t.saveExtraState,t.loadExtraState,e+" saveExtraState/loadExtraState");if(!n&&!o)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");rm(t,e)},ry=function(e){let t=[];return void 0!==e.domToMutation&&t.push(e.domToMutation),void 0!==e.mutationToDom&&t.push(e.mutationToDom),void 0!==e.saveExtraState&&t.push(e.saveExtraState),void 0!==e.loadExtraState&&t.push(e.loadExtraState),void 0!==e.compose&&t.push(e.compose),void 0!==e.decompose&&t.push(e.decompose),t},rT=function(e,t){if((t=ry(t)).length!==e.length)return!1;for(let n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0},O.buildTooltipForDropdown$$module$build$src$core$extensions=function(e,t){let n=[];return function(){n.includes(this.type)||(rE(this,e,t),n.push(this.type)),this.setTooltip((function(){return oE(t[String(this.getFieldValue(e))])}).bind(this))}},rE=function(e,t,n){var o=e.getField(t);if(o instanceof ub&&!o.isOptionListDynamic())for(let[,r]of o=o.getOptions())void 0===n[r]&&console.warn(`No tooltip mapping for value ${r} of field ${t} of block type ${e.type}.`)},O.buildTooltipWithFieldText$$module$build$src$core$extensions=function(e,t){return function(){this.setTooltip((function(){let n=this.getField(t);return oE(e).replace("%1",n?n.getText():"")}).bind(this))}},rv=function(e,t){return" "+e+","+t+" "},rC=function(e,t){return" "+e+t.join("")},rI=function(e,t){return" M "+e+","+t+" "},rS=function(e,t){return" m "+e+","+t+" "},rw=function(e,t){return" l "+e+","+t+" "},rk=function(e){return" l"+e.join("")},rO=function(e,t){return" "+e+" "+t+" "},rR=function(e,t,n,o){return e+" "+n+" "+n+" "+t+o},rx=function(e,t){Z(A.ICON,e.toString(),t)},r$=function(e){return void 0!==e.getProcedureModel&&void 0!==e.doProcedureUpdate&&void 0!==e.isProcedureDef},rA=function(e){return void 0!==e.startPublishing&&void 0!==e.stopPublishing},rN=function(e){let t=e.getProcedureMap().getProcedures().filter(e=>!e.getReturnTypes()).map(e=>[e.getName(),e.getParameters().map(e=>e.getName()),!1]);e.getBlocksByType("procedures_defnoreturn",!1).forEach(e=>{!r$(e)&&tQ(e)&&t.push(e.getProcedureDef())});let n=e.getProcedureMap().getProcedures().filter(e=>!!e.getReturnTypes()).map(e=>[e.getName(),e.getParameters().map(e=>e.getName()),!0]);return e.getBlocksByType("procedures_defreturn",!1).forEach(e=>{!r$(e)&&tQ(e)&&n.push(e.getProcedureDef())}),t.sort(rM),n.sort(rM),[t,n]},rM=function(e,t){return e[0].localeCompare(t[0],void 0,{sensitivity:"base"})},O.findLegalName$$module$build$src$core$procedures=function(e,t){if(t.isInFlyout)return e;for(e=e||O.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";!rL(e,t.workspace,t);){let t=e.match(/^(.*?)(\d+)$/);e=t?t[1]+(parseInt(t[2])+1):e+"2"}return e},rL=function(e,t,n){return!rD(e,t,n)},rD=function(e,t,n){for(let o of t.getAllBlocks(!1))if(o!==n&&tQ(o)&&O.Names$$module$build$src$core$names.equals(o.getProcedureDef()[0],e))return!0;for(let o of(n=n&&r$(n)?null==n?void 0:n.getProcedureModel():void 0,t.getProcedureMap().getProcedures()))if(o!==n&&O.Names$$module$build$src$core$names.equals(o.getName(),e))return!0;return!1},O.rename$$module$build$src$core$procedures=function(e){var t=this.getSourceBlock();if(!t)throw new aU;e=e.trim();let n=O.findLegalName$$module$build$src$core$procedures(e,t);r$(t)&&!t.isInsertionMarker()&&t.getProcedureModel().setName(n);let o=this.getValue();if(o!==e&&o!==n)for(e=t.workspace.getAllBlocks(!1),t=0;t<e.length;t++){let r=e[t];r.renameProcedure&&r.renameProcedure(o,n)}return n},rP=function(e){function t(e,t){for(let r=0;r<e.length;r++){var o=e[r][0];let i=e[r][1],s=O.createElement$$module$build$src$core$utils$xml("block");s.setAttribute("type",t),s.setAttribute("gap","16");let l=O.createElement$$module$build$src$core$utils$xml("mutation");for(l.setAttribute("name",o),s.appendChild(l),o=0;o<i.length;o++){let e=O.createElement$$module$build$src$core$utils$xml("arg");e.setAttribute("name",i[o]),l.appendChild(e)}n.push(s)}}let n=[];if(M.procedures_defnoreturn){var o=O.createElement$$module$build$src$core$utils$xml("block");o.setAttribute("type","procedures_defnoreturn"),o.setAttribute("gap","16");var r=O.createElement$$module$build$src$core$utils$xml("field");r.setAttribute("name","NAME"),r.appendChild(O.createTextNode$$module$build$src$core$utils$xml(O.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE)),o.appendChild(r),n.push(o)}return M.procedures_defreturn&&((o=O.createElement$$module$build$src$core$utils$xml("block")).setAttribute("type","procedures_defreturn"),o.setAttribute("gap","16"),(r=O.createElement$$module$build$src$core$utils$xml("field")).setAttribute("name","NAME"),r.appendChild(O.createTextNode$$module$build$src$core$utils$xml(O.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),o.appendChild(r),n.push(o)),M.procedures_ifreturn&&((o=O.createElement$$module$build$src$core$utils$xml("block")).setAttribute("type","procedures_ifreturn"),o.setAttribute("gap","16"),n.push(o)),n.length&&n[n.length-1].setAttribute("gap","24"),t((e=rN(e))[0],"procedures_callnoreturn"),t(e[1],"procedures_callreturn"),n},rB=function(e){var t=[],n=e.getBlocksByType("procedures_mutatorarg",!1);for(let e=0,o;o=n[e];e++)t.push(o.getFieldValue("NAME"));n=O.createElement$$module$build$src$core$utils$xml("xml");let o=O.createElement$$module$build$src$core$utils$xml("block");o.setAttribute("type","procedures_mutatorarg");let r=O.createElement$$module$build$src$core$utils$xml("field");r.setAttribute("name","NAME"),t=t4(O.DEFAULT_ARG$$module$build$src$core$procedures,t),t=O.createTextNode$$module$build$src$core$utils$xml(t),r.appendChild(t),o.appendChild(r),n.appendChild(o),e.updateToolbox(n)},rF=function(e){if(eg(e)&&"mutator"===e.bubbleType&&e.isOpen&&e.blockId){var t=(e=eO(e.workspaceId).getBlockById(e.blockId)).type;("procedures_defnoreturn"===t||"procedures_defreturn"===t)&&(rB(e=e.getIcon(O.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace()),e.addChangeListener(rU))}},rU=function(e){(eu(e)||ec(e)||ed(e)||eh(e))&&rB(e=eO(e.workspaceId))},rH=function(e,t){return t.getAllBlocks(!1).filter(t=>rV(t,e)||t0(t)&&O.Names$$module$build$src$core$names.equals(t.getProcedureCall(),e))},rV=function(e,t){return r$(e)&&!e.isProcedureDef()&&e.getProcedureModel()&&O.Names$$module$build$src$core$names.equals(e.getProcedureModel().getName(),t)},O.mutateCallers$$module$build$src$core$procedures=function(e){let t=e_();var n=e.getProcedureDef()[0];let o=e.mutationToDom(!0);e=rH(n,e.workspace);for(let i=0,s;s=e[i];i++){n=(n=s.mutationToDom())&&tb(n),s.domToMutation&&s.domToMutation(o);var r=s.mutationToDom();n!==(r=r&&tb(r))&&(O.setRecordUndo$$module$build$src$core$events$utils(!1),eb(new(ew(iK.BLOCK_CHANGE))(s,"mutation",null,n,r)),O.setRecordUndo$$module$build$src$core$events$utils(t))}},O.getDefinition$$module$build$src$core$procedures=function(e,t){for(let n of t.getAllBlocks(!1))if(r$(n)&&n.isProcedureDef()&&O.Names$$module$build$src$core$names.equals(n.getProcedureModel().getName(),e)||tQ(n)&&O.Names$$module$build$src$core$names.equals(n.getProcedureDef()[0],e))return n;return null},rG=function(e){return e.isDynamic},rj=function(e){return void 0!==e.pathDown&&void 0!==e.pathUp},rW=function(e){return void 0!==e.pathLeft&&void 0!==e.pathRight},rz=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},rX=function(e,t){let n=null,o=null==(t=t.outputConnection)?void 0:t.getConnectionChecker();for(let r=0,i;i=e.inputList[r];r++){let e=i.connection;if(e&&(null==o?0:o.canConnect(t,e,!1))){if(n)return null;n=e}}return n},rY=function(e,t){let n;for(;n=rX(e,t);)if(!(e=n.targetBlock())||e.isShadow())return n;return null},rK=function(e){return void 0!==e.getType&&void 0!==e.initView&&void 0!==e.dispose&&void 0!==e.getWeight&&void 0!==e.getSize&&void 0!==e.applyColour&&void 0!==e.hideForInsertionMarker&&void 0!==e.updateEditable&&void 0!==e.updateCollapsed&&void 0!==e.isShownWhenCollapsed&&void 0!==e.setOffsetInBlock&&void 0!==e.onLocationChange&&void 0!==e.onClick},rJ=function(e){let t=e.outputConnection;return(!t||e.previousConnection&&e.previousConnection.isConnected())&&(t=e.previousConnection),t},rZ=function(e,t){Z(A.RENDERER,e,t)},rq=function(e,t,n){return(e=new(en(A.RENDERER,e))(e)).init(t,n),e},rQ=function(e){t6(e.getTargetWorkspace(),void 0,"String")},r0=function(e){t6(e.getTargetWorkspace(),void 0,"Number")},r1=function(e){t6(e.getTargetWorkspace(),void 0,"Colour")},r2=function(e){let t=[],n=document.createElement("button");return n.setAttribute("text",O.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),t.push(n),(n=document.createElement("button")).setAttribute("text",O.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),t.push(n),(n=document.createElement("button")).setAttribute("text",O.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),t.push(n),e.registerButtonCallback("CREATE_VARIABLE_STRING",rQ),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",r0),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",r1),t.concat(e=r5(e))},r5=function(e){e=e.getAllVariables();let t=[];if(0<e.length){if(M.variables_set_dynamic){var n=e[e.length-1];let o=O.createElement$$module$build$src$core$utils$xml("block");o.setAttribute("type","variables_set_dynamic"),o.setAttribute("gap","24"),o.appendChild(no(n)),t.push(o)}if(M.variables_get_dynamic){e.sort(lB.compareByName);for(let o=0,r;r=e[o];o++)(n=O.createElement$$module$build$src$core$utils$xml("block")).setAttribute("type","variables_get_dynamic"),n.setAttribute("gap","8"),n.appendChild(no(r)),t.push(n)}}return t},r3=function(e,t){let n=e.workspace,o=O.config$$module$build$src$core$config.snapRadius,r=sA.difference(t,e.getRelativeToSurfaceXY()),i=new sA(0,0),s=n.getAllBlocks(!1).filter(t=>t.id!=e.id).map(e=>e.getRelativeToSurfaceXY());for(;r4(sA.sum(t,i),s)||r6(e,sA.sum(r,i),o);)n.RTL?i.translate(-o,2*o):i.translate(o,2*o);e.moveTo(sA.sum(t,i))},r4=function(e,t){return t.some(t=>1>=Math.abs(t.x-e.x)&&1>=Math.abs(t.y-e.y))},r6=function(e,t,n){return e.getConnections_(!1).some(e=>!!e.closest(n,t).connection)},r8=function(e,t,n){let o=n.getBoundingRectangle(),r=o.right-o.left,i=n$(t.top,o.top,t.top+t.height-(o.bottom-o.top))-o.top,s=t.left;return t=t.left+t.width-r,e.RTL?s=Math.min(t,s):t=Math.max(s,t),(!!(e=n$(s,o.left,t)-o.left)||!!i)&&(n.moveBy(e,i,["inbounds"]),!0)},r9=function(e){return t=>{var n,o=e.getMetricsManager();if(o.hasFixedEdges()&&!e.isDragging())if(L.includes(null!=(n=t.type)?n:"")){n=o.getScrollMetrics(!0);let r=r7(e,t);r&&(o=O.getGroup$$module$build$src$core$events$utils()||!1,O.setGroup$$module$build$src$core$events$utils(t.group),r8(e,n,r)&&!t.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),O.setGroup$$module$build$src$core$events$utils(o))}else em(t)&&t.scale&&t.oldScale&&t.scale>t.oldScale&&ie(e)}},r7=function(e,t){let n=null;switch(t.type){case iK.BLOCK_CREATE:case iK.BLOCK_MOVE:(n=e.getBlockById(t.blockId))&&(n=n.getRootBlock());break;case iK.COMMENT_CREATE:case iK.COMMENT_MOVE:case iK.COMMENT_RESIZE:n=e.getCommentById(t.commentId)}return n},ie=function(e){var t=e.getMetricsManager();if(t.hasFixedEdges()&&!e.isDragging()){t=t.getScrollMetrics(!0);var n=e.getTopBoundedElements();for(let o=0,r;r=n[o];o++)r8(e,t,r)}},it=function(e){return void 0!==e.isDeletable&&void 0!==e.dispose&&void 0!==e.setDeleteStyle},io=function(e,t,n){return e&&t?ir(e,t,n):dr&&di?ir(dr,di):null},ir=function(e,t,n){let o,r,i;return t=t.isMutator?t:null!=(o=t.getRootWorkspace())?o:t,null!=(i=null==(r=eo(A.PASTER,e.paster,!1))?void 0:r.paste(e,t,n))?i:null},ii=function(e){return void 0!==e.toCopyData},is=function(){dn.registry.register({name:d4.ESCAPE,preconditionFn:e=>!e.options.readOnly,callback:e=>(e.hideChaff(),!0),keyCodes:[d2.ESC]})},il=function(){dn.registry.register({name:d4.DELETE,preconditionFn(e){let t=eM();return!e.options.readOnly&&null!=t&&it(t)&&t.isDeletable()&&!uu.inProgress()},callback:(e,t)=>(t.preventDefault(),(e=eM())instanceof cX?e.checkAndDelete():it(e)&&e.isDeletable()&&(O.setGroup$$module$build$src$core$events$utils(!0),e.dispose(),O.setGroup$$module$build$src$core$events$utils(!1)),!0),keyCodes:[d2.DELETE,d2.BACKSPACE]})},ia=function(){let e=dn.registry.createSerializedKey(d2.C,[d2.CTRL]),t=dn.registry.createSerializedKey(d2.C,[d2.ALT]),n=dn.registry.createSerializedKey(d2.C,[d2.META]);dn.registry.register({name:d4.COPY,preconditionFn(e){let t=eM();return!e.options.readOnly&&!uu.inProgress()&&null!=t&&it(t)&&t.isDeletable()&&rc(t)&&t.isMovable()&&ii(t)},callback:(e,t)=>(t.preventDefault(),e.hideChaff(),!!(t=eM())&&!!ii(t)&&(dl=t.toCopyData(),da=t.workspace instanceof cN?t.workspace:e,du=rc(t)?t.getRelativeToSurfaceXY():null,!!dl)),keyCodes:[e,t,n]})},iu=function(){let e=dn.registry.createSerializedKey(d2.X,[d2.CTRL]),t=dn.registry.createSerializedKey(d2.X,[d2.ALT]),n=dn.registry.createSerializedKey(d2.X,[d2.META]);dn.registry.register({name:d4.CUT,preconditionFn(e){let t=eM();return!e.options.readOnly&&!uu.inProgress()&&null!=t&&it(t)&&t.isDeletable()&&rc(t)&&t.isMovable()&&!t.workspace.isFlyout},callback(e){let t=eM();return t instanceof cX?(dl=t.toCopyData(),da=e,du=t.getRelativeToSurfaceXY(),t.checkAndDelete(),!0):!!(it(t)&&t.isDeletable()&&ii(t))&&(dl=t.toCopyData(),da=e,du=rc(t)?t.getRelativeToSurfaceXY():null,t.dispose(),!0)},keyCodes:[e,t,n]})},ic=function(){let e=dn.registry.createSerializedKey(d2.V,[d2.CTRL]),t=dn.registry.createSerializedKey(d2.V,[d2.ALT]),n=dn.registry.createSerializedKey(d2.V,[d2.META]);dn.registry.register({name:d4.PASTE,preconditionFn:e=>!e.options.readOnly&&!uu.inProgress(),callback(){if(!dl||!da)return!1;if(!du)return!!io(dl,da);let{left:e,top:t,width:n,height:o}=da.getMetricsManager().getViewMetrics(!0);if(new sH(t,t+o,e,e+n).contains(du.x,du.y))return!!io(dl,da);let r=new sA(e+n/2,t+o/2);return!!io(dl,da,r)},keyCodes:[e,t,n]})},id=function(){let e=dn.registry.createSerializedKey(d2.Z,[d2.CTRL]),t=dn.registry.createSerializedKey(d2.Z,[d2.ALT]),n=dn.registry.createSerializedKey(d2.Z,[d2.META]);dn.registry.register({name:d4.UNDO,preconditionFn:e=>!e.options.readOnly&&!uu.inProgress(),callback:(e,t)=>(e.hideChaff(),e.undo(!1),t.preventDefault(),!0),keyCodes:[e,t,n]})},ih=function(){let e=dn.registry.createSerializedKey(d2.Z,[d2.SHIFT,d2.CTRL]),t=dn.registry.createSerializedKey(d2.Z,[d2.SHIFT,d2.ALT]),n=dn.registry.createSerializedKey(d2.Z,[d2.SHIFT,d2.META]),o=dn.registry.createSerializedKey(d2.Y,[d2.CTRL]);dn.registry.register({name:d4.REDO,preconditionFn:e=>!uu.inProgress()&&!e.options.readOnly,callback:(e,t)=>(e.hideChaff(),e.undo(!0),t.preventDefault(),!0),keyCodes:[e,t,n,o]})},ip=function(){is(),il(),ia(),iu(),ic(),id(),ih()},ig=function(e){let t=e.saveState();return e.getParameters().length&&(t.parameters=e.getParameters().map(e=>e.saveState())),t},im=function(e,t,n,o){if(e=e.loadState(n,o),!n.parameters)return e;for(let[r,i]of n.parameters.entries())e.insertParameter(t.loadState(i,o),r);return e},i_=function(e,t){e.setAttribute("dir","LTR"),e2(t.hasCss,t.pathToMedia),e=e5(sU.SVG,{xmlns:sN,"xmlns:html":sM,"xmlns:xlink":sL,version:"1.1",class:"blocklySvg",tabindex:"0"},e);let n=e5(sU.DEFS,{},e),o=String(Math.random()).substring(2);return t.gridPattern=uc.createDom(o,t.gridOptions,n),e},ib=function(e,t,n){n.parentWorkspace=null;let o=(n=new cN(n)).options;n.scale=o.zoomOptions.startScale,t.appendChild(n.createDom("blocklyMainBackground",e));var r=n.getRenderer().getClassName();return r&&e3(e,r),(r=n.getTheme().getClassName())&&e3(e,r),!o.hasCategories&&o.languageTree&&e9(e=n.addFlyout(sU.SVG),t),o.hasTrashcan&&n.addTrashcan(),o.zoomOptions&&o.zoomOptions.controls&&n.addZoomControls(),n.getThemeManager().subscribe(t,"workspaceBackgroundColour","background-color"),n.translate(0,0),n.addChangeListener(r9(n)),eP(n),oI(),nA(),n8(),n},iy=function(e){let t=e.options;var n=e.getParentSvg();if(eX(n.parentNode,"contextmenu",null,function(e){eJ(e)||e.preventDefault()}),n=eX(window,"resize",null,function(){or(),e.hideComponents(!0),nZ(),oM(),eP(e),ie(e)}),e.setResizeHandlerWrapper(n),iE(),t.languageTree){n=e.getToolbox();let o=e.getFlyout(!0);n?n.init():o&&(o.init(e),o.show(t.languageTree),"function"==typeof o.scrollToStart&&o.scrollToStart())}t.hasTrashcan&&e.trashcan.init(),t.zoomOptions&&t.zoomOptions.controls&&e.zoomControls_.init(),t.moveOptions&&t.moveOptions.scrollbars?(e.scrollbar=new dm(e,!0===t.moveOptions.scrollbars||!!t.moveOptions.scrollbars.horizontal,!0===t.moveOptions.scrollbars||!!t.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),t.hasSounds&&iv(t.pathToMedia,e)},iT=function(e){let t=eA();t&&!(eJ(e)||t.rendered&&!t.isVisible())&&dn.registry.onKeyDown(t,e)},iE=function(){dN||(eX(document,"scroll",null,function(){let e=eR();for(let t=0,n;n=e[t];t++)n instanceof cN&&n.updateInverseScreenCTM()}),eY(document,"touchend",null,eV),eY(document,"touchcancel",null,eV)),dN=!0},iv=function(e,t){function n(){for(;r.length;){let e=r.pop();e&&eK(e)}o.preload()}let o=t.getAudioManager();o.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),o.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),o.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");let r=[];r.push(eX(document,"pointermove",null,n,!0)),r.push(eX(document,"touchstart",null,n,!0))},iC=function(){a0.registry.register({displayText:()=>O.Msg$$module$build$src$core$msg.UNDO,preconditionFn:e=>0<e.workspace.getUndoStack().length?"enabled":"disabled",callback(e){e.workspace.undo(!1)},scopeType:a0.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},iI=function(){a0.registry.register({displayText:()=>O.Msg$$module$build$src$core$msg.REDO,preconditionFn:e=>0<e.workspace.getRedoStack().length?"enabled":"disabled",callback(e){e.workspace.undo(!0)},scopeType:a0.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},iS=function(){a0.registry.register({displayText:()=>O.Msg$$module$build$src$core$msg.CLEAN_UP,preconditionFn:e=>e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden",callback(e){e.workspace.cleanUp()},scopeType:a0.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},iw=function(e,t){function n(t){r--,t.setCollapsed(e),0===r&&O.setGroup$$module$build$src$core$events$utils(!1)}let o=0,r=0;O.setGroup$$module$build$src$core$events$utils(!0);for(let e=0;e<t.length;e++){let i=t[e];for(;i;)r++,setTimeout(n.bind(null,i),o),i=i.getNextBlock(),o+=10}},ik=function(){a0.registry.register({displayText:()=>O.Msg$$module$build$src$core$msg.COLLAPSE_ALL,preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let n=e[t];for(;n;){if(!n.isCollapsed())return"enabled";n=n.getNextBlock()}}return"disabled"}return"hidden"},callback(e){iw(!0,e.workspace.getTopBlocks(!0))},scopeType:a0.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},iO=function(){a0.registry.register({displayText:()=>O.Msg$$module$build$src$core$msg.EXPAND_ALL,preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let n=e[t];for(;n;){if(n.isCollapsed())return"enabled";n=n.getNextBlock()}}return"disabled"}return"hidden"},callback(e){iw(!1,e.workspace.getTopBlocks(!0))},scopeType:a0.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},iR=function(e,t){if(e.isDeletable())Array.prototype.push.apply(t,e.getDescendants(!1));else{e=e.getChildren(!1);for(let n=0;n<e.length;n++)iR(e[n],t)}},ix=function(e){let t=[];e=e.getTopBlocks(!0);for(let n=0;n<e.length;n++)iR(e[n],t);return t},i$=function(e,t){t?O.setGroup$$module$build$src$core$events$utils(t):(O.setGroup$$module$build$src$core$events$utils(!0),t=O.getGroup$$module$build$src$core$events$utils());let n=e.shift();n&&(n.isDeadOrDying()?i$(e,t):(n.dispose(!1,!0),setTimeout(i$,10,e,t))),O.setGroup$$module$build$src$core$events$utils(!1)},iA=function(){a0.registry.register({displayText:e=>e.workspace?1===(e=ix(e.workspace).length)?O.Msg$$module$build$src$core$msg.DELETE_BLOCK:O.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`):"",preconditionFn:e=>e.workspace&&0<ix(e.workspace).length?"enabled":"disabled",callback(e){if(e.workspace){e.workspace.cancelCurrentGesture();var t=ix(e.workspace);2>t.length?i$(t):tZ(O.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace("%1",String(t.length)),function(e){e&&i$(t)})}},scopeType:a0.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},iN=function(){iC(),iI(),iS(),ik(),iO(),iA()},iM=function(){a0.registry.register({displayText:()=>O.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK,preconditionFn:e=>(null==(e=e.block)||!e.isInFlyout)&&(null==e?0:e.isDeletable())&&(null==e?0:e.isMovable())?e.isDuplicatable()?"enabled":"disabled":"hidden",callback(e){if(e.block){var t=(e=e.block).workspace,n=eM();n&&n.unselect(),t.selectedBlock_&&(t.selectedBlock_=null),iX(e)()}},scopeType:a0.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},iL=function(){a0.registry.register({displayText:e=>e.block.hasIcon(uM.TYPE)?O.Msg$$module$build$src$core$msg.REMOVE_COMMENT:O.Msg$$module$build$src$core$msg.ADD_COMMENT,preconditionFn:e=>!(e=e.block).isInFlyout&&e.workspace.options.comments&&!e.isCollapsed()&&e.isEditable()?"enabled":"hidden",callback(e){(e=e.block).hasIcon(uM.TYPE)?e.setCommentText(null):e.setCommentText("")},scopeType:a0.ScopeType.BLOCK,id:"blockComment",weight:2})},iD=function(){a0.registry.register({displayText:e=>e.block.getInputsInline()?O.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:O.Msg$$module$build$src$core$msg.INLINE_INPUTS,preconditionFn(e){if(!(e=e.block).isInFlyout&&e.isMovable()&&!e.isCollapsed()){for(let t=1;t<e.inputList.length;t++)if(!(e.inputList[t-1]instanceof dI||e.inputList[t]instanceof dI))return"enabled"}return"hidden"},callback(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:a0.ScopeType.BLOCK,id:"blockInline",weight:3})},iP=function(){a0.registry.register({displayText:e=>e.block.isCollapsed()?O.Msg$$module$build$src$core$msg.EXPAND_BLOCK:O.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK,preconditionFn:e=>!(e=e.block).isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden",callback(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:a0.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},iB=function(){a0.registry.register({displayText:e=>e.block.hasDisabledReason(lv)?O.Msg$$module$build$src$core$msg.ENABLE_BLOCK:O.Msg$$module$build$src$core$msg.DISABLE_BLOCK,preconditionFn(e){if(!(e=e.block).isInFlyout&&e.workspace.options.disable&&e.isEditable()){var t=e.getDisabledReasons();return t=t.size>+!!t.has(lv),e.getInheritedDisabled()||t?"disabled":"enabled"}return"hidden"},callback(e){e=e.block;let t=O.getGroup$$module$build$src$core$events$utils();t||O.setGroup$$module$build$src$core$events$utils(!0),e.setDisabledReason(!e.hasDisabledReason(lv),lv),O.setGroup$$module$build$src$core$events$utils(t)},scopeType:a0.ScopeType.BLOCK,id:"blockDisable",weight:5})},iF=function(){a0.registry.register({displayText(e){var t=e.block;return e=t.getDescendants(!1).length,(t=t.getNextBlock())&&(e-=t.getDescendants(!1).length),1===e?O.Msg$$module$build$src$core$msg.DELETE_BLOCK:O.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)},preconditionFn:e=>!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden",callback(e){e.block&&e.block.checkAndDelete()},scopeType:a0.ScopeType.BLOCK,id:"blockDelete",weight:6})},iU=function(){a0.registry.register({displayText:()=>O.Msg$$module$build$src$core$msg.HELP,preconditionFn:e=>("function"==typeof(e=e.block).helpUrl?e.helpUrl():e.helpUrl)?"enabled":"hidden",callback(e){e.block.showHelp()},scopeType:a0.ScopeType.BLOCK,id:"blockHelp",weight:7})},iH=function(){a0.registry.register({displayText:()=>O.Msg$$module$build$src$core$msg.REMOVE_COMMENT,preconditionFn(e){let t;return(null==(t=e.comment)?0:t.isDeletable())?"enabled":"hidden"},callback(e){let t;O.setGroup$$module$build$src$core$events$utils(!0),null==(t=e.comment)||t.dispose(),O.setGroup$$module$build$src$core$events$utils(!1)},scopeType:a0.ScopeType.COMMENT,id:"commentDelete",weight:6})},iV=function(){a0.registry.register({displayText:()=>O.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,preconditionFn(e){let t;return(null==(t=e.comment)?0:t.isMovable())?"enabled":"hidden"},callback(e){if(e.comment){var t=e.comment.toCopyData();t&&io(t,e.comment.workspace)}},scopeType:a0.ScopeType.COMMENT,id:"commentDuplicate",weight:1})},iG=function(){a0.registry.register({displayText:()=>O.Msg$$module$build$src$core$msg.ADD_COMMENT,preconditionFn:e=>{let t;return(null==(t=e.workspace)?0:t.isMutator)?"hidden":"enabled"},callback:(e,t)=>{if(e=e.workspace){O.setGroup$$module$build$src$core$events$utils(!0);var n=new a9(e);n.setText(O.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT),n.moveTo(ij(new sA(t.clientX,t.clientY),e)),O.setSelected$$module$build$src$core$common(n),O.setGroup$$module$build$src$core$events$utils(!1)}},scopeType:a0.ScopeType.WORKSPACE,id:"commentCreate",weight:8})},ij=function(e,t){var n=t.getInjectionDiv().getBoundingClientRect();return e=new sA(e.x-n.left,e.y-n.top),n=t.getOriginOffsetInPixels(),(e=sA.difference(e,n)).scale(1/t.scale),e},iW=function(){iM(),iL(),iD(),iP(),iB(),iF(),iU()},iz=function(){iN(),iW()},iX=function(e){return function(){setTimeout(()=>{let t=e.workspace;t.currentGesture_&&t.currentGesture_.cancel();let n=null==(o=e.toCopyData)?void 0:o.call(e);if(n){e.getRelativeToSurfaceXY(),o=t.RTL?-10:10,O.disable$$module$build$src$core$events$utils();try{t.setResizesEnabled(!1);var o,r=io(n,t);if(!r)return;r.moveBy(o,10),r.setShadow(!1)}finally{O.enable$$module$build$src$core$events$utils()}var i=r.scheduleSnapAndBump,s=!1;r.scheduleSnapAndBump=function(){if(s){let e=this,t=O.getGroup$$module$build$src$core$events$utils();setTimeout(()=>{O.setGroup$$module$build$src$core$events$utils(t),e.snapToGrid(),O.setGroup$$module$build$src$core$events$utils(!1)},50)}else i.call(this)},setTimeout(()=>{let e=new dV(r,t);r.setConnectionTracking(!1);let n=r.getSvgRoot().getBoundingClientRect(),o=new PointerEvent("pointerdown",{bubbles:!0,clientX:n.x+n.width/2,clientY:n.y+n.height/2});e.onDragStart(o),s=!0;var l=n.x+n.width/2,a=n.y+n.height/2;let u=t=>{let n=new sA(t.clientX-l,t.clientY-a);e.onDrag(t,n),t.preventDefault(),t.stopPropagation()},c=n=>{e.onDragEnd(n),document.removeEventListener("pointermove",u),document.removeEventListener("pointerup",c),r.setDragging(!1),r.setConnectionTracking(!0),O.setSelected$$module$build$src$core$common(null),t.setResizesEnabled(!0),t.currentGesture_&&(t.currentGesture_.cancel(),t.currentGesture_=null),setTimeout(()=>{r.scheduleSnapAndBump=i,s=!1,r.scheduleSnapAndBump(),r.bumpNeighbours()},50),n.preventDefault(),n.stopPropagation()};document.addEventListener("pointermove",u),document.addEventListener("pointerup",c)},50)}},0)}},(iY=iY||{}).scope={},iY.ASSUME_ES5=!1,iY.ASSUME_NO_NATIVE_MAP=!1,iY.ASSUME_NO_NATIVE_SET=!1,iY.SIMPLE_FROUND_POLYFILL=!1,iY.ISOLATE_POLYFILLS=!1,iY.FORCE_POLYFILL_PROMISE=!1,iY.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,iY.defineProperty=iY.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},iY.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof i&&i];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},iY.global=iY.getGlobal(this),iY.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),iY.TRUST_ES6_POLYFILLS=!iY.ISOLATE_POLYFILLS||iY.IS_SYMBOL_NATIVE,iY.polyfills={},iY.propertyToPolyfillSymbol={},iY.POLYFILL_PREFIX="$jscp$",iY.polyfill=function(e,t,n,o){t&&(iY.ISOLATE_POLYFILLS?iY.polyfillIsolated(e,t,n,o):iY.polyfillUnisolated(e,t,n,o))},iY.polyfillUnisolated=function(e,t,n,o){for(o=0,n=iY.global,e=e.split(".");o<e.length-1;o++){var r=e[o];if(!(r in n))return;n=n[r]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&iY.defineProperty(n,e,{configurable:!0,writable:!0,value:t})},iY.polyfillIsolated=function(e,t,n,o){var r=e.split(".");e=1===r.length,o=r[0],o=!e&&o in iY.polyfills?iY.polyfills:iY.global;for(var i=0;i<r.length-1;i++){var s=r[i];if(!(s in o))return;o=o[s]}r=r[r.length-1],null!=(t=t(n=iY.IS_SYMBOL_NATIVE&&"es6"===n?o[r]:null))&&(e?iY.defineProperty(iY.polyfills,r,{configurable:!0,writable:!0,value:t}):t!==n&&(void 0===iY.propertyToPolyfillSymbol[r]&&(n=1e9*Math.random()>>>0,iY.propertyToPolyfillSymbol[r]=iY.IS_SYMBOL_NATIVE?iY.global.Symbol(r):iY.POLYFILL_PREFIX+n+"$"+r),iY.defineProperty(o,iY.propertyToPolyfillSymbol[r],{configurable:!0,writable:!0,value:t})))},iY.underscoreProtoCanBeSet=function(){var e={};try{return e.__proto__={a:!0},e.a}catch(e){}return!1},iY.setPrototypeOf=iY.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:iY.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw TypeError(e+" is not extensible");return e}:null,iY.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},iY.arrayIterator=function(e){return{next:iY.arrayIteratorImpl(e)}},iY.makeIterator=function(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if("number"==typeof e.length)return iY.arrayIterator(e);throw Error(String(e)+" is not an iterable or ArrayLike")},iY.generator={},iY.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw TypeError("Iterator result "+e+" is not an object")},iY.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},iY.generator.Context.prototype.start_=function(){if(this.isRunning_)throw TypeError("Generator is already running");this.isRunning_=!0},iY.generator.Context.prototype.stop_=function(){this.isRunning_=!1},iY.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},iY.generator.Context.prototype.next_=function(e){this.yieldResult=e},iY.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},iY.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},iY.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},iY.generator.Context.prototype.yield=function(e,t){return this.nextAddress=t,{value:e}},iY.generator.Context.prototype.yieldAll=function(e,t){var n=(e=iY.makeIterator(e)).next();if(iY.generator.ensureIteratorResultIsObject_(n),!n.done)return this.yieldAllIterator_=e,this.yield(n.value,t);this.yieldResult=n.value,this.nextAddress=t},iY.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},iY.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},iY.generator.Context.prototype.setCatchFinallyBlocks=function(e,t){this.catchAddress_=e,void 0!=t&&(this.finallyAddress_=t)},iY.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},iY.generator.Context.prototype.leaveTryBlock=function(e,t){this.nextAddress=e,this.catchAddress_=t||0},iY.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e},iY.generator.Context.prototype.enterFinallyBlock=function(e,t,n){n?this.finallyContexts_[n]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=t||0},iY.generator.Context.prototype.leaveFinallyBlock=function(e,t){if(t=this.finallyContexts_.splice(t||0)[0],t=this.abruptCompletion_=this.abruptCompletion_||t){if(t.isException)return this.jumpToErrorHandler_();void 0!=t.jumpTo&&this.finallyAddress_<t.jumpTo?(this.nextAddress=t.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},iY.generator.Context.prototype.forIn=function(e){return new iY.generator.Context.PropertyIterator(e)},iY.generator.Context.PropertyIterator=function(e){for(var t in this.object_=e,this.properties_=[],e)this.properties_.push(t);this.properties_.reverse()},iY.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null},iY.generator.Engine_=function(e){this.context_=new iY.generator.Context,this.program_=e},iY.generator.Engine_.prototype.next_=function(e){return(this.context_.start_(),this.context_.yieldAllIterator_)?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},iY.generator.Engine_.prototype.return_=function(e){this.context_.start_();var t=this.context_.yieldAllIterator_;return t?this.yieldAllStep_("return"in t?t.return:function(e){return{value:e,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},iY.generator.Engine_.prototype.throw_=function(e){return(this.context_.start_(),this.context_.yieldAllIterator_)?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},iY.generator.Engine_.prototype.yieldAllStep_=function(e,t,n){try{var o=e.call(this.context_.yieldAllIterator_,t);if(iY.generator.ensureIteratorResultIsObject_(o),!o.done)return this.context_.stop_(),o;var r=o.value}catch(e){return this.context_.yieldAllIterator_=null,this.context_.throw_(e),this.nextStep_()}return this.context_.yieldAllIterator_=null,n.call(this.context_,r),this.nextStep_()},iY.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(e){this.context_.yieldResult=void 0,this.context_.throw_(e)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}},iY.generator.Generator_=function(e){this.next=function(t){return e.next_(t)},this.throw=function(t){return e.throw_(t)},this.return=function(t){return e.return_(t)},this[Symbol.iterator]=function(){return this}},iY.generator.createGenerator=function(e,t){return t=new iY.generator.Generator_(new iY.generator.Engine_(t)),iY.setPrototypeOf&&e.prototype&&iY.setPrototypeOf(t,e.prototype),t},iY.asyncExecutePromiseGenerator=function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise(function(o,r){!function e(i){i.done?o(i.value):Promise.resolve(i.value).then(t,n).then(e,r)}(e.next())})},iY.asyncExecutePromiseGeneratorFunction=function(e){return iY.asyncExecutePromiseGenerator(e())},iY.asyncExecutePromiseGeneratorProgram=function(e){return iY.asyncExecutePromiseGenerator(new iY.generator.Generator_(new iY.generator.Engine_(e)))},iY.polyfill("globalThis",function(e){return e||iY.global},"es_2020","es3"),iY.polyfill("Array.prototype.includes",function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var o=n.length;for(0>(t=t||0)&&(t=Math.max(t+o,0));t<o;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}},"es7","es3"),iY.initSymbol=function(){},iY.iteratorPrototype=function(e){return(e={next:e})[Symbol.iterator]=function(){return this},e},iY.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var n=0,o=!1,r={next:function(){if(!o&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return o=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r},iY.polyfill("Array.prototype.values",function(e){return e||function(){return iY.iteratorFromArray(this,function(e,t){return t})}},"es8","es3"),iY.polyfill("Array.prototype.flat",function(e){return e||function(e){e=void 0===e?1:e;var t=[];return Array.prototype.forEach.call(this,function(n){Array.isArray(n)&&0<e?(n=Array.prototype.flat.call(n,e-1),t.push.apply(t,n)):t.push(n)}),t}},"es9","es5"),iY.polyfill("Array.prototype.flatMap",function(e){return e||function(e,t){var n=[];return Array.prototype.forEach.call(this,function(o,r){Array.isArray(o=e.call(t,o,r,this))?n.push.apply(n,o):n.push(o)}),n}},"es9","es5"),iY.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},iY.polyfill("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)iY.owns(e,t)&&n.push([t,e[t]]);return n}},"es8","es3"),iY.polyfill("Object.values",function(e){return e||function(e){var t,n=[];for(t in e)iY.owns(e,t)&&n.push(e[t]);return n}},"es8","es3");var R=Object.create(null),x=Object.create(null),$="default",A=class{constructor(e){this.name=e}toString(){return this.name}};A.CONNECTION_CHECKER=new A("connectionChecker"),A.CONNECTION_PREVIEWER=new A("connectionPreviewer"),A.CURSOR=new A("cursor"),A.EVENT=new A("event"),A.FIELD=new A("field"),A.INPUT=new A("input"),A.RENDERER=new A("renderer"),A.TOOLBOX=new A("toolbox"),A.THEME=new A("theme"),A.TOOLBOX_ITEM=new A("toolboxItem"),A.FLYOUTS_VERTICAL_TOOLBOX=new A("flyoutsVerticalToolbox"),A.FLYOUTS_HORIZONTAL_TOOLBOX=new A("flyoutsHorizontalToolbox"),A.METRICS_MANAGER=new A("metricsManager"),A.BLOCK_DRAGGER=new A("blockDragger"),A.SERIALIZER=new A("serializer"),A.ICON=new A("icon"),A.PASTER=new A("paster");var N={DEFAULT:$,TEST_ONLY:{typeMap:R}};N.Type=A,N.getAllItems=er,N.getClass=en,N.getClassFromOptions=ei,N.getObject=eo,N.hasItem=et,N.register=Z,N.unregister=Q;var M=Object.create(null);(J=iK||(iK={})).BLOCK_CREATE="create",J.BLOCK_DELETE="delete",J.BLOCK_CHANGE="change",J.BLOCK_FIELD_INTERMEDIATE_CHANGE="block_field_intermediate_change",J.BLOCK_MOVE="move",J.VAR_CREATE="var_create",J.VAR_DELETE="var_delete",J.VAR_RENAME="var_rename",J.UI="ui",J.BLOCK_DRAG="drag",J.SELECTED="selected",J.CLICK="click",J.MARKER_MOVE="marker_move",J.BUBBLE_OPEN="bubble_open",J.TRASHCAN_OPEN="trashcan_open",J.TOOLBOX_ITEM_SELECT="toolbox_item_select",J.THEME_CHANGE="theme_change",J.VIEWPORT_CHANGE="viewport_change",J.COMMENT_CREATE="comment_create",J.COMMENT_DELETE="comment_delete",J.COMMENT_CHANGE="comment_change",J.COMMENT_MOVE="comment_move",J.COMMENT_RESIZE="comment_resize",J.COMMENT_DRAG="comment_drag",J.COMMENT_COLLAPSE="comment_collapse",J.FINISHED_LOADING="finished_loading";var L=[iK.BLOCK_CREATE,iK.BLOCK_MOVE,iK.COMMENT_CREATE,iK.COMMENT_MOVE],D=new Set,P={};P.warn=es;var B="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",F={genUid:()=>{let e=B.length,t=[];for(let n=0;20>n;n++)t[n]=B.charAt(Math.random()*e);return t.join("")}},U=0,H={TEST_ONLY:F};H.genUid=ea,H.getNextUniqueId=el;var V={};V.isBlockChange=ed,V.isBlockCreate=eu,V.isBlockDelete=ec,V.isBlockDrag=function(e){return e.type===iK.BLOCK_DRAG},V.isBlockFieldIntermediateChange=eh,V.isBlockMove=ep,V.isBubbleOpen=eg,V.isClick=ef,V.isCommentChange=function(e){return e.type===iK.COMMENT_CHANGE},V.isCommentCollapse=function(e){return e.type===iK.COMMENT_COLLAPSE},V.isCommentCreate=function(e){return e.type===iK.COMMENT_CREATE},V.isCommentDelete=function(e){return e.type===iK.COMMENT_DELETE},V.isCommentDrag=function(e){return e.type===iK.COMMENT_DRAG},V.isCommentMove=function(e){return e.type===iK.COMMENT_MOVE},V.isCommentResize=function(e){return e.type===iK.COMMENT_RESIZE},V.isFinishedLoading=function(e){return e.type===iK.FINISHED_LOADING},V.isMarkerMove=function(e){return e.type===iK.MARKER_MOVE},V.isSelected=function(e){return e.type===iK.SELECTED},V.isThemeChange=function(e){return e.type===iK.THEME_CHANGE},V.isToolboxItemSelect=function(e){return e.type===iK.TOOLBOX_ITEM_SELECT},V.isTrashcanOpen=function(e){return e.type===iK.TRASHCAN_OPEN},V.isVarCreate=function(e){return e.type===iK.VAR_CREATE},V.isVarDelete=function(e){return e.type===iK.VAR_DELETE},V.isVarRename=function(e){return e.type===iK.VAR_RENAME},V.isViewportChange=em;var G="",j=!0,W=0,z="ORPHANED_BLOCK",X=[],Y={FIRE_QUEUE:X,enqueueEvent:eT,fireNow:ey,fireInternal:function(e){if(eC()){if(!X.length)try{requestAnimationFrame(()=>{setTimeout(ey,0)})}catch(e){setTimeout(ey,0)}eT(e)}},setGroupInternal:function(e){G="boolean"==typeof e?e?ea():"":e}},K={TEST_ONLY:Y};K.clearPendingUndo=ev,K.disable=O.disable$$module$build$src$core$events$utils,K.disableOrphans=ek,K.enable=O.enable$$module$build$src$core$events$utils,K.filter=eE,K.fire=eb,K.fromJson=eS,K.get=ew,K.getDescendantIds=eI,K.getGroup=O.getGroup$$module$build$src$core$events$utils,K.getRecordUndo=e_,K.isEnabled=eC,K.setGroup=O.setGroup$$module$build$src$core$events$utils,K.setRecordUndo=O.setRecordUndo$$module$build$src$core$events$utils;var J,Z,q,Q,ee,et,en,eo,er,ei,es,el,ea,eu,ec,ed,eh,ep,ef,eg,em,e_,eb,ey,eT,eE,ev,eC,eI,eS,ew,ek,eO,eR,ex,e$,eA,eN,eM,eL,eD,eP,eB,eF,eU,eH,eV,eG,ej,eW,ez,eX,eY,eK,eJ,eZ,eq,eQ,e0,e1,e2,e5,e3,e4,e6,e8,e9,e7,te,tt,tn,to,tr,ti,ts,tl,ta,tu,tc,td,th,tp,tf,tg,tm,t_,tb,ty,tT,tE,tv,tC,tI,tS,tw,tk,tO,tR,tx,t$,tA,tN,tM,tL,tD,tP,tB,tF,tU,tH,tV,tG,tj,tW,tz,tX,tY,tK,tJ,tZ,tq,tQ,t0,t1,t2,t5,t3,t4,t6,t8,t9,t7,ne,nt,nn,no,nr,ni,ns,nl,na,nu,nc,nd,nh,np,nf,ng,nm,n_,nb,ny,nT,nE,nv,nC,nI,nS,nw,nk,nO,nR,nx,n$,nA,nN,nM,nL,nD,nP,nB,nF,nU,nH,nV,nG,nj,nW,nz,nX,nY,nK,nJ,nZ,nq,nQ,n0,n1,n2,n5,n3,n4,n6,n8,n9,n7,oe,ot,on,oo,or,oi,os,ol,oa,ou,oc,od,oh,op,of,og,om,o_,ob,oy,oT,oE,ov,oC,oI,oS,ow,ok,oO,oR,ox,o$,oA,oN,oM,oL,oD,oP,oB,oF,oU,oH,oV,oG,oj,oW,oz,oX,oY,oK,oJ,oZ,oq,oQ,o0,o1,o2,o5,o3,o4,o6,o8,o9,o7,re,rt,rn,ro,rr,ri,rs,rl,ra,ru,rc,rd,rh,rp,rf,rg,rm,r_,rb,ry,rT,rE,rv,rC,rI,rS,rw,rk,rO,rR,rx,r$,rA,rN,rM,rL,rD,rP,rB,rF,rU,rH,rV,rG,rj,rW,rz,rX,rY,rK,rJ,rZ,rq,rQ,r0,r1,r2,r5,r3,r4,r6,r8,r9,r7,ie,it,io,ir,ii,is,il,ia,iu,ic,id,ih,ip,ig,im,i_,ib,iy,iT,iE,iv,iC,iI,iS,iw,ik,iO,iR,ix,i$,iA,iN,iM,iL,iD,iP,iB,iF,iU,iH,iV,iG,ij,iW,iz,iX,iY,iK,iJ,iZ,iq=Object.create(null),iQ=null,i0=[],i1={defineBlocksWithJsonArrayInternal:function(e){O.defineBlocks$$module$build$src$core$common(O.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(e))}},i2={TEST_ONLY:i1};i2.createBlockDefinitionsFromJsonArray=O.createBlockDefinitionsFromJsonArray$$module$build$src$core$common,i2.defineBlocks=O.defineBlocks$$module$build$src$core$common,i2.defineBlocksWithJsonArray=eU,i2.draggingConnections=i0,i2.getAllWorkspaces=eR,i2.getBlockTypeCounts=eB,i2.getMainWorkspace=eA,i2.getParentContainer=eL,i2.getSelected=eM,i2.getWorkspaceById=eO,i2.registerWorkspace=ex,i2.setMainWorkspace=eN,i2.setParentContainer=eD,i2.setSelected=O.setSelected$$module$build$src$core$common,i2.svgResize=eP,i2.unregisterWorkpace=e$;var i5,i3=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=O.getGroup$$module$build$src$core$events$utils(),this.recordUndo=e_()}toJson(){return{type:this.type,group:this.group}}static fromJson(e,t,n){return n.isBlank=!1,n.group=e.group||"",n.workspaceId=t.id,n}isNull(){return!1}run(e){}getEventWorkspace_(){let e;if(this.workspaceId&&(e=eO(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}},i4=class extends i3{constructor(e){super(),this.recordUndo=!1,this.isUiEvent=!0,this.isBlank=void 0===e,this.workspaceId=e||""}},i6=class extends i4{constructor(e,t,n){null===(t=e?e.workspace.id:t)&&(t=void 0),super(t),this.type=iK.CLICK,this.blockId=e?e.id:void 0,this.targetType=n}toJson(){let e=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new i6)).targetType=e.targetType,t.blockId=e.blockId,t}};(sT=i5||(i5={})).BLOCK="block",sT.WORKSPACE="workspace",sT.ZOOM_CONTROLS="zoom_controls",Z(A.EVENT,iK.CLICK,i6);var i8={};i8.Click=i6,i8.ClickTarget=i5;var i9=750,i7="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),se=null,st={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},sn=0,so={TOUCH_ENABLED:i7,TOUCH_MAP:st};so.checkTouchIdentifier=ez,so.clearTouchIdentifier=eG,so.getTouchIdentifierFromEvent=eW,so.longStart=eH,so.longStop=eV,so.shouldHandleEvent=ej;var sr=globalThis.navigator&&globalThis.navigator.userAgent||"";function si(e){return ss.includes(e.toUpperCase())}let ss=(sv=sr).toUpperCase();sC=si("JavaFX"),sI=si("WebKit"),sS=si("Gecko")&&!sI,sw=si("Android"),sr=globalThis.navigator&&globalThis.navigator.maxTouchPoints,sk=si("iPad")||si("Macintosh")&&0<sr,sO=si("iPhone")&&!sk,sR=si("Macintosh"),sx=!(sk||sw&&!si("Mobile")||si("Silk"))&&(sO||sw);var sl=sC,sa=sR,su=40,sc=125,sd={};sd.bind=eY,sd.conditionalBind=eX,sd.getScrollDeltaPixels=eQ,sd.isRightButton=eZ,sd.isTargetInput=eJ,sd.mouseToSvg=eq,sd.unbind=eK;var sh={};sh.removeElem=e0;var sp=class{constructor(e){this.name=e}toString(){return this.name}};sp.POSITIONABLE=new sp("positionable"),sp.DRAG_TARGET=new sp("drag_target"),sp.DELETE_AREA=new sp("delete_area"),sp.AUTOHIDEABLE=new sp("autohideable");var sf=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(e,t){let n=e.component.id;if(!t&&this.componentData.has(n)){var o;throw Error('Plugin "'+n+'" with capabilities "'+(null==(o=this.componentData.get(n))?void 0:o.capabilities)+'" already added.')}for(this.componentData.set(n,e),t=[],o=0;o<e.capabilities.length;o++){let r=String(e.capabilities[o]).toLowerCase();if(t.push(r),this.capabilityToComponentIds.has(r)){let e;null==(e=this.capabilityToComponentIds.get(r))||e.push(n)}else this.capabilityToComponentIds.set(r,[n])}this.componentData.get(n).capabilities=t}removeComponent(e){let t=this.componentData.get(e);if(t){for(let n=0;n<t.capabilities.length;n++){let o=String(t.capabilities[n]).toLowerCase();e0(this.capabilityToComponentIds.get(o),e)}this.componentData.delete(e)}}addCapability(e,t){if(!this.getComponent(e))throw Error('Cannot add capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');if(this.hasCapability(e,t))console.warn('Plugin "'+e+'already has capability "'+t+'"');else{var n,o;t=`${t}`.toLowerCase(),null==(n=this.componentData.get(e))||n.capabilities.push(t),null==(o=this.capabilityToComponentIds.get(t))||o.push(e)}}removeCapability(e,t){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?(t=`${t}`.toLowerCase(),e0(this.componentData.get(e).capabilities,t),e0(this.capabilityToComponentIds.get(t),e)):console.warn('Plugin "'+e+"doesn't have capability \""+t+'" to remove')}hasCapability(e,t){return t=`${t}`.toLowerCase(),this.componentData.has(e)&&this.componentData.get(e).capabilities.includes(t)}getComponent(e){let t;return null==(t=this.componentData.get(e))?void 0:t.component}getComponents(e,t){if(e=`${e}`.toLowerCase(),!(e=this.capabilityToComponentIds.get(e)))return[];let n=[];if(t){let t=[];e.forEach(e=>{t.push(this.componentData.get(e))}),t.sort(function(e,t){return e.weight-t.weight}),t.forEach(function(e){n.push(e.component)})}else e.forEach(e=>{n.push(this.componentData.get(e).component)});return n}};sf.Capability=sp,(sE=(sE=sf||(sf={})).ComponentWeight||(sE.ComponentWeight={}))[sE.TOOLBOX_WEIGHT=0]="TOOLBOX_WEIGHT",sE[sE.FLYOUT_WEIGHT=1]="FLYOUT_WEIGHT",sE[sE.TRASHCAN_WEIGHT=2]="TRASHCAN_WEIGHT",sE[sE.ZOOM_CONTROLS_WEIGHT=3]="ZOOM_CONTROLS_WEIGHT";var sg=sf.ComponentWeight,sm={};sm.ComponentManager=sf,sm.ComponentWeight=sg;var s_=!1,sb='\n.blocklySvg {\n  background-color: #fff;\n  outline: none;\n  overflow: hidden;  /* IE overflows by default. */\n  position: absolute;\n  display: block;\n}\n\n.blocklyWidgetDiv {\n  display: none;\n  position: absolute;\n  z-index: 99999;  /* big value for bootstrap3 compatibility */\n}\n\n.injectionDiv {\n  height: 100%;\n  position: relative;\n  overflow: hidden;  /* So blocks in drag surface disappear at edges */\n  touch-action: none;\n  user-select: none;\n  -webkit-user-select: none;\n}\n\n.blocklyNonSelectable {\n  user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n}\n\n.blocklyBlockCanvas.blocklyCanvasTransitioning,\n.blocklyBubbleCanvas.blocklyCanvasTransitioning {\n  transition: transform .5s;\n}\n\n.blocklyTooltipDiv {\n  background-color: #ffffc7;\n  border: 1px solid #ddc;\n  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);\n  color: #000;\n  display: none;\n  font: 9pt sans-serif;\n  opacity: .9;\n  padding: 2px;\n  position: absolute;\n  z-index: 100000;  /* big value for bootstrap3 compatibility */\n}\n\n.blocklyDropDownDiv {\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1000;\n  display: none;\n  border: 1px solid;\n  border-color: #dadce0;\n  background-color: #fff;\n  border-radius: 2px;\n  padding: 4px;\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownDiv.blocklyFocused {\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownContent {\n  max-height: 300px;  /* @todo: spec for maximum height. */\n  overflow: auto;\n  overflow-x: hidden;\n  position: relative;\n}\n\n.blocklyDropDownArrow {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 16px;\n  height: 16px;\n  z-index: -1;\n  background-color: inherit;\n  border-color: inherit;\n}\n\n.blocklyDropDownButton {\n  display: inline-block;\n  float: left;\n  padding: 0;\n  margin: 4px;\n  border-radius: 4px;\n  outline: none;\n  border: 1px solid;\n  transition: box-shadow .1s;\n  cursor: pointer;\n}\n\n.blocklyArrowTop {\n  border-top: 1px solid;\n  border-left: 1px solid;\n  border-top-left-radius: 4px;\n  border-color: inherit;\n}\n\n.blocklyArrowBottom {\n  border-bottom: 1px solid;\n  border-right: 1px solid;\n  border-bottom-right-radius: 4px;\n  border-color: inherit;\n}\n\n.blocklyResizeSE {\n  cursor: se-resize;\n  fill: #aaa;\n}\n\n.blocklyResizeSW {\n  cursor: sw-resize;\n  fill: #aaa;\n}\n\n.blocklyResizeLine {\n  stroke: #515A5A;\n  stroke-width: 1;\n}\n\n.blocklyHighlightedConnectionPath {\n  fill: none;\n  stroke: #fc3;\n  stroke-width: 4px;\n}\n\n.blocklyPathLight {\n  fill: none;\n  stroke-linecap: round;\n  stroke-width: 1;\n}\n\n.blocklySelected>.blocklyPathLight {\n  display: none;\n}\n\n.blocklyDraggable {\n  cursor: grab;\n  cursor: -webkit-grab;\n}\n\n.blocklyDragging {\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n  /* Drag surface disables events to not block the toolbox, so we have to\n   * reenable them here for the cursor values to work. */\n  pointer-events: auto;\n}\n\n  /* Changes cursor on mouse down. Not effective in Firefox because of\n     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */\n.blocklyDraggable:active {\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n.blocklyDragging.blocklyDraggingDelete {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyDragging>.blocklyPath,\n.blocklyDragging>.blocklyPathLight {\n  fill-opacity: .8;\n  stroke-opacity: .8;\n}\n\n.blocklyDragging>.blocklyPathDark {\n  display: none;\n}\n\n.blocklyDisabled>.blocklyPath {\n  fill-opacity: .5;\n  stroke-opacity: .5;\n}\n\n.blocklyDisabled>.blocklyPathLight,\n.blocklyDisabled>.blocklyPathDark {\n  display: none;\n}\n\n.blocklyInsertionMarker>.blocklyPath,\n.blocklyInsertionMarker>.blocklyPathLight,\n.blocklyInsertionMarker>.blocklyPathDark {\n  fill-opacity: .2;\n  stroke: none;\n}\n\n.blocklyNonEditableText>text {\n  pointer-events: none;\n}\n\n.blocklyFlyout {\n  position: absolute;\n  z-index: 20;\n}\n\n.blocklyText text {\n  cursor: default;\n}\n\n.blocklyHidden {\n  display: none;\n}\n\n.blocklyFieldDropdown:not(.blocklyHidden) {\n  display: block;\n}\n\n.blocklyIconGroup {\n  cursor: default;\n}\n\n.blocklyIconGroup:not(:hover),\n.blocklyIconGroupReadonly {\n  opacity: .6;\n}\n\n.blocklyIconShape {\n  fill: #00f;\n  stroke: #fff;\n  stroke-width: 1px;\n}\n\n.blocklyIconSymbol {\n  fill: #fff;\n}\n\n.blocklyMinimalBody {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n}\n\n.blocklyHtmlInput {\n  border: none;\n  border-radius: 4px;\n  height: 100%;\n  margin: 0;\n  outline: none;\n  padding: 0;\n  width: 100%;\n  text-align: center;\n  display: block;\n  box-sizing: border-box;\n}\n\n/* Remove the increase and decrease arrows on the field number editor */\ninput.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,\ninput.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\ninput[type=number] {\n  -moz-appearance: textfield;\n}\n\n.blocklyMainBackground {\n  stroke-width: 1;\n  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */\n}\n\n.blocklyMutatorBackground {\n  fill: #fff;\n  stroke: #ddd;\n  stroke-width: 1;\n}\n\n.blocklyFlyoutBackground {\n  fill: #ddd;\n  fill-opacity: .8;\n}\n\n.blocklyMainWorkspaceScrollbar {\n  z-index: 20;\n}\n\n.blocklyFlyoutScrollbar {\n  z-index: 30;\n}\n\n.blocklyScrollbarHorizontal,\n.blocklyScrollbarVertical {\n  position: absolute;\n  outline: none;\n}\n\n.blocklyScrollbarBackground {\n  opacity: 0;\n  pointer-events: none;\n}\n\n.blocklyScrollbarHandle {\n  fill: #ccc;\n}\n\n.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n.blocklyScrollbarHandle:hover {\n  fill: #bbb;\n}\n\n/* Darken flyout scrollbars due to being on a grey background. */\n/* By contrast, workspace scrollbars are on a white background. */\n.blocklyFlyout .blocklyScrollbarHandle {\n  fill: #bbb;\n}\n\n.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n.blocklyFlyout .blocklyScrollbarHandle:hover {\n  fill: #aaa;\n}\n\n.blocklyInvalidInput {\n  background: #faa;\n}\n\n.blocklyVerticalMarker {\n  stroke-width: 3px;\n  fill: rgba(255,255,255,.5);\n  pointer-events: none;\n}\n\n.blocklyComputeCanvas {\n  position: absolute;\n  width: 0;\n  height: 0;\n}\n\n.blocklyNoPointerEvents {\n  pointer-events: none;\n}\n\n.blocklyContextMenu {\n  border-radius: 4px;\n  max-height: 100%;\n}\n\n.blocklyDropdownMenu {\n  border-radius: 2px;\n  padding: 0 !important;\n}\n\n.blocklyDropdownMenu .blocklyMenuItem {\n  /* 28px on the left for icon or checkbox. */\n  padding-left: 28px;\n}\n\n/* BiDi override for the resting state. */\n.blocklyDropdownMenu .blocklyMenuItemRtl {\n  /* Flip left/right padding for BiDi. */\n  padding-left: 5px;\n  padding-right: 28px;\n}\n\n.blocklyWidgetDiv .blocklyMenu {\n  background: #fff;\n  border: 1px solid transparent;\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n  font: normal 13px Arial, sans-serif;\n  margin: 0;\n  outline: none;\n  padding: 4px 0;\n  position: absolute;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 100%;\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n}\n\n.blocklyWidgetDiv .blocklyMenu.blocklyFocused {\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownDiv .blocklyMenu {\n  background: inherit;  /* Compatibility with gapi, reset from goog-menu */\n  border: inherit;  /* Compatibility with gapi, reset from goog-menu */\n  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;\n  outline: none;\n  position: relative;  /* Compatibility with gapi, reset from goog-menu */\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n}\n\n/* State: resting. */\n.blocklyMenuItem {\n  border: none;\n  color: #000;\n  cursor: pointer;\n  list-style: none;\n  margin: 0;\n  /* 7em on the right for shortcut. */\n  min-width: 7em;\n  padding: 6px 15px;\n  white-space: nowrap;\n}\n\n/* State: disabled. */\n.blocklyMenuItemDisabled {\n  color: #ccc;\n  cursor: inherit;\n}\n\n/* State: hover. */\n.blocklyMenuItemHighlight {\n  background-color: rgba(0,0,0,.1);\n}\n\n/* State: selected/checked. */\n.blocklyMenuItemCheckbox {\n  height: 16px;\n  position: absolute;\n  width: 16px;\n}\n\n.blocklyMenuItemSelected .blocklyMenuItemCheckbox {\n  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;\n  float: left;\n  margin-left: -24px;\n  position: static;  /* Scroll with the menu. */\n}\n\n.blocklyMenuItemRtl .blocklyMenuItemCheckbox {\n  float: right;\n  margin-right: -24px;\n}\n\n.blocklyBlockDragSurface, .blocklyAnimationLayer {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: visible !important;\n  z-index: 80;\n  pointer-events: none;\n}\n',sy={};sy.inject=e2,sy.register=e1;var sT,sE,sv,sC,sI,sS,sw,sk,sO,sR,sx,s$,sA=class{constructor(e,t){this.x=e,this.y=t}clone(){return new sA(this.x,this.y)}scale(e){return this.x*=e,this.y*=e,this}translate(e,t){return this.x+=e,this.y+=t,this}static equals(e,t){return e===t||!!e&&!!t&&e.x===t.x&&e.y===t.y}static distance(e,t){let n=e.x-t.x;return Math.sqrt(n*n+(e=e.y-t.y)*e)}static magnitude(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static difference(e,t){return new sA(e.x-t.x,e.y-t.y)}static sum(e,t){return new sA(e.x+t.x,e.y+t.y)}},sN="http://www.w3.org/2000/svg",sM="http://www.w3.org/1999/xhtml",sL="http://www.w3.org/1999/xlink";(s5=s$||(s$={}))[s5.ELEMENT_NODE=1]="ELEMENT_NODE",s5[s5.TEXT_NODE=3]="TEXT_NODE",s5[s5.COMMENT_NODE=8]="COMMENT_NODE";var sD=null,sP=0,sB=null,sF={HTML_NS:sM};sF.NodeType=s$,sF.SVG_NS=sN,sF.XLINK_NS=sL,sF.addClass=e3,sF.createSvgElement=e5,sF.getFastTextWidth=to,sF.getFastTextWidthWithSizeString=tr,sF.getTextWidth=tn,sF.hasClass=function(e,t){return e.classList.contains(t)},sF.insertAfter=e9,sF.measureFontMetrics=ti,sF.removeClass=e6,sF.removeClasses=e4,sF.removeNode=e8,sF.setCssTransform=e7,sF.startTextWidthCache=te,sF.stopTextWidthCache=tt;var sU=class{constructor(e){this.tagName=e}toString(){return this.tagName}};sU.ANIMATE=new sU("animate"),sU.CIRCLE=new sU("circle"),sU.CLIPPATH=new sU("clipPath"),sU.DEFS=new sU("defs"),sU.FECOMPOSITE=new sU("feComposite"),sU.FECOMPONENTTRANSFER=new sU("feComponentTransfer"),sU.FEFLOOD=new sU("feFlood"),sU.FEFUNCA=new sU("feFuncA"),sU.FEGAUSSIANBLUR=new sU("feGaussianBlur"),sU.FEPOINTLIGHT=new sU("fePointLight"),sU.FESPECULARLIGHTING=new sU("feSpecularLighting"),sU.FILTER=new sU("filter"),sU.FOREIGNOBJECT=new sU("foreignObject"),sU.G=new sU("g"),sU.IMAGE=new sU("image"),sU.LINE=new sU("line"),sU.PATH=new sU("path"),sU.PATTERN=new sU("pattern"),sU.POLYGON=new sU("polygon"),sU.RECT=new sU("rect"),sU.SVG=new sU("svg"),sU.TEXT=new sU("text"),sU.TSPAN=new sU("tspan");var sH=class{constructor(e,t,n,o){this.top=e,this.bottom=t,this.left=n,this.right=o}clone(){return new sH(this.top,this.bottom,this.left,this.right)}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}contains(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom}intersects(e){return this.left<=e.right&&this.right>=e.left&&this.bottom>=e.top&&this.top<=e.bottom}static equals(e,t){return e===t||!!e&&!!t&&e.top===t.top&&e.bottom===t.bottom&&e.left===t.left&&e.right===t.right}static createFromPoint(e,t,n){let o=e.x;return new sH(e=e.y,e+n,o,o+t)}},sV=class{constructor(e,t){this.width=e,this.height=t}static equals(e,t){return e===t||!!e&&!!t&&e.width===t.width&&e.height===t.height}static max(e,t){return new sV(Math.max(e.width,t.width),Math.max(e.height,t.height))}static min(e,t){return new sV(Math.min(e.width,t.width),Math.min(e.height,t.height))}},sG={getSizeInternal:function(e){if("none"!==ta(e,"display"))return tl(e);let t=e.style,n=t.display,o=t.visibility,r=t.position;t.visibility="hidden",t.position="absolute",t.display="inline";let i=e.offsetWidth;return e=e.offsetHeight,t.display=n,t.position=r,t.visibility=o,new sV(i,e)}},sj={TEST_ONLY:sG};sj.getBorderBox=td,sj.getComputedStyle=ta,sj.getContainerOffsetToScrollInto=tp,sj.getPageOffset=tu,sj.getSize=ts,sj.getViewportPageOffset=tc,sj.scrollIntoContainerView=th;var sW=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,sz=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,sX={TEST_ONLY:{XY_REGEX:sW,XY_STYLE_REGEX:sz}};sX.getDocumentScroll=t_,sX.getInjectionDivXY=tg,sX.getRelativeXY=tf,sX.getViewportBBox=tm,sX.screenToWsCoordinates=function(e,t){var n=t.x;t=t.y;let o=e.getInjectionDiv().getBoundingClientRect();return n=new sA(n-o.left,t-o.top),t=e.getOriginOffsetInPixels(),sA.difference(n,t).scale(1/e.scale)},sX.wsToScreenCoordinates=function(e,t){var n=t.scale(e.scale);t=n.x,n=n.y;let o=e.getInjectionDiv().getBoundingClientRect();return e=e.getOriginOffsetInPixels(),new sA(t+o.left+e.x,n+o.top+e.y)};var sY=class{constructor(e,t,n,o,r){this.workspace=e,this.horizontal=t,this.oldHostMetrics=null,this.ratio=1,this.origin=new sA(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new sA(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=n||!1,this.margin=void 0!==r?r:sY.DEFAULT_SCROLLBAR_MARGIN,e="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),o&&(e+=" "+o),this.outerSvg=e5(sU.SVG,{class:e}),o=e5(sU.G,{},this.outerSvg),this.svgBackground=e5(sU.RECT,{class:"blocklyScrollbarBackground"},o),e=Math.floor((sY.scrollbarThickness-5)/2),this.svgHandle=e5(sU.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},o),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),e9(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),t?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=eX(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=eX(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){let e=sY.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(e)),this.outerSvg.setAttribute("height",String(e)),this.svgHandle.setAttribute("height",String(e-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(e)),this.outerSvg.setAttribute("width",String(e)),this.svgHandle.setAttribute("width",String(e-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),eK(this.onMouseDownBarWrapper_),eK(this.onMouseDownHandleWrapper_),e8(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength)}setHandleLength(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}setHandlePosition(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(e,t){this.position.x=e,this.position.y=t,e7(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(e){(e||(e=this.workspace.getMetrics()))&&(this.oldHostMetrics&&sY.metricsAreEquivalent(e,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(e):this.resizeVertical(e),this.oldHostMetrics=e,this.updateMetrics()))}requiresViewResize(e){return!this.oldHostMetrics||this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop}resizeHorizontal(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}resizeViewHorizontal(e){var t=e.viewWidth-2*this.margin;this.pair&&(t-=sY.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),t=e.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(t+=sY.scrollbarThickness),this.setPosition(t,e.absoluteTop+e.viewHeight-sY.scrollbarThickness-this.margin),this.resizeContentHorizontal(e)}resizeContentHorizontal(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewWidth/e.scrollWidth;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollWidth-e.viewWidth;var n=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/t*n,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=n/t}}resizeVertical(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}resizeViewVertical(e){let t=e.viewHeight-2*this.margin;this.pair&&(t-=sY.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),this.setPosition(this.workspace.RTL?e.absoluteLeft+this.margin:e.absoluteLeft+e.viewWidth-sY.scrollbarThickness-this.margin,e.absoluteTop+this.margin),this.resizeContentVertical(e)}resizeContentVertical(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewHeight/e.scrollHeight;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollHeight-e.viewHeight;var n=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/t*n,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=n/t}}isVisible(){return this.isHandleVisible}setContainerVisible(e){let t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay_()}setVisible(e){if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.setVisibleInternal(e)}setVisibleInternal(e){let t=e!==this.isVisible();this.isHandleVisible=e,t&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(e){if(this.workspace.markFocused(),eG(),this.cleanUp(),eZ(e))e.stopPropagation();else{var t=eq(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());t=this.horizontal?t.x:t.y;var n=tg(this.svgHandle);n=this.horizontal?n.x:n.y;var o=this.handlePosition,r=.95*this.handleLength;t<=n?o-=r:t>=n+this.handleLength&&(o+=r),this.setHandlePosition(this.constrainHandlePosition(o)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}onMouseDownHandle(e){this.workspace.markFocused(),this.cleanUp(),eZ(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=eX(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=eX(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}onMouseMoveHandle(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){eG(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(eK(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(eK(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}updateMetrics(){let e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}set(e,t){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(t||void 0===t)&&this.updateMetrics()}setOrigin(e,t){this.origin=new sA(e,t)}static metricsAreEquivalent(e,t){return e.viewWidth===t.viewWidth&&e.viewHeight===t.viewHeight&&e.viewLeft===t.viewLeft&&e.viewTop===t.viewTop&&e.absoluteTop===t.absoluteTop&&e.absoluteLeft===t.absoluteLeft&&e.scrollWidth===t.scrollWidth&&e.scrollHeight===t.scrollHeight&&e.scrollLeft===t.scrollLeft&&e.scrollTop===t.scrollTop}};sY.scrollbarThickness=i7?25:15,sY.DEFAULT_SCROLLBAR_MARGIN=.5;var sK={parseFromString:function(){throw Error("DOMParser was not found in the global scope and was not properly injected using injectDependencies")}},sJ={serializeToString:function(){throw Error("XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies")}},{document:sZ,DOMParser:sq,XMLSerializer:sQ}=globalThis;sq&&(sK=new sq),sQ&&(sJ=new sQ);var s0="https://developers.google.com/blockly/xml",s1=/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,s2={NAME_SPACE:s0};s2.createElement=O.createElement$$module$build$src$core$utils$xml,s2.createTextNode=O.createTextNode$$module$build$src$core$utils$xml,s2.domToText=tb,s2.injectDependencies=function(e){({document:sZ=sZ,DOMParser:sq=sq,XMLSerializer:sQ=sQ}=e),sK=new sq,sJ=new sQ},s2.textToDom=O.textToDom$$module$build$src$core$utils$xml;var s5,s3,s4="categoryToolbox",s6="flyoutToolbox";(ll=s3||(s3={}))[ll.TOP=0]="TOP",ll[ll.BOTTOM=1]="BOTTOM",ll[ll.LEFT=2]="LEFT",ll[ll.RIGHT=3]="RIGHT";var s8={hasCategoriesInternal:function(e){if(!e)return!1;let t=e.kind;return t?t===s4:!!e.contents.filter(e=>"CATEGORY"===e.kind.toUpperCase()).length}},s9={};s9.Position=s3,s9.TEST_ONLY=s8,s9.convertFlyoutDefToJsonArray=tv,s9.convertToolboxDefToJson=tT,s9.hasCategories=tC,s9.isCategoryCollapsible=tI,s9.parseToolboxTree=tO,(la=ld||(ld={}))[la.TOP=0]="TOP",la[la.BOTTOM=1]="BOTTOM",(lu=lh||(lh={}))[lu.LEFT=0]="LEFT",lu[lu.RIGHT=1]="RIGHT",(lc=lp||(lp={}))[lc.UP=0]="UP",lc[lc.DOWN=1]="DOWN";var s7={};s7.bumpDirection=lp,s7.bumpPositionRect=t$,s7.getCornerOppositeToolbox=tx,s7.getStartPositionRect=tR,s7.horizontalPosition=lh,s7.verticalPosition=ld;var le="sprites.png",lt=class{constructor(e){this.workspace=e,this.id="zoomControls",this.boundEvents=[],this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=e5(sU.G,{});let e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:sf.ComponentWeight.ZOOM_CONTROLS_WEIGHT,capabilities:[sf.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){for(let e of(this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&e8(this.svgGroup),this.boundEvents))eK(e);this.boundEvents.length=0}getBoundingRectangle(){let e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new sH(this.top,this.top+e,this.left,this.left+this.WIDTH)}position(e,t){if(this.initialized){var n,o=tx(this.workspace,e),r=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(r+=this.LARGE_SPACING+this.HEIGHT),e=tR(o,new sV(this.WIDTH,r),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),o=o.vertical,t=t$(e,this.MARGIN_VERTICAL,o===ld.TOP?lp.DOWN:lp.UP,t),o===ld.TOP){var i,s=this.SMALL_SPACING+this.HEIGHT;null==(i=this.zoomInGroup)||i.setAttribute("transform","translate(0, "+s+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(s+this.LARGE_SPACING+this.HEIGHT)+")")}else{let e;i=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0,null==(e=this.zoomInGroup)||e.setAttribute("transform","translate(0, "+i+")"),i=i+this.SMALL_SPACING+this.HEIGHT,null==(s=this.zoomOutGroup)||s.setAttribute("transform","translate(0, "+i+")")}this.top=t.top,this.left=t.left,null==(n=this.svgGroup)||n.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(e){this.zoomOutGroup=e5(sU.G,{class:"blocklyZoom blocklyZoomOut"},this.svgGroup);let t=e5(sU.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);e5(sU.RECT,{width:32,height:32},t),e5(sU.IMAGE,{width:96,height:124,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS(sL,"xlink:href",this.workspace.options.pathToMedia+le),this.boundEvents.push(eX(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)))}createZoomInSvg(e){this.zoomInGroup=e5(sU.G,{class:"blocklyZoom blocklyZoomIn"},this.svgGroup);let t=e5(sU.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);e5(sU.RECT,{width:32,height:32},t),e5(sU.IMAGE,{width:96,height:124,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS(sL,"xlink:href",this.workspace.options.pathToMedia+le),this.boundEvents.push(eX(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)))}zoom(e,t){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),eG(),t.stopPropagation(),t.preventDefault()}createZoomResetSvg(e){this.zoomResetGroup=e5(sU.G,{class:"blocklyZoom blocklyZoomReset"},this.svgGroup);let t=e5(sU.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);e5(sU.RECT,{width:32,height:32},t),e5(sU.IMAGE,{width:96,height:124,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS(sL,"xlink:href",this.workspace.options.pathToMedia+le),this.boundEvents.push(eX(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)))}resetZoom(e){this.workspace.markFocused();let t=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(t),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),eG(),e.stopPropagation(),e.preventDefault()}fireZoomEvent(){eb(new(ew(iK.CLICK))(null,this.workspace.id,"zoom_controls"))}};e1("\n.blocklyZoom>image, .blocklyZoom>svg>image {\n  opacity: .4;\n}\n\n.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {\n  opacity: .6;\n}\n\n.blocklyZoom>image:active, .blocklyZoom>svg>image:active {\n  opacity: .8;\n}\n");var ln={};ln.register=tA,ln.unregister=function(e){Q(A.SERIALIZER,e)};var lo=class{constructor(){this.priority=25}save(e){let t=[];for(let n of e.getTopComments())(e=tN(n,{addCoordinates:!0,saveIds:!0}))&&t.push(e);return t.length?t:null}load(e,t){for(let n of e)tM(n,t,{recordUndo:e_()})}clear(e){for(let t of e.getTopComments())t.dispose()}};tA("workspaceComments",new lo);var lr={};lr.WorkspaceCommentSerializer=lo,lr.append=tM,lr.save=tN;var li={};li.register=tL,li.unregister=function(e){Q(A.PASTER,e)};var ls=class{paste(e,t,n){let o;e=e.commentState,n&&(e.x=n.x,e.y=n.y),O.disable$$module$build$src$core$events$utils();try{o=tM(e,t),tD(o)}finally{O.enable$$module$build$src$core$events$utils()}return o?(eC()&&eb(new(ew(iK.COMMENT_CREATE))(o)),O.setSelected$$module$build$src$core$common(o),o):null}};ls.TYPE="workspace-comment",tL(ls.TYPE,new ls),O.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:28,connectingSnapRadius:28,currentConnectionPreference:8,bumpDelay:250},O.config$$module$build$src$core$config;var ll,la,lu,lc,ld,lh,lp,lf,lg="aria-",lm="role";(l2=lf||(lf={})).GRID="grid",l2.GRIDCELL="gridcell",l2.GROUP="group",l2.LISTBOX="listbox",l2.MENU="menu",l2.MENUITEM="menuitem",l2.MENUITEMCHECKBOX="menuitemcheckbox",l2.OPTION="option",l2.PRESENTATION="presentation",l2.ROW="row",l2.TREE="tree",l2.TREEITEM="treeitem",(l5=l4||(l4={})).ACTIVEDESCENDANT="activedescendant",l5.COLCOUNT="colcount",l5.DISABLED="disabled",l5.EXPANDED="expanded",l5.INVALID="invalid",l5.LABEL="label",l5.LABELLEDBY="labelledby",l5.LEVEL="level",l5.ORIENTATION="orientation",l5.POSINSET="posinset",l5.ROWCOUNT="rowcount",l5.SELECTED="selected",l5.SETSIZE="setsize",l5.VALUEMAX="valuemax",l5.VALUEMIN="valuemin";var l_={};l_.Role=lf,l_.State=l4,l_.setRole=tB,l_.setState=tF;var lb=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.pointerLeaveHandler=this.pointerEnterHandler=this.clickHandler=this.pointerMoveHandler=this.highlightedItem=this.openingCoords=null}addChild(e){this.menuItems.push(e)}render(e){let t=document.createElement("div");t.className="blocklyMenu goog-menu blocklyNonSelectable",t.tabIndex=0,this.roleName&&tB(t,this.roleName),this.element=t;for(let e=0,n;n=this.menuItems[e];e++)t.appendChild(n.createDom());return this.pointerMoveHandler=eX(t,"pointermove",this,this.handlePointerMove,!0),this.clickHandler=eX(t,"pointerup",this,this.handleClick,!0),this.pointerEnterHandler=eX(t,"pointerenter",this,this.handlePointerEnter,!0),this.pointerLeaveHandler=eX(t,"pointerleave",this,this.handlePointerLeave,!0),this.onKeyDownHandler=eX(t,"keydown",this,this.handleKeyEvent),e.appendChild(t),t}getElement(){return this.element}focus(){let e=this.getElement();e&&(e.focus({preventScroll:!0}),e3(e,"blocklyFocused"))}blur(){let e=this.getElement();e&&(e.blur(),e6(e,"blocklyFocused"))}setRole(e){this.roleName=e}dispose(){this.pointerMoveHandler&&(eK(this.pointerMoveHandler),this.pointerMoveHandler=null),this.clickHandler&&(eK(this.clickHandler),this.clickHandler=null),this.pointerEnterHandler&&(eK(this.pointerEnterHandler),this.pointerEnterHandler=null),this.pointerLeaveHandler&&(eK(this.pointerLeaveHandler),this.pointerLeaveHandler=null),this.onKeyDownHandler&&(eK(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let e=0,t;t=this.menuItems[e];e++)t.dispose();this.element=null}getMenuItem(e){let t=this.getElement();for(;e&&e!==t;){if(e.classList.contains("blocklyMenuItem")){for(let t=0,n;n=this.menuItems[t];t++)if(n.getElement()===e)return n}e=e.parentElement}return null}setHighlighted(e){var t=this.highlightedItem;if(t&&(t.setHighlighted(!1),this.highlightedItem=null),e){e.setHighlighted(!0),this.highlightedItem=e;let n=null==(t=this.getElement())?void 0:t.parentElement,o=e.getElement();n&&o&&(th(o,n),tF(t,l4.ACTIVEDESCENDANT,e.getId()))}}highlightNext(){let e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}highlightPrevious(){let e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(0>e?this.menuItems.length:e,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(e,t){let n;for(e+=t;n=this.menuItems[e];){if(n.isEnabled()){this.setHighlighted(n);break}e+=t}}handlePointerMove(e){0!==Math.max(Math.abs(e.movementX),Math.abs(e.movementY))&&(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}handleClick(e){let t=this.openingCoords;if(this.openingCoords=null,t&&"number"==typeof e.clientX){let n=new sA(e.clientX,e.clientY);if(1>sA.distance(t,n))return}(e=this.getMenuItem(e.target))&&e.performAction()}handlePointerEnter(e){this.focus()}handlePointerLeave(e){this.getElement()&&this.setHighlighted(null)}handleKeyEvent(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var t=this.highlightedItem;switch(e.key){case"Enter":case" ":t&&t.performAction();break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}getSize(){let e=this.getElement(),t=ts(e);return t.height=e.scrollHeight,t}},ly=class{constructor(e,t){this.content=e,this.opt_value=t,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){let e=document.createElement("div");e.id=el(),this.element=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl goog-menuitem-rtl ":"");let t=document.createElement("div");if(t.className="blocklyMenuItemContent goog-menuitem-content",this.checkable){var n=document.createElement("div");n.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",t.appendChild(n)}return n=this.content,"string"==typeof this.content&&(n=document.createTextNode(this.content)),t.appendChild(n),e.appendChild(t),this.roleName&&tB(e,this.roleName),tF(e,l4.SELECTED,this.checkable&&this.checked||!1),tF(e,l4.DISABLED,!this.enabled),e}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let e;return null!=(e=this.opt_value)?e:null}setRightToLeft(e){this.rightToLeft=e}setRole(e){this.roleName=e}setCheckable(e){this.checkable=e}setChecked(e){this.checked=e}setHighlighted(e){this.highlight=e;let t=this.getElement();t&&this.isEnabled()&&(e?(e3(t,"blocklyMenuItemHighlight"),e3(t,"goog-menuitem-highlight")):(e6(t,"blocklyMenuItemHighlight"),e6(t,"goog-menuitem-highlight")))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}performAction(){this.isEnabled()&&this.actionHandler&&this.actionHandler(this)}onAction(e,t){this.actionHandler=e.bind(t)}},lT="_TEMP_COLLAPSED_INPUT",lE="_TEMP_COLLAPSED_FIELD",lv="MANUALLY_DISABLED";(l3=O.inputTypes$$module$build$src$core$inputs$input_types||(O.inputTypes$$module$build$src$core$inputs$input_types={}))[l3.VALUE=1]="VALUE",l3[l3.STATEMENT=3]="STATEMENT",l3[l3.DUMMY=5]="DUMMY",l3[l3.CUSTOM=6]="CUSTOM",l3[l3.END_ROW=7]="END_ROW",O.inputTypes$$module$build$src$core$inputs$input_types;var lC=new Set,lI=new WeakSet,lS=new WeakMap,lw=null,lk=null,lO=0,lR={};lR.finishQueuedRenders=tV,lR.queueRender=tH,lR.triggerQueuedRenders=tG;var lx=function(e,t){window.alert(e),t&&t()},l$=function(e,t){t(window.confirm(e))},lA=function(e,t,n){n(window.prompt(e,t))},lN={confirmInternal:function(e,t){l$(e,t)}},lM={TEST_ONLY:lN};lM.alert=tJ,lM.confirm=tZ,lM.prompt=tq,lM.setAlert=function(e){lx=e},lM.setConfirm=function(e){l$=e},lM.setPrompt=function(e){lA=e};var lL={};lL.isLegacyProcedureCallBlock=t0,lL.isLegacyProcedureDefBlock=tQ,O.Msg$$module$build$src$core$msg=Object.create(null),l6=function(e){Object.keys(e).forEach(function(t){O.Msg$$module$build$src$core$msg[t]=e[t]})},l8={Msg:O.Msg$$module$build$src$core$msg,setLocale:l6};var lD=class extends i3{constructor(e){super(),this.isBlank=void 0===e,e&&(this.varId=e.getId(),this.workspaceId=e.workspace.id)}toJson(){let e=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new lD)).varId=e.varId,t}},lP=class extends lD{constructor(e){super(e),this.type=iK.VAR_CREATE,e&&(this.varType=e.type,this.varName=e.name)}toJson(){let e=super.toJson();if(void 0===this.varType)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new lP)).varType=e.varType,t.varName=e.varName,t}run(e){let t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.createVariable(this.varName,this.varType,this.varId):t.deleteVariableById(this.varId)}};Z(A.EVENT,iK.VAR_CREATE,lP);var lB=class{constructor(e,t,n,o){this.workspace=e,this.name=t,this.type=n||"",this.id=o||ea()}getId(){return this.id}static compareByName(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"base"})}},lF="VARIABLE",lU="ijkmnopqrstuvwxyzabcdefgh",lH={generateUniqueNameInternal:function(e){return t4(lU.charAt(0),e.getAllVariableNames())}},lV={CATEGORY_NAME:lF,TEST_ONLY:lH,VAR_LETTER_OPTIONS:lU};lV.allDeveloperVariables=O.allDeveloperVariables$$module$build$src$core$variables,lV.allUsedVarModels=O.allUsedVarModels$$module$build$src$core$variables,lV.createVariableButtonHandler=t6,lV.flyoutCategory=t2,lV.flyoutCategoryBlocks=t5,lV.generateUniqueName=t3,lV.generateUniqueNameFromOptions=t4,lV.generateVariableFieldDom=no,lV.getAddedVariables=ni,lV.getOrCreateVariablePackage=O.getOrCreateVariablePackage$$module$build$src$core$variables,lV.getVariable=O.getVariable$$module$build$src$core$variables,lV.nameUsedWithAnyType=t7,lV.nameUsedWithConflictingParam=ne,lV.promptName=t8,lV.renameVariable=O.renameVariable$$module$build$src$core$variables;var lG=class extends Error{},lj=class extends lG{constructor(e){super("Expected to find a 'type' property, defining the block type"),this.state=e}},lW=class extends lG{constructor(e,t,n){super(`The block ${t.toDevString()} is missing a(n) ${e}
connection`),this.block=t,this.state=n}},lz=class extends lG{constructor(e,t,n,o){super(`The block ${n.toDevString()} could not connect its
${t} to its parent, because: ${e}`),this.childBlock=n,this.childState=o}},lX=class extends lG{constructor(e){super("Encountered a real block which is defined as a child of a shadow\nblock. It is an invariant of Blockly that shadow blocks only have shadow\nchildren"),this.state=e}},lY=class extends lG{constructor(e,t,n){super(`Cannot add an icon of type '${e}' to the block ${t.toDevString()}, because there is no icon registered with type '${e}'. Make sure that all of your icons have been registered.`),this.block=t,this.state=n}},lK={};lK.BadConnectionCheck=lz,lK.DeserializationError=lG,lK.MissingBlockType=lj,lK.MissingConnection=lW,lK.RealChildOfShadow=lX,lK.UnregisteredIcon=lY;var lJ=class{constructor(){this.priority=50}save(e){let t=[];for(let n of e.getTopBlocks(!1))(e=ns(n,{addCoordinates:!0,doFullSerialization:!1}))&&t.push(e);return t.length?{languageVersion:0,blocks:t}:null}load(e,t){for(let n of e=e.blocks)ng(n,t,{recordUndo:e_()})}clear(e){for(let t of e.getTopBlocks(!1))t.dispose(!1)}};tA("blocks",new lJ);var lZ={};lZ.BlockSerializer=lJ,lZ.append=ng,lZ.appendInternal=nm,lZ.save=ns;var lq=class{constructor(e){this.name=e}toString(){return this.name}equals(e){return this.name===e.toString()}};lq.MUTATOR=new lq("mutator"),lq.WARNING=new lq("warning"),lq.COMMENT=new lq("comment");var lQ=class extends i3{constructor(e){super(),this.isBlank=!e,e&&(this.blockId=e.id,this.workspaceId=e.workspace.id)}toJson(){let e=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new lQ)).blockId=e.blockId,t}},l0=class extends lQ{constructor(e,t,n,o,r){super(e),this.type=iK.BLOCK_CHANGE,e&&(this.element=t,this.name=n||void 0,this.oldValue=o,this.newValue=r)}toJson(){let e=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,this.disabledReason&&(e.disabledReason=this.disabledReason),e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new l0)).element=e.element,t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,void 0!==e.disabledReason&&(t.disabledReason=e.disabledReason),t}setDisabledReason(e){if("disabled"!==this.element)throw Error('Cannot set the disabled reason for a BlockChange event if the element is not "disabled".');this.disabledReason=e}isNull(){return this.oldValue===this.newValue}run(e){var t,n=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(!(n=n.getBlockById(this.blockId)))throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");let o=n.getIcon(lq.MUTATOR);switch(o&&nR(o)&&o.bubbleIsVisible()&&o.setBubbleVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(n=n.getField(this.name))?n.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":n.setCommentText(e||null);break;case"collapsed":n.setCollapsed(!!e);break;case"disabled":n.setDisabledReason(!!e,null!=(t=this.disabledReason)?t:lv);break;case"inline":n.setInputsInline(!!e);break;case"mutation":t=l0.getExtraBlockState_(n),n.loadExtraState?n.loadExtraState(JSON.parse(e||"{}")):n.domToMutation&&n.domToMutation(O.textToDom$$module$build$src$core$utils$xml(e||"<mutation/>")),eb(new l0(n,"mutation",null,t,e));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(e){return e.saveExtraState?(e=e.saveExtraState(!0))?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?oQ(e):""}};Z(A.EVENT,iK.BLOCK_CHANGE,l0);var l1={};l1.clamp=n$,l1.toDegrees=function(e){return 180*e/Math.PI},l1.toRadians=nx;var l2,l5,l3,l4,l6,l8,l9,l7,ae,at=16,an=1,ao=12,ar=16,ai=.25,as=null,al=null,aa="",au="",ac=null,ad=null,ah=null,ap={getBoundsInfo:function(){let e=tu(ac),t=ts(ac);return{left:e.x,right:e.x+t.width,top:e.y,bottom:e.y+t.height,width:t.width,height:t.height}},getPositionMetrics:function(e,t,n,o){var r;let i=ap.getBoundsInfo(),s=ts(l9);return t+s.height<i.bottom?nG(e,t,i,s):o-s.height>i.top?nj(n,o,i,s):t+s.height<document.documentElement.clientHeight?nG(e,t,i,s):o-s.height>document.documentElement.clientTop?nj(n,o,i,s):{initialX:(r=nW(r=e,i.left,i.right,s.width)).divX,initialY:0,finalX:r.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}}},af={ANIMATION_TIME:.25,ARROW_HORIZONTAL_PADDING:12,ARROW_SIZE:16,BORDER_SIZE:1,PADDING_Y:16,TEST_ONLY:ap};af.clearContent=nD,af.createDom=nA,af.getContentDiv=nL,af.getOwner=nM,af.getPositionX=nW,af.hide=nY,af.hideIfOwner=nX,af.hideWithoutAnimation=nK,af.isVisible=nz,af.repositionForWindowResize=nZ,af.setBoundsElement=nN,af.setColour=nP,af.show=nV,af.showPositionedByBlock=function(e,t,n,o){return nH(nF(t),e,n,o)},af.showPositionedByField=nB;var ag=class{constructor(e){this.workspace=e,this.cursorSvg=this.cursor=null,this.markers=new Map,this.markerSvg=null}registerMarker(e,t){this.markers.has(e)&&this.unregisterMarker(e),t.setDrawer(this.workspace.getRenderer().makeMarkerDrawer(this.workspace,t)),this.setMarkerSvg(t.getDrawer().createDom()),this.markers.set(e,t)}unregisterMarker(e){let t=this.markers.get(e);if(t)t.dispose(),this.markers.delete(e);else throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.")}getCursor(){return this.cursor}getMarker(e){return this.markers.get(e)||null}setCursor(e){this.cursor&&this.cursor.getDrawer()&&this.cursor.getDrawer().dispose(),(this.cursor=e)&&(e=this.workspace.getRenderer().makeMarkerDrawer(this.workspace,this.cursor),this.cursor.setDrawer(e),this.setCursorSvg(this.cursor.getDrawer().createDom()))}setCursorSvg(e){e?(this.workspace.getBlockCanvas().appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(e){e?this.workspace.getBlockCanvas()&&(this.cursorSvg?this.workspace.getBlockCanvas().insertBefore(e,this.cursorSvg):this.workspace.getBlockCanvas().appendChild(e)):this.markerSvg=null}updateMarkers(){this.workspace.keyboardAccessibilityMode&&this.cursorSvg&&this.workspace.getCursor().draw()}dispose(){let e=Object.keys(this.markers);for(let t=0,n;n=e[t];t++)this.unregisterMarker(n);this.markers.clear(),this.cursor&&(this.cursor.dispose(),this.cursor=null)}};ag.LOCAL_MARKER="local_marker_1";var am={};am.commonWordPrefix=nQ,am.commonWordSuffix=n0,am.isNumber=O.isNumber$$module$build$src$core$utils$string,am.shortestStringLength=nq,am.wrap=O.wrap$$module$build$src$core$utils$string;var a_=void 0,ab=!1,ay=!1,aT=50,aE=0,av=0,aC=0,aI=0,aS=null,aw=null,ak=0,aO=10,aR=10,ax=750,a$=5,aA=null,aN={HOVER_MS:750,LIMIT:50,MARGINS:5,OFFSET_X:0,OFFSET_Y:10,RADIUS_OK:10};aN.bindMouseEvents=n9,aN.block=oi,aN.createDom=n8,aN.dispose=oo,aN.getCustomTooltip=function(){return a_},aN.getDiv=function(){return aA},aN.getTooltipOfObject=n4,aN.hide=or,aN.isVisible=function(){return ab},aN.setCustomTooltip=function(e){a_=e},aN.unbindMouseEvents=n7,aN.unblock=os;var aM=.45,aL=.65,aD={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},aP={};aP.blend=o_,aP.getHsvSaturation=od,aP.getHsvValue=oh,aP.hexToRgb=og,aP.hsvToHex=om,aP.hueToHex=ob,aP.names=aD,aP.parse=op,aP.rgbToHex=of,aP.setHsvSaturation=function(e){aM=e},aP.setHsvValue=function(e){aL=e};var aB={};aB.checkMessageReferences=function(e){let t=!0,n=O.Msg$$module$build$src$core$msg,o=e.match(/%{BKY_[A-Z]\w*}/gi);if(o)for(let r=0;r<o.length;r++)void 0===n[o[r].toUpperCase().slice(6,-1)]&&(console.warn("No message string for "+o[r]+" in "+e),t=!1);return t},aB.parseBlockColour=ov,aB.replaceMessageReferences=oE,aB.tokenizeInterpolation=oT;var aF=class{constructor(e,t,n){this.DEFAULT_VALUE=null,this.name=void 0,this.constants_=this.mouseDownWrapper=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg=this.cursorSvg=this.tooltip=this.validator_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.CURSOR="",this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new sV(0,0),e!==aF.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){e.tooltip&&this.setTooltip(oE(e.tooltip))}setSourceBlock(e){if(this.sourceBlock_)throw Error("Field already bound to a block");this.sourceBlock_=e}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){this.fieldGroup_||(this.fieldGroup_=e5(sU.G,{}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip),this.bindEvents_(),this.initModel(),this.applyColour())}initView(){this.createBorderRect_(),this.createTextElement_()}initModel(){}isFullBlockField(){return!this.borderRect_}createBorderRect_(){this.borderRect_=e5(sU.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=e5(sU.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){let e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");n9(e),this.mouseDownWrapper=eX(e,"pointerdown",this,this.onMouseDown_)}fromXml(e){this.setValue(e.textContent)}toXml(e){return e.textContent=this.getValue(),e}saveState(e){return null!==(e=this.saveLegacyState(aF))?e:this.getValue()}loadState(e){this.loadLegacyState(aF,e)||this.setValue(e)}saveLegacyState(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?((e=O.createElement$$module$build$src$core$utils$xml("field")).setAttribute("name",this.name||""),tb(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(e,t){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml&&(this.fromXml(O.textToDom$$module$build$src$core$utils$xml(t)),!0)}dispose(){let e;nX(this),oO(this),(null==(e=this.getSourceBlock())?0:e.isDeadOrDying())||e8(this.fieldGroup_),this.disposed=!0}updateEditable(){let e=this.fieldGroup_,t=this.getSourceBlock();this.EDITABLE&&e&&t&&(this.enabled_&&t.isEditable()?(e3(e,"blocklyEditableText"),e6(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(e3(e,"blocklyNonEditableText"),e6(e,"blocklyEditableText"),e.style.cursor=""))}setEnabled(e){this.enabled_=e,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==aF.prototype.showEditor_}isClickableInFlyout(e){return!e}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}isVisible(){return this.visible_}setVisible(e){if(this.visible_!==e){this.visible_=e;var t=this.fieldGroup_;t&&(t.style.display=e?"block":"none")}}setValidator(e){this.validator_=e}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(e){this.isClickable()&&this.showEditor_(e)}showEditor_(e){}repositionForWindowResize(){return!1}updateSize_(e){let t=this.getConstants(),n=2*(e=void 0!==e?e:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING),o=t.FIELD_TEXT_HEIGHT,r=0;this.textElement_&&(n+=r=to(this.textElement_,t.FIELD_TEXT_FONTSIZE,t.FIELD_TEXT_FONTWEIGHT,t.FIELD_TEXT_FONTFAMILY)),this.isFullBlockField()||(o=Math.max(o,t.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=o,this.size_.width=n,this.positionTextElement_(e,r),this.positionBorderRect_()}positionTextElement_(e,t){if(this.textElement_){var n,o=this.getConstants(),r=this.size_.height/2;this.textElement_.setAttribute("x",String((null==(n=this.getSourceBlock())?0:n.RTL)?this.size_.width-t-e:e)),this.textElement_.setAttribute("y",String(o.FIELD_TEXT_BASELINE_CENTER?r:r-o.FIELD_TEXT_HEIGHT/2+o.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0===this.size_.width&&(this.render_(),0!==this.size_.width&&console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead.")),this.size_):new sV(0,0)}getScaledBBox(){let e;var t=this.getSourceBlock();if(!t)throw new aU;if(this.isFullBlockField()){var n=this.sourceBlock_.getHeightWidth();let o=t.workspace.scale;e=this.getAbsoluteXY_(),t=(n.width+1)*o,n=(n.height+1)*o,sS?(e.x+=1.5*o,e.y+=1.5*o):(e.x-=.5*o,e.y-=.5*o)}else n=this.borderRect_.getBoundingClientRect(),e=tu(this.borderRect_),t=n.width,n=n.height;return new sH(e.y,e.y+n,e.x,e.x+t)}onLocationChange(e){}getDisplayText_(){let e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"…"),e=e.replace(/\s/g,aF.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+="‏"),e):aF.NBSP}getText(){let e=this.getText_();return null!==e?String(e):String(this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&this.sourceBlock_.queueRender()}setValue(e,t=!0){if(null!==e){var n=O.getGroup$$module$build$src$core$events$utils();n||O.setGroup$$module$build$src$core$events$utils(!0);try{let n=this.doClassValidation_(e),a=this.processValidation(e,n,t);if(!(a instanceof Error)){var o,r=null==(o=this.getValidator())?void 0:o.call(this,a),i=this.processValidation(a,r,t);if(!(i instanceof Error)){var s=this.sourceBlock_;if(!s||!s.disposed){var l=this.getValue();l===i?this.doValueUpdate_(i):(this.doValueUpdate_(i),t&&s&&eC()&&eb(new(ew(iK.BLOCK_CHANGE))(s,"field",this.name||null,l,i)),this.isDirty_&&this.forceRerender())}}}}finally{O.setGroup$$module$build$src$core$events$utils(n)}}}processValidation(e,t,n){return null===t?(this.doValueInvalid_(e,n),this.isDirty_&&this.forceRerender(),Error()):void 0===t?e:t}getValue(){return this.value_}doClassValidation_(e){return null==e?null:e}doValueUpdate_(e){this.value_=e,this.isDirty_=!0}doValueInvalid_(e,t){}onMouseDown_(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}setTooltip(e){e||""===e||(e=this.sourceBlock_);let t=this.getClickTarget_();t?t.tooltip=e:this.tooltip=e}getTooltip(){let e=this.getClickTarget_();return e?n4(e):n4({tooltip:this.tooltip})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return tu(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let e=null,t=this.getSourceBlock();if(!t)throw new aU;let n=t.inputList;for(let o=0;o<t.inputList.length;o++){let t=n[o],r=t.fieldRow;for(let n=0;n<r.length;n++)if(r[n]===this){e=t;break}}return e}getFlipRtl(){return!1}isTabNavigable(){return!1}onShortcut(e){return!1}setCursorSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.cursorSvg=e}else this.cursorSvg=null}setMarkerSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.markerSvg=e}else this.markerSvg=null}updateMarkers_(){var e=this.getSourceBlock();if(!e)throw new aU;(e=e.workspace).keyboardAccessibilityMode&&this.cursorSvg&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg&&e.getMarker(ag.LOCAL_MARKER).draw()}static fromJson(e){throw Error("Attempted to instantiate a field from the registry that hasn't defined a 'fromJson' method.")}};aF.NBSP=" ",aF.SKIP_SETUP=Symbol("SKIP_SETUP");var aU=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}},aH={};aH.Field=aF,aH.UnattachedFieldError=aU;var aV,aG=null,aj=null,aW=null,az="blocklyWidgetDiv",aX="",aY="",aK={};aK.createDom=oI,aK.getDiv=oC,aK.hide=ow,aK.hideIfOwner=oO,aK.hideIfOwnerIsInWorkspace=oR,aK.isVisible=ok,aK.positionWithAnchor=o$,aK.repositionForWindowResize=oM,aK.show=oS,aK.testOnly_setDiv=function(e){if(aV=e,null===e){let e;null==(e=document.querySelector("."+az))||e.remove()}};var aJ=null,aZ={},aq=null,aQ={};aQ.callbackFactory=O.callbackFactory$$module$build$src$core$contextmenu,aQ.dispose=oV,aQ.getCurrentBlock=function(){return aJ},aQ.hide=oH,aQ.setCurrentBlock=oL,aQ.show=oD;var a0=class{constructor(){this.registeredItems=new Map,this.reset()}reset(){this.registeredItems.clear()}register(e){if(this.registeredItems.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registeredItems.set(e.id,e)}unregister(e){if(!this.registeredItems.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registeredItems.delete(e)}getItem(e){let t;return null!=(t=this.registeredItems.get(e))?t:null}getContextMenuOptions(e,t){let n=[];for(let r of this.registeredItems.values())if(e===r.scopeType){var o=r.preconditionFn(t);"hidden"!==o&&(o={text:"function"==typeof r.displayText?r.displayText(t):r.displayText,enabled:"enabled"===o,callback:r.callback,scope:t,weight:r.weight},n.push(o))}return n.sort(function(e,t){return e.weight-t.weight}),n}};(uT=(uy=a0||(a0={})).ScopeType||(uy.ScopeType={})).BLOCK="block",uT.WORKSPACE="workspace",uT.COMMENT="comment",uy.registry=new uy;var a1=a0.ScopeType,a2={};a2.ContextMenuRegistry=a0,a2.ScopeType=a1;var a5=class{constructor(e){this.comment=e,this.startLoc=null,this.inGroup=!1,this.workspace=e.workspace}isMovable(){return this.comment.isOwnMovable()&&!this.comment.isDeadOrDying()&&!this.workspace.options.readOnly}startDrag(){let e;(this.inGroup=!!O.getGroup$$module$build$src$core$events$utils())||O.setGroup$$module$build$src$core$events$utils(!0),this.fireDragStartEvent(),this.startLoc=this.comment.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1),null==(e=this.workspace.getLayerManager())||e.moveToDragLayer(this.comment),this.comment.setDragging(!0)}drag(e){this.comment.moveDuringDrag(e)}endDrag(){let e;this.fireDragEndEvent(),this.fireMoveEvent(),null==(e=this.workspace.getLayerManager())||e.moveOffDragLayer(this.comment,50),this.comment.setDragging(!1),this.comment.snapToGrid(),this.workspace.setResizesEnabled(!0),this.inGroup||O.setGroup$$module$build$src$core$events$utils(!1)}fireDragStartEvent(){eb(new(ew(iK.COMMENT_DRAG))(this.comment,!0))}fireDragEndEvent(){eb(new(ew(iK.COMMENT_DRAG))(this.comment,!1))}fireMoveEvent(){if(!this.comment.isDeadOrDying()){var e=new(ew(iK.COMMENT_MOVE))(this.comment);e.setReason(["drag"]),e.oldCoordinate_=this.startLoc,e.recordNew(),eb(e)}}revertDrag(){this.startLoc&&this.comment.moveDuringDrag(this.startLoc)}},a3=new WeakMap,a4={};a4.move=oW,a4.start=oj;var a6=class{constructor(e){let t;this.workspace=e,this.size=new sV(120,100),this.collapsed=!1,this.editable=!0,this.location=new sA(0,0),this.text="",this.textChangeListeners=[],this.sizeChangeListeners=[],this.disposeListeners=[],this.collapseChangeListeners=[],this.resizePointerMoveListener=this.resizePointerUpListener=null,this.disposed=this.disposing=!1,this.svgRoot=e5(sU.G,{class:"blocklyComment blocklyEditable blocklyDraggable"}),this.highlightRect=this.createHighlightRect(this.svgRoot),({topBarGroup:this.topBarGroup,topBarBackground:this.topBarBackground,deleteIcon:this.deleteIcon,foldoutIcon:this.foldoutIcon,textPreview:this.textPreview,textPreviewNode:this.textPreviewNode}=this.createTopBar(this.svgRoot,e)),({foreignObject:this.foreignObject,textArea:this.textArea}=this.createTextArea(this.svgRoot)),this.resizeHandle=this.createResizeHandle(this.svgRoot,e),null==(t=e.getLayerManager())||t.append(this,50),this.setSizeWithoutFiringEvents(this.size),this.moveTo(new sA(0,0))}createHighlightRect(e){return e5(sU.RECT,{class:"blocklyCommentHighlight"},e)}createTopBar(e,t){e=e5(sU.G,{class:"blocklyCommentTopbar"},e);let n=e5(sU.RECT,{class:"blocklyCommentTopbarBackground"},e),o=e5(sU.IMAGE,{class:"blocklyDeleteIcon",href:`${t.options.pathToMedia}delete-icon.svg`},e);t=e5(sU.IMAGE,{class:"blocklyFoldoutIcon",href:`${t.options.pathToMedia}foldout-icon.svg`},e);let r=e5(sU.TEXT,{class:"blocklyCommentPreview blocklyCommentText blocklyText"},e),i=document.createTextNode("");return r.appendChild(i),eX(t,"pointerdown",this,this.onFoldoutDown),eX(o,"pointerdown",this,this.onDeleteDown),{topBarGroup:e,topBarBackground:n,deleteIcon:o,foldoutIcon:t,textPreview:r,textPreviewNode:i}}createTextArea(e){e=e5(sU.FOREIGNOBJECT,{class:"blocklyCommentForeignObject"},e);let t=document.createElementNS(sM,"body");t.setAttribute("xmlns",sM),t.className="blocklyMinimalBody";let n=document.createElementNS(sM,"textarea");return e3(n,"blocklyCommentText"),e3(n,"blocklyTextarea"),e3(n,"blocklyText"),t.appendChild(n),e.appendChild(t),eX(n,"change",this,this.onTextChange),{foreignObject:e,textArea:n}}createResizeHandle(e,t){return eX(e=e5(sU.IMAGE,{class:"blocklyResizeHandle",href:`${t.options.pathToMedia}resize-handle.svg`},e),"pointerdown",this,this.onResizePointerDown),e}getSvgRoot(){return this.svgRoot}getSize(){return this.collapsed?this.topBarBackground.getBBox():this.size}setSizeWithoutFiringEvents(e){let t=this.topBarBackground.getBBox(),n=this.deleteIcon.getBBox(),o=this.foldoutIcon.getBBox(),r=this.textPreview.getBBox(),i=this.resizeHandle.getBBox();this.size=e=sV.max(e,this.calcMinSize(t,o,n)),this.svgRoot.setAttribute("height",`${e.height}`),this.svgRoot.setAttribute("width",`${e.width}`),this.updateHighlightRect(e),this.updateTopBarSize(e),this.updateTextAreaSize(e,t),this.updateDeleteIconPosition(e,t,n),this.updateFoldoutIconPosition(t,o),this.updateTextPreviewSize(e,t,r,n,i),this.updateResizeHandlePosition(e,i)}setSize(e){let t=this.preResizeSize||this.size;this.setSizeWithoutFiringEvents(e),this.onSizeChange(t,this.size)}calcMinSize(e,t,n){var o;this.updateTextPreview(null!=(o=this.textArea.value)?o:""),o=tn(this.textPreview);let r=this.calcFoldoutMargin(e,t),i=this.calcDeleteMargin(e,n),s=o;return this.foldoutIcon.checkVisibility()?s+=t.width+2*r:o&&(s+=4),this.deleteIcon.checkVisibility()?s+=n.width+2*i:o&&(s+=4),new sV(s,e.height+20)}calcDeleteMargin(e,t){return(e.height-t.height)/2}calcFoldoutMargin(e,t){return(e.height-t.height)/2}updateHighlightRect(e){this.highlightRect.setAttribute("height",`${e.height}`),this.highlightRect.setAttribute("width",`${e.width}`),this.workspace.RTL&&this.highlightRect.setAttribute("x",`${-e.width}`)}updateTopBarSize(e){this.topBarBackground.setAttribute("width",`${e.width}`)}updateTextAreaSize(e,t){this.foreignObject.setAttribute("height",`${e.height-t.height}`),this.foreignObject.setAttribute("width",`${e.width}`),this.foreignObject.setAttribute("y",`${t.height}`),this.workspace.RTL&&this.foreignObject.setAttribute("x",`${-e.width}`)}updateDeleteIconPosition(e,t,n){t=this.calcDeleteMargin(t,n),this.deleteIcon.setAttribute("y",`${t}`),this.deleteIcon.setAttribute("x",`${e.width-n.width-t}`)}updateFoldoutIconPosition(e,t){e=this.calcFoldoutMargin(e,t),this.foldoutIcon.setAttribute("y",`${e}`),this.foldoutIcon.setAttribute("x",`${e}`)}updateTextPreviewSize(e,t,n,o,r){let i=(t.height-n.height)/2,s=this.calcDeleteMargin(t,o);t=this.calcFoldoutMargin(t,r),e=e.width-r.width-2*t-o.width-2*s,this.textPreview.setAttribute("x",`${r.width+2*t*(this.workspace.RTL?-1:1)}`),this.textPreview.setAttribute("y",`${i+n.height/2}`),this.textPreview.setAttribute("width",`${e}`)}updateResizeHandlePosition(e,t){this.resizeHandle.setAttribute("y",`${e.height-t.height}`),this.resizeHandle.setAttribute("x",`${e.width-t.width}`)}onSizeChange(e,t){for(let n=this.sizeChangeListeners.length-1;0<=n;n--)this.sizeChangeListeners[n](e,t)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}removeSizeChangeListener(e){this.sizeChangeListeners.splice(this.sizeChangeListeners.indexOf(e),1)}onResizePointerDown(e){this.isEditable()&&(this.bringToFront(),eZ(e)||(this.preResizeSize=this.getSize(),oj(this.workspace,e,new sA(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=eX(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=eX(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation())}onResizePointerUp(e){eG(),this.resizePointerUpListener&&(eK(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(eK(this.resizePointerMoveListener),this.resizePointerMoveListener=null),this.setSize(this.size),this.preResizeSize=void 0}onResizePointerMove(e){e=oW(this.workspace,e),this.setSizeWithoutFiringEvents(new sV(this.workspace.RTL?-e.x:e.x,e.y))}isCollapsed(){return this.collapsed}setCollapsed(e){(this.collapsed=e)?e3(this.svgRoot,"blocklyCollapsed"):e6(this.svgRoot,"blocklyCollapsed"),this.setSizeWithoutFiringEvents(this.size),this.onCollapse()}onCollapse(){for(let e=this.collapseChangeListeners.length-1;0<=e;e--)this.collapseChangeListeners[e](this.collapsed)}addOnCollapseListener(e){this.collapseChangeListeners.push(e)}removeOnCollapseListener(e){this.collapseChangeListeners.splice(this.collapseChangeListeners.indexOf(e),1)}onFoldoutDown(e){eG(),this.bringToFront(),eZ(e)||(this.setCollapsed(!this.collapsed),this.workspace.hideChaff()),e.stopPropagation()}isEditable(){return this.editable}setEditable(e){(this.editable=e)?(e3(this.svgRoot,"blocklyEditable"),e6(this.svgRoot,"blocklyReadonly"),this.textArea.removeAttribute("readonly")):(e6(this.svgRoot,"blocklyEditable"),e3(this.svgRoot,"blocklyReadonly"),this.textArea.setAttribute("readonly","true"))}getRelativeToSurfaceXY(){return this.location}moveTo(e){this.location=e,this.svgRoot.setAttribute("transform",`translate(${e.x}, ${e.y})`)}getText(){return this.text}setText(e){this.textArea.value=e,this.onTextChange()}addTextChangeListener(e){this.textChangeListeners.push(e)}removeTextChangeListener(e){this.textChangeListeners.splice(this.textChangeListeners.indexOf(e),1)}onTextChange(){let e=this.text;this.text=this.textArea.value,this.updateTextPreview(this.text),this.setSize(this.size);for(let t=this.textChangeListeners.length-1;0<=t;t--)this.textChangeListeners[t](e,this.text)}updateTextPreview(e){this.textPreviewNode.textContent=this.truncateText(e)}truncateText(e){return 12<=e.length?`${e.substring(0,9)}...`:e}bringToFront(){let e=this.svgRoot.parentNode,t=e.childNodes;t[t.length-1]!==this.svgRoot&&e.appendChild(this.svgRoot)}onDeleteDown(e){eG(),eZ(e)||this.dispose(),e.stopPropagation()}dispose(){this.disposing=!0,e8(this.svgRoot);for(let e=this.disposeListeners.length-1;0<=e;e--)this.disposeListeners[e]();this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}addDisposeListener(e){this.disposeListeners.push(e)}removeDisposeListener(e){this.disposeListeners.splice(this.disposeListeners.indexOf(e),1)}};e1("\n.injectionDiv {\n  --commentFillColour: #FFFCC7;\n  --commentBorderColour: #F2E49B;\n}\n\n.blocklyComment .blocklyTextarea {\n  background-color: var(--commentFillColour);\n  border: 1px solid var(--commentBorderColour);\n  box-sizing: border-box;\n  display: block;\n  outline: 0;\n  padding: 5px;\n  resize: none;\n  width: 100%;\n  height: 100%;\n}\n\n.blocklyReadonly.blocklyComment .blocklyTextarea {\n  cursor: inherit;\n}\n\n.blocklyDeleteIcon {\n  width: 20px;\n  height: 20px;\n  display: none;\n  cursor: pointer;\n}\n\n.blocklyFoldoutIcon {\n  width: 20px;\n  height: 20px;\n  transform-origin: 12px 12px;\n  cursor: pointer;\n}\n.blocklyResizeHandle {\n  width: 12px;\n  height: 12px;\n  cursor: se-resize;\n}\n.blocklyReadonly.blocklyComment .blocklyResizeHandle {\n  cursor: inherit;\n}\n\n.blocklyCommentTopbarBackground {\n  fill: var(--commentBorderColour);\n  height: 24px;\n}\n\n.blocklyComment .blocklyCommentPreview.blocklyText {\n  fill: #000;\n  dominant-baseline: middle;\n  visibility: hidden;\n}\n\n.blocklyCollapsed.blocklyComment .blocklyCommentPreview {\n  visibility: visible;\n}\n\n.blocklyCollapsed.blocklyComment .blocklyCommentForeignObject,\n.blocklyCollapsed.blocklyComment .blocklyResizeHandle {\n  display: none;\n}\n\n.blocklyCollapsed.blocklyComment .blocklyFoldoutIcon {\n  transform: rotate(-90deg);\n}\n\n.blocklyRTL .blocklyCommentTopbar {\n  transform: scale(-1, 1);\n}\n\n.blocklyRTL .blocklyCommentForeignObject {\n  direction: rtl;\n}\n\n.blocklyRTL .blocklyCommentPreview {\n  /* Revert the scale and control RTL using direction instead. */\n  transform: scale(-1, 1);\n  direction: rtl;\n}\n\n.blocklyRTL .blocklyResizeHandle {\n  transform: scale(-1, 1);\n  cursor: sw-resize;\n}\n\n.blocklyCommentHighlight {\n  fill: none;\n}\n\n.blocklySelected .blocklyCommentHighlight {\n  stroke: #fc3;\n  stroke-width: 3px;\n}\n\n.blocklyCollapsed.blocklySelected .blocklyCommentHighlight {\n  stroke: none;\n}\n\n.blocklyCollapsed.blocklySelected .blocklyCommentTopbarBackground {\n  stroke: #fc3;\n  stroke-width: 3px;\n}\n");var a8=class{constructor(e,t){this.workspace=e,this.text="",this.size=new sV(120,100),this.collapsed=!1,this.deletable=this.movable=this.editable=!0,this.location=new sA(0,0),this.disposing=this.disposed=!1,this.id=t&&!e.getCommentById(t)?t:ea(),e.addTopComment(this),this.fireCreateEvent()}fireCreateEvent(){eC()&&eb(new(ew(iK.COMMENT_CREATE))(this))}fireDeleteEvent(){eC()&&eb(new(ew(iK.COMMENT_DELETE))(this))}fireChangeEvent(e,t){eC()&&eb(new(ew(iK.COMMENT_CHANGE))(this,e,t))}fireCollapseEvent(e){eC()&&eb(new(ew(iK.COMMENT_COLLAPSE))(this,e))}setText(e){let t=this.text;this.text=e,this.fireChangeEvent(t,e)}getText(){return this.text}setSize(e){let t=new(ew(iK.COMMENT_RESIZE))(this);this.size=e,t.recordCurrentSizeAsNewSize(),eb(t)}getSize(){return this.size}setCollapsed(e){this.collapsed=e,this.fireCollapseEvent(e)}isCollapsed(){return this.collapsed}setEditable(e){this.editable=e}isEditable(){return this.isOwnEditable()&&!this.workspace.options.readOnly}isOwnEditable(){return this.editable}setMovable(e){this.movable=e}isMovable(){return this.isOwnMovable()&&!this.workspace.options.readOnly}isOwnMovable(){return this.movable}setDeletable(e){this.deletable=e}isDeletable(){return this.isOwnDeletable()&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnDeletable(){return this.deletable}moveTo(e,t){let n=new(ew(iK.COMMENT_MOVE))(this);t&&n.setReason(t),this.location=e,n.recordNew(),eb(n)}getRelativeToSurfaceXY(){return this.location}dispose(){this.disposing=!0,this.fireDeleteEvent(),this.workspace.removeTopComment(this),this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}},a9=class extends a8{constructor(e,t){super(e,t),this.dragStrategy=new a5(this),this.workspace=e,this.view=new a6(e),this.view.setSize(this.getSize()),this.view.setEditable(this.isEditable()),this.view.getSvgRoot().setAttribute("data-id",this.id),this.addModelUpdateBindings(),eX(this.view.getSvgRoot(),"pointerdown",this,this.startGesture),eX(this.view.getSvgRoot(),"wheel",this,e=>{e.stopPropagation()})}addModelUpdateBindings(){this.view.addTextChangeListener((e,t)=>void super.setText(t)),this.view.addSizeChangeListener((e,t)=>void super.setSize(t)),this.view.addOnCollapseListener(()=>void super.setCollapsed(this.view.isCollapsed())),this.view.addDisposeListener(()=>{this.isDeadOrDying()||this.dispose()})}setText(e){this.view.setText(e)}setSize(e){this.view.setSize(e)}setCollapsed(e){this.view.setCollapsed(e)}setEditable(e){super.setEditable(e),this.view.setEditable(this.isEditable())}getSvgRoot(){return this.view.getSvgRoot()}getSize(){return super.getSize()}getBoundingRectangle(){var e,t;let n=this.getRelativeToSurfaceXY(),o=null!=(t=null==(e=this.view)?void 0:e.getSize())?t:this.getSize();return this.workspace.RTL?(e=n.x-o.width,t=n.x):(e=n.x,t=n.x+o.width),new sH(n.y,n.y+o.height,e,t)}moveBy(e,t,n){let o=this.getRelativeToSurfaceXY();e=new sA(o.x+e,o.y+t),this.moveTo(e,n)}moveTo(e,t){super.moveTo(e,t),this.view.moveTo(e)}moveDuringDrag(e){this.location=e,this.view.moveTo(e)}setDragging(e){e?e3(this.getSvgRoot(),"blocklyDragging"):e6(this.getSvgRoot(),"blocklyDragging")}dispose(){this.disposing=!0,this.view.isDeadOrDying()||this.view.dispose(),super.dispose()}startGesture(e){let t=this.workspace.getGesture(e);if(t){if(eJ(e))e.stopPropagation();else{let n;t.handleCommentStart(e,this),null==(n=this.workspace.getLayerManager())||n.append(this,50)}O.setSelected$$module$build$src$core$common(this)}}setDeleteStyle(e){e?e3(this.getSvgRoot(),"blocklyDraggingDelete"):e6(this.getSvgRoot(),"blocklyDraggingDelete")}isMovable(){return this.dragStrategy.isMovable()}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){e3(this.getSvgRoot(),"blocklySelected")}unselect(){e6(this.getSvgRoot(),"blocklySelected")}toCopyData(){return{paster:ls.TYPE,commentState:tN(this,{addCoordinates:!0})}}showContextMenu(e){oD(e,a0.registry.getContextMenuOptions(a0.ScopeType.COMMENT,{comment:this}),this.workspace.RTL,this.workspace)}snapToGrid(){if(!this.isDeadOrDying()){var e=this.workspace.getGrid();if(null!=e&&e.shouldSnap()){var t=this.getRelativeToSurfaceXY();(e=e.alignXY(t))!==t&&this.moveTo(e,["snap"])}}}},a7={};a7.appendDomToWorkspace=function(e,t){if(!t.getBlocksBoundingBox)return O.domToWorkspace$$module$build$src$core$xml(e,t);var n=t.getBlocksBoundingBox();if(e=O.domToWorkspace$$module$build$src$core$xml(e,t),n&&n.top!==n.bottom){var o=n.bottom;n=t.RTL?n.right:n.left;var r=1/0;let i=-1/0,s=1/0;for(let n=0;n<e.length;n++){let o=t.getBlockById(e[n]).getRelativeToSurfaceXY();o.y<s&&(s=o.y),o.x<r&&(r=o.x),o.x>i&&(i=o.x)}for(o=o-s+10,n=t.RTL?n-i:n-r,r=0;r<e.length;r++)t.getBlockById(e[r]).moveBy(n,o,["create"])}return e},a7.blockToDom=oZ,a7.blockToDomWithXY=oY,a7.clearWorkspaceAndLoadFromXml=function(e,t){return t.setResizesEnabled(!1),t.clear(),e=O.domToWorkspace$$module$build$src$core$xml(e,t),t.setResizesEnabled(!0),e},a7.deleteNext=function(e){for(let t=0;t<e.childNodes.length;t++){let n=e.childNodes[t];if("next"===n.nodeName.toLowerCase()){e.removeChild(n);break}}},a7.domToBlock=O.domToBlock$$module$build$src$core$xml,a7.domToBlockInternal=o1,a7.domToPrettyText=function(e){e=oQ(e).split("<");let t="";for(let n=1;n<e.length;n++){let o=e[n];"/"===o[0]&&(t=t.substring(2)),e[n]=t+"<"+o,"/"!==o[0]&&"/>"!==o.slice(-2)&&(t+="  ")}return(e=(e=e.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},a7.domToText=oQ,a7.domToVariables=o2,a7.domToWorkspace=O.domToWorkspace$$module$build$src$core$xml,a7.loadWorkspaceComment=o0,a7.saveWorkspaceComment=oz,a7.variablesToDom=oX,a7.workspaceToDom=function(e,t=!1){let n=O.createElement$$module$build$src$core$utils$xml("xml");var o=oX(O.allUsedVarModels$$module$build$src$core$variables(e));for(let r of(o.hasChildNodes()&&n.appendChild(o),e.getTopComments()))n.appendChild(oz(r,t));for(o=0,e=e.getTopBlocks(!0);o<e.length;o++)n.appendChild(oY(e[o],t));return n};var ue=class extends lQ{constructor(e){super(e),this.type=iK.BLOCK_CREATE,e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=oY(e),this.ids=eI(e),this.json=ns(e,{addCoordinates:!0}))}toJson(){let e=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=oQ(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new ue)).xml=O.textToDom$$module$build$src$core$utils$xml(e.xml),t.ids=e.ids,t.json=e.json,void 0!==e.recordUndo&&(t.recordUndo=e.recordUndo),t}run(e){let t=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!ut(t,this.ids))if(e)ng(this.json,t);else for(e=0;e<this.ids.length;e++){let n=this.ids[e],o=t.getBlockById(n);o?o.dispose(!1):n===this.blockId&&console.warn("Can't uncreate non-existent block: "+n)}}},ut=function(e,t){return t.map(t=>e.getBlockById(t)).filter(e=>e&&e.isShadow()).length===t.length};Z(A.EVENT,iK.BLOCK_CREATE,ue);var un=class extends i4{constructor(e,t){super(t),this.type=iK.THEME_CHANGE,this.themeName=e}toJson(){let e=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new un)).themeName=e.themeName,t}};Z(A.EVENT,iK.THEME_CHANGE,un);var uo=class extends i4{constructor(e,t,n,o,r){super(o),this.type=iK.VIEWPORT_CHANGE,this.viewTop=e,this.viewLeft=t,this.scale=n,this.oldScale=r}toJson(){let e=super.toJson();if(void 0===this.viewTop)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.viewLeft)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.scale)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.oldScale)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new uo)).viewTop=e.viewTop,t.viewLeft=e.viewLeft,t.scale=e.scale,t.oldScale=e.oldScale,t}};Z(A.EVENT,iK.VIEWPORT_CHANGE,uo),(uE=uv||(uv={}))[uE.INPUT_VALUE=1]="INPUT_VALUE",uE[uE.OUTPUT_VALUE=2]="OUTPUT_VALUE",uE[uE.NEXT_STATEMENT=3]="NEXT_STATEMENT",uE[uE.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT";var ur=class{constructor(e){this.connectionChecker=e,this.connections=[]}addConnection(e,t){t=this.calculateIndexForYPos(t),this.connections.splice(t,0,e)}findIndexOfConnection(e,t){if(!this.connections.length)return -1;let n=this.calculateIndexForYPos(t);if(n>=this.connections.length)return -1;t=e.y;let o=n;for(;0<=o&&this.connections[o].y===t;){if(this.connections[o]===e)return o;o--}for(o=n;o<this.connections.length&&this.connections[o].y===t;){if(this.connections[o]===e)return o;o++}return -1}calculateIndexForYPos(e){if(!this.connections.length)return 0;let t=0,n=this.connections.length;for(;t<n;){let o=Math.floor((t+n)/2);if(this.connections[o].y<e)t=o+1;else if(this.connections[o].y>e)n=o;else{t=o;break}}return t}removeConnection(e,t){if(-1===(e=this.findIndexOfConnection(e,t)))throw Error("Unable to find connection in connectionDB.");this.connections.splice(e,1)}getNeighbours(e,t){function n(e){let n=r-o[e].x,s=i-o[e].y;return Math.sqrt(n*n+s*s)<=t&&a.push(o[e]),s<t}let o=this.connections,r=e.x,i=e.y;e=0;let s=o.length-2,l=s;for(;e<l;)o[l].y<i?e=l:s=l,l=Math.floor((e+s)/2);let a=[];if(s=e=l,o.length){for(;0<=e&&n(e);)e--;do s++;while(s<o.length&&n(s))}return a}isInYRange(e,t,n){return Math.abs(this.connections[e].y-t)<=n}searchForClosest(e,t,n){if(!this.connections.length)return{connection:null,radius:t};let o=e.y,r=e.x;e.x=r+n.x,e.y=o+n.y;var i=this.calculateIndexForYPos(e.y);n=null;let s=t,l,a=i-1;for(;0<=a&&this.isInYRange(a,e.y,t);)l=this.connections[a],this.connectionChecker.canConnect(e,l,!0,s)&&(n=l,s=l.distanceFrom(e)),a--;for(;i<this.connections.length&&this.isInYRange(i,e.y,t);)l=this.connections[i],this.connectionChecker.canConnect(e,l,!0,s)&&(n=l,s=l.distanceFrom(e)),i++;return e.x=r,e.y=o,{connection:n,radius:s}}static init(e){let t=[];return t[uv.INPUT_VALUE]=new ur(e),t[uv.OUTPUT_VALUE]=new ur(e),t[uv.NEXT_STATEMENT]=new ur(e),t[uv.PREVIOUS_STATEMENT]=new ur(e),t}},ui=null,us=null,ul={};ul.connectionUiEffect=rs,ul.disconnectUiEffect=rl,ul.disconnectUiStop=ru,ul.disposeUiEffect=rr;var ua=class{constructor(e){this.workspace=e,this.horizontalScrollEnabled=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled=this.workspace.isMovableVertically(),this.startScrollXY_=new sA(e.scrollX,e.scrollY)}dispose(){this.workspace=null}startDrag(){eM()&&eM().unselect()}endDrag(e){this.drag(e)}drag(e){if(e=sA.sum(this.startScrollXY_,e),this.horizontalScrollEnabled&&this.verticalScrollEnabled)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled)this.workspace.scroll(e.x,this.workspace.scrollY);else if(this.verticalScrollEnabled)this.workspace.scroll(this.workspace.scrollX,e.y);else throw TypeError("Invalid state.")}},uu=class{constructor(e,t){this.creatorWorkspace=t,this.mouseDownXY=new sA(0,0),this.startWorkspace_=this.targetBlock=this.startComment=this.startBlock=this.startIcon=this.startField=this.startBubble=null,this.hasExceededDragRadius=!1,this.boundEvents=[],this.workspaceDragger=this.dragger=null,this.dragging=!1,this.flyout=null,this.multiTouch=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1,this.cachedPoints=new Map,this.startDistance=this.previousScale=0,this.currentDropdownOwner=this.isPinchZoomEnabled=null,this.mostRecentEvent=e,this.currentDragDeltaXY=new sA(0,0)}dispose(){for(let e of(eG(),os(),this.creatorWorkspace.clearGesture(),this.boundEvents))eK(e);this.boundEvents.length=0,this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(e){let t=new sA(e.clientX,e.clientY);this.updateDragDelta(t)&&(this.updateIsDragging(e),eV()),this.mostRecentEvent=e}updateDragDelta(e){return this.currentDragDeltaXY=sA.difference(e,this.mouseDownXY),!this.hasExceededDragRadius&&(this.hasExceededDragRadius=sA.magnitude(this.currentDragDeltaXY)>(this.flyout?O.config$$module$build$src$core$config.flyoutDragRadius:O.config$$module$build$src$core$config.dragRadius))}updateIsDraggingFromFlyout(){let e;if(!this.targetBlock||null==(e=this.flyout)||!e.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error("Cannot update dragging from the flyout because the ' +\n          'flyout's target workspace is undefined");return!!(!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY))&&(this.startWorkspace_=this.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),O.getGroup$$module$build$src$core$events$utils()||O.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),O.setSelected$$module$build$src$core$common(this.targetBlock),!0)}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.dragging=!0,this.workspaceDragger=new ua(this.startWorkspace_),this.workspaceDragger.startDrag())}updateIsDragging(e){if(!this.startWorkspace_)throw Error("Cannot update dragging because the start workspace is undefined");if(this.calledUpdateIsDragging)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging=!0,this.flyout&&this.updateIsDraggingFromFlyout();let t=eM();t&&rc(t)&&t.isMovable()?(this.dragging=!0,this.dragger=this.createDragger(t,this.startWorkspace_),this.dragger.onDragStart(e),this.dragger.onDrag(e,this.currentDragDeltaXY)):this.updateIsDraggingWorkspace()}createDragger(e,t){return new(ei(A.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(e,t)}doStart(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,eJ(e)?this.cancel():(this.gestureHasStarted=!0,ru(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=nM(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=e,oi(),eZ(e)?this.handleRightClick(e):("pointerdown"===e.type.toLowerCase()&&"mouse"!==e.pointerType&&eH(e,this),this.mouseDownXY=new sA(e.clientX,e.clientY),this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}bindMouseEvents(e){this.boundEvents.push(eX(document,"pointerdown",null,this.handleStart.bind(this),!0)),this.boundEvents.push(eX(document,"pointermove",null,this.handleMove.bind(this),!0)),this.boundEvents.push(eX(document,"pointerup",null,this.handleUp.bind(this),!0)),e.preventDefault(),e.stopPropagation()}handleStart(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&eV())}handleMove(e){this.isDragging()&&ej(e)||!this.isMultiTouch()?(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),eV())}handleUp(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!ej(e))return;if(this.updateFromEvent(e),eV(),this.isEnding_)return void console.log("Trying to end a gesture recursively.");this.isEnding_=!0,this.dragger?this.dragger.onDragEnd(e,this.currentDragDeltaXY):this.workspaceDragger?this.workspaceDragger.endDrag(this.currentDragDeltaXY):this.isBubbleClick()||this.isCommentClick()||(this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(e))}e.preventDefault(),e.stopPropagation(),this.dispose()}handleTouchStart(e){var t=eW(e);this.cachedPoints.set(t,this.getTouchPoint(e));var n=Array.from(this.cachedPoints.keys());2===n.length&&(t=this.cachedPoints.get(n[0]),n=this.cachedPoints.get(n[1]),this.startDistance=sA.distance(t,n),this.multiTouch=!0,e.preventDefault())}handleTouchMove(e){let t=eW(e);this.cachedPoints.set(t,this.getTouchPoint(e)),this.isPinchZoomEnabled&&2===this.cachedPoints.size?this.handlePinch(e):(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation())}handlePinch(e){var t=Array.from(this.cachedPoints.keys()),n=this.cachedPoints.get(t[0]);if(t=this.cachedPoints.get(t[1]),n=sA.distance(n,t)/this.startDistance,0<this.previousScale&&1/0>this.previousScale){if(t=0<(t=n-this.previousScale)?5*t:6*t,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");let o=this.startWorkspace_,r=eq(e,o.getParentSvg(),o.getInverseScreenCTM());o.zoom(r.x,r.y,t)}this.previousScale=n,e.preventDefault()}handleTouchEnd(e){e=eW(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),2>this.cachedPoints.size&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(e){return this.startWorkspace_?new sA(e.pageX,e.pageY):null}isMultiTouch(){return this.multiTouch}cancel(){this.isEnding_||(eV(),this.dragger?this.dragger.onDragEnd(this.mostRecentEvent,this.currentDragDeltaXY):this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY),this.dispose())}handleRightClick(e){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(e)):this.startBubble?this.startBubble.showContextMenu(e):this.startComment?(this.startComment.workspace.hideChaff(),this.startComment.showContextMenu(e)):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()}handleWsStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace(t),this.mostRecentEvent=e,this.startBlock||this.startBubble||this.startComment||O.setSelected$$module$build$src$core$common(null),this.doStart(e)}fireWorkspaceClick(e){eb(new(ew(iK.CLICK))(null,e.id,"workspace"))}handleFlyoutStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout(t),this.handleWsStart(e,t.getWorkspace())}handleBlockStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent=e}handleBubbleStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent=e}handleCommentStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleCommentStart, but the gesture had already been started.");this.setStartComment(t),this.mostRecentEvent=e}doFieldClick(){if(!this.startField)throw Error("Cannot do a field click because the start field is undefined");this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent),this.bringBlockToFront()}doIconClick(){if(!this.startIcon)throw Error("Cannot do an icon click because the start icon is undefined");this.bringBlockToFront(),this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error("Cannot do a block click because the target block is undefined");if(this.targetBlock.isEnabled()){O.getGroup$$module$build$src$core$events$utils()||O.setGroup$$module$build$src$core$events$utils(!0);var e=this.flyout.createBlock(this.targetBlock);e.snapToGrid(),e.bumpNeighbours()}}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");eb(e=new(ew(iK.CLICK))(this.startBlock,this.startWorkspace_.id,"block"))}this.bringBlockToFront(),O.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(e){e=this.creatorWorkspace,eM()&&eM().unselect(),this.fireWorkspaceClick(this.startWorkspace_||e)}bringBlockToFront(){this.targetBlock&&!this.flyout&&this.targetBlock.bringToFront()}setStartField(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField||(this.startField=e)}setStartIcon(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartIcon, but the gesture had already been started.");this.startIcon||(this.startIcon=e)}setStartBubble(e){this.startBubble||(this.startBubble=e)}setStartComment(e){this.startComment||(this.startComment=e)}setStartBlock(e){this.startBlock||this.startBubble||(this.startBlock=e,O.setSelected$$module$build$src$core$common(this.startBlock),e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock(e.getRootBlock()):this.setTargetBlock(e))}setTargetBlock(e){e.isShadow()?this.setTargetBlock(e.getParent()):this.targetBlock=e}setStartWorkspace(e){this.startWorkspace_||(this.startWorkspace_=e)}setStartFlyout(e){this.flyout||(this.flyout=e)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isCommentClick(){return!!this.startComment&&!this.hasExceededDragRadius}isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}isFieldClick(){return!!this.startField&&this.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose))}isIconClick(){if(!this.startIcon)return!1;let e=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&e}isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}getCurrentDragger(){let e,t;return null!=(t=null!=(e=this.workspaceDragger)?e:this.dragger)?t:null}isDragging(){return this.dragging}hasStarted(){return this.gestureHasStarted}static inProgress(){let e=eR();for(let t=0,n;n=e[t];t++)if(n.currentGesture_)return!0;return!1}},uc=class{constructor(e,t){let n,o,r;this.pattern=e,this.scale=1,this.spacing=null!=(n=t.spacing)?n:0,this.length=null!=(o=t.length)?o:1,this.line2=(this.line1=e.firstChild)&&this.line1.nextSibling,this.snapToGrid=null!=(r=t.snap)&&r}setSpacing(e){this.spacing=e,this.update(this.scale)}getSpacing(){return this.spacing}setLength(e){this.length=e,this.update(this.scale)}getLength(){return this.length}setSnapToGrid(e){this.snapToGrid=e}shouldSnap(){return this.snapToGrid}getPatternId(){return this.pattern.id}update(e){this.scale=e;var t=this.spacing*e;this.pattern.setAttribute("width",`${t}`),this.pattern.setAttribute("height",`${t}`);let n=(t=Math.floor(this.spacing/2)+.5)-this.length/2,o=t+this.length/2;t*=e,n*=e,o*=e,this.setLineAttributes(this.line1,e,n,o,t,t),this.setLineAttributes(this.line2,e,t,t,n,o)}setLineAttributes(e,t,n,o,r,i){e&&(e.setAttribute("stroke-width",`${t}`),e.setAttribute("x1",`${n}`),e.setAttribute("y1",`${r}`),e.setAttribute("x2",`${o}`),e.setAttribute("y2",`${i}`))}moveTo(e,t){this.pattern.setAttribute("x",`${e}`),this.pattern.setAttribute("y",`${t}`)}alignXY(e){var t=this.getSpacing();let n=t/2,o=Math.round(Math.round((e.x-n)/t)*t+n);return t=Math.round(Math.round((e.y-n)/t)*t+n),o===e.x&&t===e.y?e:new sA(o,t)}static createDom(e,t,n){let o,r;if(e=e5(sU.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},n),0<(null!=(o=t.length)?o:1)&&0<(null!=(r=t.spacing)?r:0)){let n;e5(sU.LINE,{stroke:t.colour},e),null!=(n=t.length)&&n&&e5(sU.LINE,{stroke:t.colour},e)}else e5(sU.LINE,{},e);return e}},ud=class{constructor(e){this.workspace=e,this.layers=new Map,(e=e.getInjectionDiv())&&(this.dragLayer=this.createDragLayer(e),this.animationLayer=this.createAnimationLayer(e)),e3(e=this.createLayer(50),"blocklyBlockCanvas"),e3(e=this.createLayer(100),"blocklyBubbleCanvas")}createDragLayer(e){let t=e5(sU.SVG,{class:"blocklyBlockDragSurface",xmlns:sN,"xmlns:html":sM,"xmlns:xlink":sL,version:"1.1"});return e.append(t),e5(sU.G,{},t)}createAnimationLayer(e){let t=e5(sU.SVG,{class:"blocklyAnimationLayer",xmlns:sN,"xmlns:html":sM,"xmlns:xlink":sL,version:"1.1"});return e.append(t),e5(sU.G,{},t)}appendToAnimationLayer(e){let t,n,o=null==(t=this.dragLayer)?void 0:t.getAttribute("transform");if(o){let e;null==(e=this.animationLayer)||e.setAttribute("transform",o)}null==(n=this.animationLayer)||n.appendChild(e.getSvgRoot())}translateLayers(e,t){let n;for(let[,o]of(e=`translate(${e.x}, ${e.y}) scale(${t})`,null==(n=this.dragLayer)||n.setAttribute("transform",e),this.layers))o.setAttribute("transform",e)}moveToDragLayer(e){let t;null==(t=this.dragLayer)||t.appendChild(e.getSvgRoot())}moveOffDragLayer(e,t){this.append(e,t)}append(e,t){let n;this.layers.has(t)||this.createLayer(t),null==(n=this.layers.get(t))||n.appendChild(e.getSvgRoot())}createLayer(e){let t=this.workspace.getSvgGroup(),n=e5(sU.G,{}),o=!1;for(let[r,i]of[...this.layers].sort((e,t)=>e[0]-t[0]))if(e<r){t.insertBefore(n,i),o=!0;break}return o||t.appendChild(n),this.layers.set(e,n),n}hasLayer(e){return e===this.dragLayer||new Set(this.layers.values()).has(e)}getBlockLayer(){return this.layers.get(50)}getBubbleLayer(){return this.layers.get(100)}},uh={};uh.deepMerge=rd;var up=class{constructor(e,t,n,o){this.name=e,this.startHats=!1,this.blockStyles=t||Object.create(null),this.categoryStyles=n||Object.create(null),this.componentStyles=o||Object.create(null),this.fontStyle=Object.create(null),Z(A.THEME,e,this,!0)}getClassName(){return this.name+"-theme"}setBlockStyle(e,t){this.blockStyles[e]=t}setCategoryStyle(e,t){this.categoryStyles[e]=t}getComponentStyle(e){if(!(e=this.componentStyles[e]))return null;if("string"==typeof e){let t=this.getComponentStyle(e);if(t)return t}return`${e}`}setComponentStyle(e,t){this.componentStyles[e]=t}setFontStyle(e){this.fontStyle=e}setStartHats(e){this.startHats=e}static defineTheme(e,t){let n=new up(e=e.toLowerCase()),o=t.base;if(o){if("string"==typeof o){let e;o=null!=(e=eo(A.THEME,o))?e:void 0}o instanceof up&&(rd(n,o),n.name=e)}return rd(n.blockStyles,t.blockStyles),rd(n.categoryStyles,t.categoryStyles),rd(n.componentStyles,t.componentStyles),rd(n.fontStyle,t.fontStyle),null!==t.startHats&&(n.startHats=t.startHats),n}},uf=new up("classic",{colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},{colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}}),ug=class{constructor(e){let t,n,o;this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let r=null,i=!1;var s,l=!1,a=!1,u=!1,c=!1,d=!1;let h=!!e.readOnly;h||(i=tC(r=tT(null!=(s=e.toolbox)?s:null)),l=void 0===(l=e.trashcan)?i:l,a=void 0===(a=e.collapse)?i:a,u=void 0===(u=e.comments)?i:u,c=void 0===(c=e.disable)?i:c,d=void 0===(d=e.sounds)||d),s=e.maxTrashcanContents,l?void 0===s&&(s=32):s=0;let p=!!e.rtl,f=e.horizontalLayout;void 0===f&&(f=!1);var g="end"!==e.toolboxPosition;g=f?g?s3.TOP:s3.BOTTOM:g===p?s3.RIGHT:s3.LEFT;let m=e.css;void 0===m&&(m=!0);let _="https://blockly-demo.appspot.com/static/media/";e.media&&(_=e.media.endsWith("/")?e.media:e.media+"/");let b=e.oneBasedIndex,y=e.renderer||"geras",T=e.plugins||{},E=e.modalInputs;void 0===E&&(E=!0),this.RTL=p,this.oneBasedIndex=void 0===b||b,this.collapse=a,this.comments=u,this.disable=c,this.readOnly=h,this.maxBlocks=e.maxBlocks||1/0,this.maxInstances=null!=(t=e.maxInstances)?t:null,this.modalInputs=E,this.pathToMedia=_,this.hasCategories=i,this.moveOptions=ug.parseMoveOptions(e,i),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=l,this.maxTrashcanContents=s,this.hasSounds=d,this.hasCss=m,this.horizontalLayout=f,this.languageTree=r,this.gridOptions=ug.parseGridOptions(e),this.zoomOptions=ug.parseZoomOptions(e),this.toolboxPosition=g,this.theme=ug.parseThemeOptions(e),this.renderer=y,this.rendererOverrides=null!=(n=e.rendererOverrides)?n:null,this.parentWorkspace=null!=(o=e.parentWorkspace)?o:null,this.plugins=T}static parseMoveOptions(e,t){let n=e.move||{},o={};return void 0===n.scrollbars&&void 0===e.scrollbars?o.scrollbars=t:"object"==typeof n.scrollbars?(o.scrollbars={horizontal:!!n.scrollbars.horizontal,vertical:!!n.scrollbars.vertical},o.scrollbars.horizontal&&o.scrollbars.vertical?o.scrollbars=!0:o.scrollbars.horizontal||o.scrollbars.vertical||(o.scrollbars=!1)):o.scrollbars=!!n.scrollbars||!!e.scrollbars,o.wheel=o.scrollbars&&void 0!==n.wheel?!!n.wheel:"object"==typeof o.scrollbars,o.drag=!!o.scrollbars&&(void 0===n.drag||!!n.drag),o}static parseZoomOptions(e){e=e.zoom||{};let t={};return t.controls=void 0!==e.controls&&!!e.controls,t.wheel=void 0!==e.wheel&&!!e.wheel,t.startScale=void 0===e.startScale?1:Number(e.startScale),t.maxScale=void 0===e.maxScale?3:Number(e.maxScale),t.minScale=void 0===e.minScale?.3:Number(e.minScale),t.scaleSpeed=void 0===e.scaleSpeed?1.2:Number(e.scaleSpeed),t.pinch=void 0===e.pinch?t.wheel||t.controls:!!e.pinch,t}static parseGridOptions(e){e=e.grid||{};let t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=void 0===e.length?1:Number(e.length),t.snap=0<t.spacing&&!!e.snap,t}static parseThemeOptions(e){return"string"==typeof(e=e.theme||uf)?eo(A.THEME,e):e instanceof up?e:up.defineTheme(e.name||"builtin"+el(),e)}},um={fromJsonInternal:function(e){let t=eo(A.FIELD,e.type);return t?t.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)}},u_={TEST_ONLY:um};u_.fromJson=O.fromJson$$module$build$src$core$field_registry,u_.register=rh,u_.unregister=function(e){Q(A.FIELD,e)};var ub=class extends aF{constructor(e,t,n){super(aF.SKIP_SETUP),this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null,this.SERIALIZABLE=!0,this.CURSOR="default",this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null,e!==aF.SKIP_SETUP&&(Array.isArray(e)?(this.validateOptions(e),e=this.trimOptions(e),this.menuGenerator_=e.options,this.prefixField=e.prefix||null,this.suffixField=e.suffix||null):this.menuGenerator_=e,this.selectedOption=this.getOptions(!1)[0],n&&this.configure_(n),this.setValue(this.selectedOption[1]),t&&this.setValidator(t))}fromXml(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}loadState(e){this.loadLegacyState(ub,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement=e5(sU.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&e3(this.borderRect_,"blocklyDropdownRect")}shouldAddBorderRect_(){let e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!(null==(e=this.getSourceBlock())?0:e.isShadow())}createTextArrow_(){let e,t;this.arrow=e5(sU.TSPAN,{},this.textElement_),this.arrow.appendChild(document.createTextNode((null==(e=this.getSourceBlock())?0:e.RTL)?ub.ARROW_CHAR+" ":" "+ub.ARROW_CHAR)),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.arrow.setAttribute("dominant-baseline","central"),(null==(t=this.getSourceBlock())?0:t.RTL)?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=e5(sU.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow.setAttributeNS(sL,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(e){var t=this.getSourceBlock();if(!t)throw new aU;this.dropdownCreate(),this.menu_.openingCoords=e&&"number"==typeof e.clientX?new sA(e.clientX,e.clientY):null,nD(),e3(e=this.menu_.render(nL()),"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&nP(t=t.getColour(),e=this.sourceBlock_.getColourTertiary()),nB(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem&&(this.menu_.setHighlighted(this.selectedMenuItem),th(this.selectedMenuItem.getElement(),nL(),!0)),this.applyColour()}dropdownCreate(){let e=this.getSourceBlock();if(!e)throw new aU;let t=new lb;t.setRole(lf.LISTBOX),this.menu_=t;let n=this.getOptions(!1);this.selectedMenuItem=null;for(let r=0;r<n.length;r++){let[i,s]=n[r];if("object"==typeof i){var o=new Image(i.width,i.height);o.src=i.src,o.alt=i.alt||""}else o=i;(o=new ly(o,s)).setRole(lf.OPTION),o.setRightToLeft(e.RTL),o.setCheckable(!0),t.addChild(o),o.setChecked(s===this.value_),s===this.value_&&(this.selectedMenuItem=o),o.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem=this.menu_=null,this.applyColour()}handleMenuActionEvent(e){nX(this,!0),this.onItemSelected_(this.menu_,e)}onItemSelected_(e,t){this.setValue(t.getValue())}isOptionListDynamic(){return"function"==typeof this.menuGenerator_}getOptions(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:(e&&this.generatedOptions||(this.generatedOptions=this.menuGenerator_(),this.validateOptions(this.generatedOptions)),this.generatedOptions)}doClassValidation_(e){return this.getOptions(!0).some(t=>t[1]===e)?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}doValueUpdate_(e){super.doValueUpdate_(e),e=this.getOptions(!0);for(let t=0,n;n=e[t];t++)n[1]===this.value_&&(this.selectedOption=n)}applyColour(){let e=this.sourceBlock_;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.getColourTertiary()),this.menu_?this.borderRect_.setAttribute("fill",e.getColourTertiary()):this.borderRect_.setAttribute("fill","transparent")),e&&this.arrow&&(e.isShadow()?this.arrow.style.fill=e.getColourSecondary():this.arrow.style.fill=e.getColour())}render_(){this.getTextContent().nodeValue="",this.imageElement.style.display="none";let e=this.selectedOption&&this.selectedOption[0];e&&"object"==typeof e?this.renderSelectedImage(e):this.renderSelectedText(),this.positionBorderRect_()}renderSelectedImage(e){let t,n=this.getSourceBlock();if(!n)throw new aU;this.imageElement.style.display="",this.imageElement.setAttributeNS(sL,"xlink:href",e.src),this.imageElement.setAttribute("height",String(e.height)),this.imageElement.setAttribute("width",String(e.width));let o=Number(e.height);e=Number(e.width);var r=!!this.borderRect_;let i=Math.max(r?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,o+ub.IMAGE_Y_PADDING);r=r?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,t=this.svgArrow?this.positionSVGArrow(e+r,i/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):to(this.arrow,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY),this.size_.width=e+t+2*r,this.size_.height=i;let s=0;n.RTL?this.imageElement.setAttribute("x",`${r+t}`):(s=e+t,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement.setAttribute("x",`${r}`)),this.imageElement.setAttribute("y",String(i/2-o/2)),this.positionTextElement_(s+r,e+t)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();e3(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var t=!!this.borderRect_;e=Math.max(t?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);let n=to(this.getTextElement(),this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);t=t?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let o=0;this.svgArrow&&(o=this.positionSVGArrow(n+t,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=n+o+2*t,this.size_.height=e,this.positionTextElement_(t,n)}positionSVGArrow(e,t){if(!this.svgArrow)return 0;let n=this.getSourceBlock();if(!n)throw new aU;let o=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,r=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,i=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow.setAttribute("transform","translate("+(n.RTL?o:e+r)+","+t+")"),i+r}getText_(){if(!this.selectedOption)return null;let e=this.selectedOption[0];return"object"==typeof e?e.alt:e}static fromJson(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}trimOptions(e){let t=!1,n=e.map(([e,n])=>"string"==typeof e?[oE(e),n]:(t=!0,[null!==e.alt?Object.assign({},e,{alt:oE(e.alt)}):Object.assign({},e),n]));if(t||2>e.length)return{options:n};var o=n.map(([e])=>e),r=nq(o);e=nQ(o,r);let i=n0(o,r);return(e||i)&&!(r<=e+i)?(r=e?o[0].substring(0,e-1):void 0,o=i?o[0].substr(1-i):void 0,{options:this.applyTrim(n,e,i),prefix:r,suffix:o}):{options:n}}applyTrim(e,t,n){return e.map(([e,o])=>[e.substring(t,e.length-n),o])}validateOptions(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");let t=!1;for(let n=0;n<e.length;n++){let o=e[n];Array.isArray(o)?"string"!=typeof o[1]?(t=!0,console.error(`Invalid option[${n}]: Each FieldDropdown option id must be a string. 
          Found ${o[1]} in: ${o}`)):o[0]&&"string"!=typeof o[0]&&"string"!=typeof o[0].src&&(t=!0,console.error(`Invalid option[${n}]: Each FieldDropdown option must have a string 
          label or image description. Found ${o[0]} in: ${o}`)):(t=!0,console.error(`Invalid option[${n}]: Each FieldDropdown option must be an array.
          Found: ${o}`))}if(t)throw TypeError("Found invalid FieldDropdown options.")}};ub.CHECKMARK_OVERHANG=25,ub.MAX_MENU_HEIGHT_VH=.45,ub.ARROW_CHAR="▾",ub.IMAGE_Y_OFFSET=5,ub.IMAGE_Y_PADDING=2*ub.IMAGE_Y_OFFSET,rh("field_dropdown",ub);var uy,uT,uE,uv,uC,uI=class{constructor(e,t){this.bubble=e,this.workspace=t,this.startLoc=null,this.inGroup=!1}isMovable(){return!0}startDrag(){let e;(this.inGroup=!!O.getGroup$$module$build$src$core$events$utils())||O.setGroup$$module$build$src$core$events$utils(!0),this.startLoc=this.bubble.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1),null==(e=this.workspace.getLayerManager())||e.moveToDragLayer(this.bubble),this.bubble.setDragging&&this.bubble.setDragging(!0)}drag(e){this.bubble.moveDuringDrag(e)}endDrag(){let e;this.workspace.setResizesEnabled(!0),this.inGroup||O.setGroup$$module$build$src$core$events$utils(!1),null==(e=this.workspace.getLayerManager())||e.moveOffDragLayer(this.bubble,100),this.bubble.setDragging(!1)}revertDrag(){this.startLoc&&this.bubble.moveDuringDrag(this.startLoc)}},uS=class{constructor(e,t,n){this.workspace=e,this.anchor=t,this.ownerRect=n,this.size=new sV(0,0),this.colour="#ffffff",this.disposed=!1,this.relativeLeft=this.relativeTop=0,this.dragStrategy=new uI(this,this.workspace),this.id=el(),this.svgRoot=e5(sU.G,{class:"blocklyBubble"},e.getBubbleCanvas()),e=e5(sU.G,{filter:`url(#${this.workspace.getRenderer().getConstants().embossFilterId})`},this.svgRoot),this.tail=e5(sU.PATH,{class:"blocklyBubbleTail"},e),this.background=e5(sU.RECT,{class:"blocklyDraggable",x:0,y:0,rx:uC.BORDER_WIDTH,ry:uC.BORDER_WIDTH},e),this.contentContainer=e5(sU.G,{},this.svgRoot),eX(this.background,"pointerdown",this,this.onMouseDown)}dispose(){e8(this.svgRoot),this.disposed=!0}setAnchorLocation(e,t=!1){this.anchor=e,t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}setPositionRelativeToAnchor(e,t){this.relativeLeft=e,this.relativeTop=t,this.positionRelativeToAnchor(),this.renderTail()}getSize(){return this.size}setSize(e,t=!1){e.width=Math.max(e.width,uC.MIN_SIZE),e.height=Math.max(e.height,uC.MIN_SIZE),this.size=e,this.background.setAttribute("width",`${e.width}`),this.background.setAttribute("height",`${e.height}`),t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}getColour(){return this.colour}setColour(e){this.colour=e,this.tail.setAttribute("fill",e),this.background.setAttribute("fill",e)}onMouseDown(e){let t;null==(t=this.workspace.getGesture(e))||t.handleBubbleStart(e,this),this.bringToFront(),O.setSelected$$module$build$src$core$common(this)}positionRelativeToAnchor(){let e=this.anchor.x;e=this.workspace.RTL?e-(this.relativeLeft+this.size.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchor.y)}moveTo(e,t){this.svgRoot.setAttribute("transform",`translate(${e}, ${t})`)}positionByRect(e=new sH(0,0,0,0)){var t=this.workspace.getMetricsManager().getViewMetrics(!0),n=this.getOptimalRelativeLeft(t),o=this.getOptimalRelativeTop(t);let r={x:n,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},i={x:-this.size.width-30,y:o};o={x:e.getWidth(),y:o};var s={x:n,y:e.getHeight()};n=e.getWidth()<e.getHeight()?o:s,e=e.getWidth()<e.getHeight()?s:o,o=this.getOverlap(r,t),s=this.getOverlap(i,t);let l=this.getOverlap(n,t);t=Math.max(o,s,l,t=this.getOverlap(e,t)),o===t?(this.relativeLeft=r.x,this.relativeTop=r.y):s===t?(this.relativeLeft=i.x,this.relativeTop=i.y):l===t?(this.relativeLeft=n.x,this.relativeTop=n.y):(this.relativeLeft=e.x,this.relativeTop=e.y),this.positionRelativeToAnchor()}getOverlap(e,t){var n=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x+this.anchor.x;return e=e.y+this.anchor.y,Math.max(0,Math.min(1,(Math.min(n+this.size.width,t.left+t.width)-Math.max(n,t.left))*(Math.min(e+this.size.height,t.top+t.height)-Math.max(e,t.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(e){let t=-this.size.width/4;if(this.size.width>e.width)return t;if(e=this.getWorkspaceViewRect(e),this.workspace.RTL){var n=this.anchor.x-t;n-this.size.width<e.left?t=-(e.left-this.anchor.x+this.size.width):n>e.right&&(t=-(e.right-this.anchor.x))}else{let o=(n=t+this.anchor.x)+this.size.width;n<e.left?t=e.left-this.anchor.x:o>e.right&&(t=e.right-this.anchor.x-this.size.width)}return t}getOptimalRelativeTop(e){let t=-this.size.height/4;if(this.size.height>e.height)return t;let n=this.anchor.y+t,o=n+this.size.height;return n<(e=this.getWorkspaceViewRect(e)).top?t=e.top-this.anchor.y:o>e.bottom&&(t=e.bottom-this.anchor.y-this.size.height),t}getWorkspaceViewRect(e){let t=e.top,n=e.top+e.height,o=e.left;return e=e.left+e.width,n-=this.getScrollbarThickness(),this.workspace.RTL?o-=this.getScrollbarThickness():e-=this.getScrollbarThickness(),new sH(t,n,o,e)}getScrollbarThickness(){return sY.scrollbarThickness/this.workspace.scale}renderTail(){let e,t=[];var n=this.size.width/2,o=this.size.height/2,r=-this.relativeLeft,i=-this.relativeTop;if(n===r&&o===i)t.push("M "+n+","+o);else{i-=o,r-=n,this.workspace.RTL&&(r*=-1);var s=Math.sqrt(i*i+r*r),l=Math.acos(r/s);0>i&&(l=2*Math.PI-l);var a=l+Math.PI/2;a>2*Math.PI&&(a-=2*Math.PI);var u=Math.sin(a);let e=Math.cos(a),c=(this.size.width+this.size.height)/uC.TAIL_THICKNESS;c=Math.min(c,this.size.width,this.size.height)/4,r=n+(a=1-uC.ANCHOR_RADIUS/s)*r,i=o+a*i,a=n+c*e;let d=o+c*u;n-=c*e,o-=c*u,(u=l+(u=nx(this.workspace.RTL?-uC.TAIL_ANGLE:uC.TAIL_ANGLE)))>2*Math.PI&&(u-=2*Math.PI),l=Math.sin(u)*s/uC.TAIL_BEND,s=Math.cos(u)*s/uC.TAIL_BEND,t.push("M"+a+","+d),t.push("C"+(a+s)+","+(d+l)+" "+r+","+i+" "+r+","+i),t.push("C"+r+","+i+" "+(n+s)+","+(o+l)+" "+n+","+o)}t.push("z"),null==(e=this.tail)||e.setAttribute("d",t.join(" "))}bringToFront(){let e,t=null==(e=this.svgRoot)?void 0:e.parentNode;return!!this.svgRoot&&(null==t?void 0:t.lastChild)!==this.svgRoot&&(null==t||t.appendChild(this.svgRoot),!0)}getRelativeToSurfaceXY(){return new sA(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(e){this.moveTo(e.x,e.y),this.relativeLeft=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x-this.anchor.x,this.relativeTop=e.y-this.anchor.y,this.renderTail()}setDragging(e){}setDeleteStyle(e){}isDeletable(){return!1}showContextMenu(e){}isMovable(){return!0}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){}unselect(){}};uC=uS,uS.BORDER_WIDTH=6,uS.DOUBLE_BORDER=2*uC.BORDER_WIDTH,uS.MIN_SIZE=uC.DOUBLE_BORDER,uS.TAIL_THICKNESS=1,uS.TAIL_ANGLE=20,uS.TAIL_BEND=4,uS.ANCHOR_RADIUS=8;var uw=class extends uS{constructor(e,t,n,o){let r,i;super(t,n,o),this.workspace=t,this.anchor=n,this.ownerRect=o,this.autoLayout=!0,t=new ug(e),this.validateWorkspaceOptions(t),this.svgDialog=e5(sU.SVG,{x:uS.BORDER_WIDTH,y:uS.BORDER_WIDTH},this.contentContainer),e.parentWorkspace=this.workspace,this.miniWorkspace=this.newWorkspaceSvg(new ug(e)),this.miniWorkspace.internalIsMutator=!0,e=this.miniWorkspace.createDom("blocklyMutatorBackground"),this.svgDialog.appendChild(e),t.languageTree&&(e.insertBefore(this.miniWorkspace.addFlyout(sU.G),this.miniWorkspace.getCanvas()),null==(e=this.miniWorkspace.getFlyout())||e.init(this.miniWorkspace),null==e||e.show(t.languageTree)),this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this)),null==(r=this.miniWorkspace.getFlyout())||null==(i=r.getWorkspace())||i.addChangeListener(this.onWorkspaceChange.bind(this)),this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose(),super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(e){this.miniWorkspace.addChangeListener(e)}validateWorkspaceOptions(e){if(e.hasCategories)throw Error("The miniworkspace bubble does not support toolboxes with categories");if(e.hasTrashcan)throw Error("The miniworkspace bubble does not support trashcans");if(e.zoomOptions.controls||e.zoomOptions.wheel||e.zoomOptions.pinch)throw Error("The miniworkspace bubble does not support zooming");if(e.moveOptions.scrollbars||e.moveOptions.wheel||e.moveOptions.drag)throw Error("The miniworkspace bubble does not scrolling/moving the workspace");if(e.horizontalLayout)throw Error("The miniworkspace bubble does not support horizontal layouts")}onWorkspaceChange(){this.bumpBlocksIntoBounds(),this.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging())for(let e of this.miniWorkspace.getTopBlocks(!1)){let t=e.getRelativeToSurfaceXY();if(20>t.y&&e.moveBy(0,20-t.y),e.RTL){let n=-20,o=this.miniWorkspace.getFlyout();o&&(n-=o.getWidth()),t.x>n&&e.moveBy(n-t.x,0)}else 20>t.x&&e.moveBy(20-t.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()){var e=this.getSize(),t=this.calculateWorkspaceSize();Math.abs(e.width-t.width)<uw.MINIMUM_VIEW_CHANGE&&Math.abs(e.height-t.height)<uw.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute("width",`${t.width}px`),this.svgDialog.setAttribute("height",`${t.height}px`),this.miniWorkspace.setCachedParentSvgSize(t.width,t.height),this.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute("transform",`translate(${t.width}, 0)`),this.setSize(new sV(t.width+uS.DOUBLE_BORDER,t.height+uS.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){var e=this.miniWorkspace.getCanvas().getBBox();let t=e.width+uw.MARGIN;e=e.height+uw.MARGIN;let n=this.miniWorkspace.getFlyout();return n&&(e=Math.max(e,n.getWorkspace().getMetricsManager().getScrollMetrics().height+20),t+=n.getWidth()),new sV(t,e)}updateBlockStyles(){let e;for(var t of this.miniWorkspace.getAllBlocks(!1))t.setStyle(t.getStyleName());if(t=null==(e=this.miniWorkspace.getFlyout())?void 0:e.getWorkspace())for(let e of t.getAllBlocks(!1))e.setStyle(e.getStyleName())}moveDuringDrag(e){super.moveDuringDrag(e),this.autoLayout=!1}moveTo(e,t){super.moveTo(e,t),this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}};uw.MINIMUM_VIEW_CHANGE=10,uw.MARGIN=3*uS.DOUBLE_BORDER;var uk=class{constructor(e){this.sourceBlock=e,this.offsetInBlock=new sA(0,0),this.workspaceLocation=new sA(0,0),this.svgRoot=null,this.tooltip=e}getType(){throw Error("Icons must implement getType")}initView(e){if(!this.svgRoot){var t=this.sourceBlock;this.svgRoot=e5(sU.G,{class:"blocklyIconGroup"}),t.getSvgRoot().appendChild(this.svgRoot),this.updateSvgRootOffset(),eX(this.svgRoot,"pointerdown",this,e),this.svgRoot.tooltip=this,n9(this.svgRoot)}}dispose(){n7(this.svgRoot),e8(this.svgRoot)}getWeight(){return -1}getSize(){return new sV(0,0)}setTooltip(e){this.tooltip=null!=e?e:this.sourceBlock}getTooltip(){return this.tooltip}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display="none":this.svgRoot.style.display="block",nR(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display="none")}isShownWhenCollapsed(){return!1}setOffsetInBlock(e){this.offsetInBlock=e,this.updateSvgRootOffset()}updateSvgRootOffset(){let e;null==(e=this.svgRoot)||e.setAttribute("transform",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`)}onLocationChange(e){this.workspaceLocation=sA.sum(e,this.offsetInBlock)}onClick(){}isClickableInFlyout(e){return!0}};O.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends uk{constructor(e,t){super(t),this.flyoutBlockTypes=e,this.sourceBlock=t,this.saveConnectionsListener=this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return O.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(e){this.svgRoot||(super.initView(e),e5(sU.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},this.svgRoot),e5(sU.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},this.svgRoot),e5(sU.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},this.svgRoot),e3(this.svgRoot,"blockly-icon-mutator"))}dispose(){let e;super.dispose(),null==(e=this.miniWorkspaceBubble)||e.dispose()}getWeight(){return O.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new sV(17,17)}applyColour(){let e,t;super.applyColour(),null==(e=this.miniWorkspaceBubble)||e.setColour(this.sourceBlock.getColour()),null==(t=this.miniWorkspaceBubble)||t.updateBlockStyles()}updateCollapsed(){super.updateCollapsed(),this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(e){let t;super.onLocationChange(e),null==(t=this.miniWorkspaceBubble)||t.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick(),this.sourceBlock.isEditable()&&this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(e){let t=this;return iY.asyncExecutePromiseGeneratorFunction(function*(){if(t.bubbleIsVisible()!==e){if(yield tV(),e){let e;t.miniWorkspaceBubble=new uw(t.getMiniWorkspaceConfig(),t.sourceBlock.workspace,t.getAnchorLocation(),t.getBubbleOwnerRect()),t.applyColour(),t.createRootBlock(),t.addSaveConnectionsListener(),null==(e=t.miniWorkspaceBubble)||e.addWorkspaceChangeListener(t.createMiniWorkspaceChangeListener())}else{let e;null==(e=t.miniWorkspaceBubble)||e.dispose(),t.miniWorkspaceBubble=null,t.saveConnectionsListener&&t.sourceBlock.workspace.removeChangeListener(t.saveConnectionsListener),t.saveConnectionsListener=null}eb(new(ew(iK.BUBBLE_OPEN))(t.sourceBlock,e,"mutator"))}})}getMiniWorkspaceConfig(){let e,t={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:null!=(e=this.sourceBlock.workspace.options.rendererOverrides)?e:void 0};return this.flyoutBlockTypes.length&&(t.toolbox={kind:"flyoutToolbox",contents:this.flyoutBlockTypes.map(e=>({kind:"block",type:e}))}),t}getAnchorLocation(){return sA.sum(this.workspaceLocation,new sA(8.5,8.5))}getBubbleOwnerRect(){let e=this.sourceBlock.getSvgRoot().getBBox();return new sH(e.y,e.y+e.height,e.x,e.x+e.width)}createRootBlock(){let e,t,n,o;if(!this.sourceBlock.decompose)throw Error("Blocks with mutator icons must include a decompose method");for(var r of(this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace()),this.rootBlock.getDescendants(!1)))r.queueRender();this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1),r=null!=(o=null==(e=this.miniWorkspaceBubble)||null==(t=e.getWorkspace())||null==(n=t.getFlyout())?void 0:n.getWidth())?o:0,this.rootBlock.moveBy(this.rootBlock.RTL?-(r+16):16,16)}addSaveConnectionsListener(){this.sourceBlock.saveConnections&&this.rootBlock&&(this.saveConnectionsListener=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}createMiniWorkspaceChangeListener(){return e=>{O.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(e)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null,this.recomposeSourceBlock()},0))}}static isIgnorableMutatorEvent(e){return e.isUiEvent||eu(e)||ed(e)&&"disabled"===e.element}recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error("Blocks with mutator icons must include a compose method");var e=O.getGroup$$module$build$src$core$events$utils();e||O.setGroup$$module$build$src$core$events$utils(!0);var t=l0.getExtraBlockState_(this.sourceBlock);this.sourceBlock.compose(this.rootBlock);var n=l0.getExtraBlockState_(this.sourceBlock);t!==n&&eb(new(ew(iK.BLOCK_CHANGE))(this.sourceBlock,"mutation",null,t,n)),O.setGroup$$module$build$src$core$events$utils(e)}}getWorkspace(){let e;return null==(e=this.miniWorkspaceBubble)?void 0:e.getWorkspace()}},O.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=lq.MUTATOR,O.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1,O.MutatorIcon$$module$build$src$core$icons$mutator_icon;var uO=Object.create(null);O.register$$module$build$src$core$extensions("parent_tooltip_when_inline",function(){let e=this.tooltip;this.setTooltip((function(){let t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||e}).bind(this))});var uR={TEST_ONLY:{allExtensions:uO}};uR.apply=rf,uR.buildTooltipForDropdown=O.buildTooltipForDropdown$$module$build$src$core$extensions,uR.buildTooltipWithFieldText=O.buildTooltipWithFieldText$$module$build$src$core$extensions,uR.isRegistered=rp,uR.register=O.register$$module$build$src$core$extensions,uR.registerMixin=O.registerMixin$$module$build$src$core$extensions,uR.registerMutator=O.registerMutator$$module$build$src$core$extensions,uR.runAfterPageLoad=function(e){if("object"!=typeof document)throw Error("runAfterPageLoad() requires browser document.");if("complete"===document.readyState)e();else{let t=setInterval(function(){"complete"===document.readyState&&(clearInterval(t),e())},10)}},uR.unregister=function(e){rp(e)?delete uO[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},(dX=d2||(d2={}))[dX.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",dX[dX.MAC_ENTER=3]="MAC_ENTER",dX[dX.BACKSPACE=8]="BACKSPACE",dX[dX.TAB=9]="TAB",dX[dX.NUM_CENTER=12]="NUM_CENTER",dX[dX.ENTER=13]="ENTER",dX[dX.SHIFT=16]="SHIFT",dX[dX.CTRL=17]="CTRL",dX[dX.ALT=18]="ALT",dX[dX.PAUSE=19]="PAUSE",dX[dX.CAPS_LOCK=20]="CAPS_LOCK",dX[dX.ESC=27]="ESC",dX[dX.SPACE=32]="SPACE",dX[dX.PAGE_UP=33]="PAGE_UP",dX[dX.PAGE_DOWN=34]="PAGE_DOWN",dX[dX.END=35]="END",dX[dX.HOME=36]="HOME",dX[dX.LEFT=37]="LEFT",dX[dX.UP=38]="UP",dX[dX.RIGHT=39]="RIGHT",dX[dX.DOWN=40]="DOWN",dX[dX.PLUS_SIGN=43]="PLUS_SIGN",dX[dX.PRINT_SCREEN=44]="PRINT_SCREEN",dX[dX.INSERT=45]="INSERT",dX[dX.DELETE=46]="DELETE",dX[dX.ZERO=48]="ZERO",dX[dX.ONE=49]="ONE",dX[dX.TWO=50]="TWO",dX[dX.THREE=51]="THREE",dX[dX.FOUR=52]="FOUR",dX[dX.FIVE=53]="FIVE",dX[dX.SIX=54]="SIX",dX[dX.SEVEN=55]="SEVEN",dX[dX.EIGHT=56]="EIGHT",dX[dX.NINE=57]="NINE",dX[dX.FF_SEMICOLON=59]="FF_SEMICOLON",dX[dX.FF_EQUALS=61]="FF_EQUALS",dX[dX.FF_DASH=173]="FF_DASH",dX[dX.FF_HASH=163]="FF_HASH",dX[dX.QUESTION_MARK=63]="QUESTION_MARK",dX[dX.AT_SIGN=64]="AT_SIGN",dX[dX.A=65]="A",dX[dX.B=66]="B",dX[dX.C=67]="C",dX[dX.D=68]="D",dX[dX.E=69]="E",dX[dX.F=70]="F",dX[dX.G=71]="G",dX[dX.H=72]="H",dX[dX.I=73]="I",dX[dX.J=74]="J",dX[dX.K=75]="K",dX[dX.L=76]="L",dX[dX.M=77]="M",dX[dX.N=78]="N",dX[dX.O=79]="O",dX[dX.P=80]="P",dX[dX.Q=81]="Q",dX[dX.R=82]="R",dX[dX.S=83]="S",dX[dX.T=84]="T",dX[dX.U=85]="U",dX[dX.V=86]="V",dX[dX.W=87]="W",dX[dX.X=88]="X",dX[dX.Y=89]="Y",dX[dX.Z=90]="Z",dX[dX.META=91]="META",dX[dX.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",dX[dX.CONTEXT_MENU=93]="CONTEXT_MENU",dX[dX.NUM_ZERO=96]="NUM_ZERO",dX[dX.NUM_ONE=97]="NUM_ONE",dX[dX.NUM_TWO=98]="NUM_TWO",dX[dX.NUM_THREE=99]="NUM_THREE",dX[dX.NUM_FOUR=100]="NUM_FOUR",dX[dX.NUM_FIVE=101]="NUM_FIVE",dX[dX.NUM_SIX=102]="NUM_SIX",dX[dX.NUM_SEVEN=103]="NUM_SEVEN",dX[dX.NUM_EIGHT=104]="NUM_EIGHT",dX[dX.NUM_NINE=105]="NUM_NINE",dX[dX.NUM_MULTIPLY=106]="NUM_MULTIPLY",dX[dX.NUM_PLUS=107]="NUM_PLUS",dX[dX.NUM_MINUS=109]="NUM_MINUS",dX[dX.NUM_PERIOD=110]="NUM_PERIOD",dX[dX.NUM_DIVISION=111]="NUM_DIVISION",dX[dX.F1=112]="F1",dX[dX.F2=113]="F2",dX[dX.F3=114]="F3",dX[dX.F4=115]="F4",dX[dX.F5=116]="F5",dX[dX.F6=117]="F6",dX[dX.F7=118]="F7",dX[dX.F8=119]="F8",dX[dX.F9=120]="F9",dX[dX.F10=121]="F10",dX[dX.F11=122]="F11",dX[dX.F12=123]="F12",dX[dX.NUMLOCK=144]="NUMLOCK",dX[dX.SCROLL_LOCK=145]="SCROLL_LOCK",dX[dX.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",dX[dX.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",dX[dX.SEMICOLON=186]="SEMICOLON",dX[dX.DASH=189]="DASH",dX[dX.EQUALS=187]="EQUALS",dX[dX.COMMA=188]="COMMA",dX[dX.PERIOD=190]="PERIOD",dX[dX.SLASH=191]="SLASH",dX[dX.APOSTROPHE=192]="APOSTROPHE",dX[dX.TILDE=192]="TILDE",dX[dX.SINGLE_QUOTE=222]="SINGLE_QUOTE",dX[dX.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",dX[dX.BACKSLASH=220]="BACKSLASH",dX[dX.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",dX[dX.WIN_KEY=224]="WIN_KEY",dX[dX.MAC_FF_META=224]="MAC_FF_META",dX[dX.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",dX[dX.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",dX[dX.WIN_IME=229]="WIN_IME",dX[dX.VK_NONAME=252]="VK_NONAME",dX[dX.PHANTOM=255]="PHANTOM";var ux={};ux.arc=rR,ux.curve=rC,ux.line=rk,ux.lineOnAxis=rO,ux.lineTo=rw,ux.moveBy=rS,ux.moveTo=rI,ux.point=rv;var u$={};u$.Coordinate=sA,u$.KeyCodes=d2,u$.Rect=sH,u$.Size=sV,u$.Svg=sU,u$.aria=l_,u$.array=sh,u$.browserEvents=sd,u$.colour=aP,u$.deprecation=P,u$.dom=sF,u$.extensions=uR,u$.idGenerator=H,u$.math=l1,u$.object=uh,u$.parsing=aB,u$.string=am,u$.style=sj,u$.svgMath=sX,u$.svgPaths=ux,u$.toolbox=s9,u$.userAgent={ANDROID:sw,GECKO:sS,IPAD:sk,IPHONE:sO,JavaFx:sl,MAC:sa,MOBILE:sx,raw:sv},u$.xml=s2;var uA=class extends uS{constructor(e,t,n){super(e,t,n),this.workspace=e,this.anchor=t,this.ownerRect=n,this.resizePointerMoveListener=this.resizePointerUpListener=null,this.textChangeListeners=[],this.sizeChangeListeners=[],this.text="",this.DEFAULT_SIZE=new sV(160+uS.DOUBLE_BORDER,80+uS.DOUBLE_BORDER),this.MIN_SIZE=new sV(45+uS.DOUBLE_BORDER,20+uS.DOUBLE_BORDER),this.editable=!0,e3(this.svgRoot,"blocklyTextInputBubble"),({inputRoot:this.inputRoot,textArea:this.textArea}=this.createEditor(this.contentContainer)),this.resizeGroup=this.createResizeHandle(this.svgRoot,e),this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.text}setText(e){this.text=e,this.textArea.value=e,this.onTextChange()}setEditable(e){(this.editable=e)?this.textArea.removeAttribute("readonly"):this.textArea.setAttribute("readonly","")}isEditable(){return this.editable}addTextChangeListener(e){this.textChangeListeners.push(e)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}createEditor(e){e=e5(sU.FOREIGNOBJECT,{x:uS.BORDER_WIDTH,y:uS.BORDER_WIDTH},e);let t=document.createElementNS(sM,"body");t.setAttribute("xmlns",sM),t.className="blocklyMinimalBody";let n=document.createElementNS(sM,"textarea");return n.className="blocklyTextarea blocklyText",n.setAttribute("dir",this.workspace.RTL?"RTL":"LTR"),t.appendChild(n),e.appendChild(t),this.bindTextAreaEvents(n),setTimeout(()=>{n.focus()},0),{inputRoot:e,textArea:n}}bindTextAreaEvents(e){eX(e,"wheel",this,e=>{e.stopPropagation()}),eX(e,"focus",this,this.onStartEdit,!0),eX(e,"change",this,this.onTextChange)}createResizeHandle(e,t){return eX(e=e5(sU.IMAGE,{class:"blocklyResizeHandle",href:`${t.options.pathToMedia}resize-handle.svg`},e),"pointerdown",this,this.onResizePointerDown),e}setSize(e,t=!1){e.width=Math.max(e.width,this.MIN_SIZE.width),e.height=Math.max(e.height,this.MIN_SIZE.height);let n=e.width-uS.DOUBLE_BORDER,o=e.height-uS.DOUBLE_BORDER;this.inputRoot.setAttribute("width",`${n}`),this.inputRoot.setAttribute("height",`${o}`),this.resizeGroup.setAttribute("y",`${o}`),this.workspace.RTL?this.resizeGroup.setAttribute("x",`${-uS.DOUBLE_BORDER}`):this.resizeGroup.setAttribute("x",`${n}`),super.setSize(e,t),this.onSizeChange()}getSize(){return super.getSize()}onResizePointerDown(e){this.bringToFront(),eZ(e)||(oj(this.workspace,e,new sA(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=eX(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=eX(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation()}onResizePointerUp(e){eG(),this.resizePointerUpListener&&(eK(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(eK(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(e){e=oW(this.workspace,e),this.setSize(new sV(this.workspace.RTL?-e.x:e.x,e.y),!1),this.onSizeChange()}onStartEdit(){this.bringToFront()&&this.textArea.focus()}onTextChange(){for(let e of(this.text=this.textArea.value,this.textChangeListeners))e()}onSizeChange(){for(let e of this.sizeChangeListeners)e()}};e1("\n.blocklyTextInputBubble .blocklyTextarea {\n  background-color: var(--commentFillColour);\n  border: 0;\n  box-sizing: border-box;\n  display: block;\n  outline: 0;\n  padding: 5px;\n  resize: none;\n  width: 100%;\n  height: 100%;\n}\n");var uN={};uN.register=rx,uN.unregister=function(e){Q(A.ICON,e)};var uM=class extends uk{constructor(e){super(e),this.sourceBlock=e,this.textInputBubble=null,this.text="",this.bubbleSize=new sV(160,80),this.bubbleVisiblity=!1}getType(){return uM.TYPE}initView(e){this.svgRoot||(super.initView(e),e5(sU.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},this.svgRoot),e5(sU.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},this.svgRoot),e5(sU.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},this.svgRoot),e3(this.svgRoot,"blockly-icon-comment"))}dispose(){let e;super.dispose(),null==(e=this.textInputBubble)||e.dispose()}getWeight(){return uM.WEIGHT}getSize(){return new sV(17,17)}applyColour(){let e;super.applyColour();let t=this.sourceBlock.getColour();null==(e=this.textInputBubble)||e.setColour(t)}updateEditable(){let e=this,t=()=>super.updateEditable;return iY.asyncExecutePromiseGeneratorFunction(function*(){t().call(e),e.bubbleIsVisible()&&(yield e.setBubbleVisible(!1),yield e.setBubbleVisible(!0))})}onLocationChange(e){let t;super.onLocationChange(e),e=this.getAnchorLocation(),null==(t=this.textInputBubble)||t.setAnchorLocation(e)}setText(e){let t,n=this.text;eb(new(ew(iK.BLOCK_CHANGE))(this.sourceBlock,"comment",null,n,e)),this.text=e,null==(t=this.textInputBubble)||t.setText(this.text)}getText(){return this.text}setBubbleSize(e){let t;this.bubbleSize=e,null==(t=this.textInputBubble)||t.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}saveState(){return this.text?{text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width}:null}loadState(e){let t,n,o,r;this.text=null!=(t=e.text)?t:"",this.bubbleSize=new sV(null!=(n=e.width)?n:160,null!=(o=e.height)?o:80),this.bubbleVisiblity=null!=(r=e.pinned)&&r,this.setBubbleVisible(this.bubbleVisiblity)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}onTextChange(){if(this.textInputBubble){var e=this.textInputBubble.getText();this.text!==e&&(eb(new(ew(iK.BLOCK_CHANGE))(this.sourceBlock,"comment",null,this.text,e)),this.text=e)}}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(e){let t=this;return iY.asyncExecutePromiseGeneratorFunction(function*(){t.bubbleVisiblity!==e&&(t.bubbleVisiblity=e,yield tV(),!t.sourceBlock.rendered||t.sourceBlock.isInFlyout||t.sourceBlock.isInsertionMarker()||(e?(t.sourceBlock.isEditable()?t.showEditableBubble():t.showNonEditableBubble(),t.applyColour()):t.hideBubble(),eb(new(ew(iK.BUBBLE_OPEN))(t.sourceBlock,e,"comment"))))})}showEditableBubble(){let e,t;this.createBubble(),null==(e=this.textInputBubble)||e.addTextChangeListener(()=>this.onTextChange()),null==(t=this.textInputBubble)||t.addSizeChangeListener(()=>this.onSizeChange())}showNonEditableBubble(){let e;this.createBubble(),null==(e=this.textInputBubble)||e.setEditable(!1)}createBubble(){this.textInputBubble=new uA(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.textInputBubble.setText(this.getText()),this.textInputBubble.setSize(this.bubbleSize,!0)}hideBubble(){let e;null==(e=this.textInputBubble)||e.dispose(),this.textInputBubble=null}getAnchorLocation(){return sA.sum(this.workspaceLocation,new sA(8.5,8.5))}getBubbleOwnerRect(){return this.sourceBlock.getBoundingRectangleWithoutChildren()}};uM.TYPE=lq.COMMENT,uM.WEIGHT=3,rx(uM.TYPE,uM);var uL=class extends Error{constructor(e){super(`Tried to append an icon of type ${e.getType()} when an icon of that type already exists on the block. Use getIcon to access the existing icon.`),this.icon=e}},uD={};uD.DuplicateIconType=uL;var uP=class extends uS{constructor(e,t,n,o){super(t,n,o),this.text=e,this.workspace=t,this.anchor=n,this.ownerRect=o,this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}getText(){return this.text}setText(e){this.text=e,e8(this.paragraph),this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}stringToSvg(e,t){return t=this.createParagraph(t),e=this.createTextFragments(t,e),this.workspace.RTL&&this.rightAlignTextFragments(t.getBBox().width,e),t}createParagraph(e){return e5(sU.G,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",transform:`translate(0,${uS.BORDER_WIDTH})`,style:`direction: ${this.workspace.RTL?"rtl":"ltr"}`},e)}createTextFragments(e,t){let n=1;return t.split("\n").map(t=>{let o=e5(sU.TEXT,{y:`${n}em`,x:uS.BORDER_WIDTH},e);return t=document.createTextNode(t),o.appendChild(t),n+=1,o})}rightAlignTextFragments(e,t){for(let n of t)n.setAttribute("text-anchor","start"),n.setAttribute("x",`${e+uS.BORDER_WIDTH}`)}updateBubbleSize(){let e=this.paragraph.getBBox();this.setSize(new sV(e.width+2*uS.BORDER_WIDTH,e.height+2*uS.BORDER_WIDTH),!0)}},uB=class extends uk{constructor(e){super(e),this.sourceBlock=e,this.textMap=new Map,this.textBubble=null}getType(){return uB.TYPE}initView(e){this.svgRoot||(super.initView(e),e5(sU.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},this.svgRoot),e5(sU.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},this.svgRoot),e5(sU.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},this.svgRoot),e3(this.svgRoot,"blockly-icon-warning"))}dispose(){let e;super.dispose(),null==(e=this.textBubble)||e.dispose()}getWeight(){return uB.WEIGHT}getSize(){return new sV(17,17)}applyColour(){let e;super.applyColour(),null==(e=this.textBubble)||e.setColour(this.sourceBlock.getColour())}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(e){let t;super.onLocationChange(e),null==(t=this.textBubble)||t.setAnchorLocation(this.getAnchorLocation())}addMessage(e,t){let n;return this.textMap.get(t)===e||(e?this.textMap.set(t,e):this.textMap.delete(t),null==(n=this.textBubble)||n.setText(this.getText())),this}getText(){return[...this.textMap.values()].join("\n")}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(e){let t=this;return iY.asyncExecutePromiseGeneratorFunction(function*(){if(t.bubbleIsVisible()!==e){if(yield tV(),e)t.textBubble=new uP(t.getText(),t.sourceBlock.workspace,t.getAnchorLocation(),t.getBubbleOwnerRect()),t.applyColour();else{let e;null==(e=t.textBubble)||e.dispose(),t.textBubble=null}eb(new(ew(iK.BUBBLE_OPEN))(t.sourceBlock,e,"warning"))}})}getAnchorLocation(){return sA.sum(this.workspaceLocation,new sA(8.5,8.5))}getBubbleOwnerRect(){let e=this.sourceBlock.getSvgRoot().getBBox();return new sH(e.y,e.y+e.height,e.x,e.x+e.width)}};uB.TYPE=lq.WARNING,uB.WEIGHT=2;var uF={};uF.CommentIcon=uM,uF.Icon=uk,uF.IconType=lq,uF.MutatorIcon=O.MutatorIcon$$module$build$src$core$icons$mutator_icon,uF.WarningIcon=uB,uF.exceptions=uD,uF.registry=uN,O.Names$$module$build$src$core$names=class{constructor(e,t){this.db=new Map,this.dbReverse=new Set,this.variableMap=null,this.variablePrefix=t||"",this.reservedWords=new Set(e?e.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap=null}setVariableMap(e){this.variableMap=e}getNameForUserVariable(e){return this.variableMap?(e=this.variableMap.getVariableById(e))?e.name:null:(console.warn("Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),null)}populateVariables(e){e=O.allUsedVarModels$$module$build$src$core$variables(e);for(let t=0;t<e.length;t++)this.getName(e[t].getId(),O.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(e,t){let n=e;t===O.NameType$$module$build$src$core$names.VARIABLE&&(e=this.getNameForUserVariable(e))&&(n=e),e=n.toLowerCase();let o=t===O.NameType$$module$build$src$core$names.VARIABLE||t===O.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"";this.db.has(t)||this.db.set(t,new Map);let r=this.db.get(t);return r.has(e)?o+r.get(e):(t=this.getDistinctName(n,t),r.set(e,t.substr(o.length)),t)}getUserNames(e){let t;return(e=null==(t=this.db.get(e))?void 0:t.keys())?Array.from(e):[]}getDistinctName(e,t){let n;e=this.safeName(e);let o=null,r,i;for(;this.dbReverse.has(e+(null!=(r=o)?r:""))||this.reservedWords.has(e+(null!=(i=o)?i:""));)o=o?o+1:2;return e+=null!=(n=o)?n:"",this.dbReverse.add(e),(t===O.NameType$$module$build$src$core$names.VARIABLE||t===O.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"")+e}safeName(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),"0123456789".includes(e[0])&&(e="my_"+e)):e=O.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed",e}static equals(e,t){return e.toLowerCase()===t.toLowerCase()}},(dY=(dY=O.Names$$module$build$src$core$names||(O.Names$$module$build$src$core$names={})).NameType||(dY.NameType={})).DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",dY.VARIABLE="VARIABLE",dY.PROCEDURE="PROCEDURE",O.NameType$$module$build$src$core$names=O.Names$$module$build$src$core$names.NameType,O.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=O.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,({NameType:O.NameType$$module$build$src$core$names}).Names=O.Names$$module$build$src$core$names;var uU=class extends Map{constructor(){super()}set(e,t){return this.get(e)===t||(super.set(e,t),rA(t)&&t.startPublishing()),this}delete(e){let t=this.get(e);return(e=super.delete(e))&&rA(t)&&t.stopPublishing(),e}clear(){if(this.size)for(let e of this.keys())this.delete(e)}add(e){return this.set(e.getId(),e)}getProcedures(){return[...this.values()]}};d5="PROCEDURE",O.DEFAULT_ARG$$module$build$src$core$procedures="x",(d3={CATEGORY_NAME:d5,DEFAULT_ARG:O.DEFAULT_ARG$$module$build$src$core$procedures}).ObservableProcedureMap=uU,d3.allProcedures=rN,d3.findLegalName=O.findLegalName$$module$build$src$core$procedures,d3.flyoutCategory=rP,d3.getCallers=rH,d3.getDefinition=O.getDefinition$$module$build$src$core$procedures,d3.isNameUsed=rD,d3.isProcedureBlock=r$,d3.mutateCallers=O.mutateCallers$$module$build$src$core$procedures,d3.mutatorOpenListener=rF,d3.rename=O.rename$$module$build$src$core$procedures;var uH=new class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=0x1000000}getType(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}isField(e){return e.type&this.FIELD}isHat(e){return e.type&this.HAT}isIcon(e){return e.type&this.ICON}isSpacer(e){return e.type&this.SPACER}isInRowSpacer(e){return e.type&this.IN_ROW_SPACER}isInput(e){return e.type&this.INPUT}isExternalInput(e){return e.type&this.EXTERNAL_VALUE_INPUT}isInlineInput(e){return e.type&this.INLINE_INPUT}isStatementInput(e){return e.type&this.STATEMENT_INPUT}isPreviousConnection(e){return e.type&this.PREVIOUS_CONNECTION}isNextConnection(e){return e.type&this.NEXT_CONNECTION}isPreviousOrNextConnection(e){return e.type&(this.PREVIOUS_CONNECTION|this.NEXT_CONNECTION)}isLeftRoundedCorner(e){return e.type&this.LEFT_ROUND_CORNER}isRightRoundedCorner(e){return e.type&this.RIGHT_ROUND_CORNER}isLeftSquareCorner(e){return e.type&this.LEFT_SQUARE_CORNER}isRightSquareCorner(e){return e.type&this.RIGHT_SQUARE_CORNER}isCorner(e){return e.type&this.CORNER}isJaggedEdge(e){return e.type&this.JAGGED_EDGE}isRow(e){return e.type&this.ROW}isBetweenRowSpacer(e){return e.type&this.BETWEEN_ROW_SPACER}isTopRow(e){return e.type&this.TOP_ROW}isBottomRow(e){return e.type&this.BOTTOM_ROW}isTopOrBottomRow(e){return e.type&(this.TOP_ROW|this.BOTTOM_ROW)}isInputRow(e){return e.type&this.INPUT_ROW}},uV=class{constructor(e){this.centerline=this.xPos=this.height=this.width=0,this.constants_=e,this.type=uH.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},uG=class{constructor(e){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=e,this.type=uH.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let e=this.elements.length-1;0<=e;e--){let t=this.elements[e];if(uH.isInput(t))return t}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let e=0;e<this.elements.length;e++){let t=this.elements[e];if(uH.isSpacer(t))return t}return null}getLastSpacer(){for(let e=this.elements.length-1;0<=e;e--){let t=this.elements[e];if(uH.isSpacer(t))return t}return null}},uj=class extends uG{constructor(e){super(e),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=uH.BOTTOM_ROW}hasLeftSquareCorner(e){return!!e.outputConnection||!!e.getNextBlock()}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,n=0;for(let o=0;o<this.elements.length;o++){let r=this.elements[o];t+=r.width,uH.isSpacer(r)||(uH.isNextConnection(r)?n=Math.max(n,r.height):e=Math.max(e,r.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+n,this.descenderHeight=n,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},uW=class extends uV{constructor(e,t){super(e),this.connectionModel=t,this.type|=uH.CONNECTION,this.shape=this.constants_.shapeFor(t),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.highlighted=t.isHighlighted()}},uz=class extends uW{constructor(e,t){super(e,t.connection),this.input=t,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=uH.INPUT,this.align=t.align,(this.connectedBlock=t.connection&&t.connection.targetBlock()?t.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},uX=class extends uz{constructor(e,t){super(e,t),this.height=0,this.type|=uH.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},uY=class extends uV{constructor(e,t,n){super(e),this.field=t,this.parentInput=n,this.isEditable=t.EDITABLE,this.flipRtl=t.getFlipRtl(),this.type|=uH.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width}},uK=class extends uV{constructor(e){super(e),this.type|=uH.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},uJ=class extends uV{constructor(e,t){super(e),this.icon=t,this.flipRtl=!1,this.type|=uH.ICON,e=t.getSize(),this.height=e.height,this.width=e.width}},uZ=class extends uV{constructor(e,t){super(e),this.type=this.type|uH.SPACER|uH.IN_ROW_SPACER,this.width=t,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},uq=class extends uz{constructor(e,t){super(e,t),this.type|=uH.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},uQ=class extends uz{constructor(e,t){super(e,t),this.type|=uH.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},u0=class extends uG{constructor(e){super(e),this.connectedBlockWidths=0,this.type|=uH.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let e=0;for(let t=0;t<this.elements.length;t++){let n=this.elements[t];this.width+=n.width,uH.isInput(n)&&n instanceof uz&&(uH.isStatementInput(n)&&n instanceof uQ?e+=n.connectedBlockWidth:uH.isExternalInput(n)&&n instanceof uX&&0!==n.connectedBlockWidth&&(e+=n.connectedBlockWidth-n.connectionWidth)),uH.isSpacer(n)||(this.height=Math.max(this.height,n.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},u1=class extends uV{constructor(e){super(e),this.type|=uH.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},u2=class extends uW{constructor(e,t){super(e,t),this.type|=uH.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},u5=class extends uW{constructor(e,t){super(e,t),this.connectionOffsetX=0,this.type|=uH.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},u3=class extends uW{constructor(e,t){super(e,t),this.type|=uH.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},u4=class extends uV{constructor(e,t){super(e),this.type=(t&&"left"!==t?uH.RIGHT_ROUND_CORNER:uH.LEFT_ROUND_CORNER)|uH.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},u6=class extends uG{constructor(e,t,n){super(e),this.height=t,this.width=n,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type=this.type|uH.SPACER|uH.BETWEEN_ROW_SPACER,this.elements=[new uZ(this.constants_,n)]}measure(){}},u8=class extends uV{constructor(e,t){super(e),this.type=(t&&"left"!==t?uH.RIGHT_SQUARE_CORNER:uH.LEFT_SQUARE_CORNER)|uH.CORNER,this.width=this.height=this.constants_.NO_PADDING}},u9=class extends uG{constructor(e){super(e),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=uH.TOP_ROW}hasLeftSquareCorner(e){let t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,n=e.getPreviousBlock();return!!e.outputConnection||t||!!n&&n.getNextBlock()===e}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,n=0;for(let o=0;o<this.elements.length;o++){let r=this.elements[o];t+=r.width,uH.isSpacer(r)||(uH.isHat(r)&&r instanceof uK?n=Math.max(n,r.ascenderHeight):e=Math.max(e,r.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+n,this.capline=this.ascenderHeight=n,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},u7=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs=null,this.embossFilterId="",this.embossFilter=null,this.disabledPatternId="",this.disabledPattern=null,this.debugFilterId="",this.cssNode=this.debugFilter=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=rS(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(e){this.blockStyles=Object.create(null);let t=e.blockStyles;for(let e in t)this.blockStyles[e]=this.validatedBlockStyle_(t[e]);this.setDynamicProperties_(e)}setDynamicProperties_(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=void 0!==e.startHats?e.startHats:this.ADD_START_HATS}setFontConstants_(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=ti("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}setComponentConstants_(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(e){let t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}}getBlockStyle(e){return this.blockStyles[e||""]||(e&&e.startsWith("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(e){return this.validatedBlockStyle_({colourPrimary:e})}validatedBlockStyle_(e){let t={};return e&&Object.assign(t,e),e=ov(t.colourPrimary||"#000"),t.colourPrimary=e.hex,t.colourSecondary=t.colourSecondary?ov(t.colourSecondary).hex:this.generateSecondaryColour_(t.colourPrimary),t.colourTertiary=t.colourTertiary?ov(t.colourTertiary).hex:this.generateTertiaryColour_(t.colourPrimary),t.hat=t.hat||"",t}generateSecondaryColour_(e){return o_("#fff",e,.6)||e}generateTertiaryColour_(e){return o_("#fff",e,.3)||e}dispose(){this.embossFilter&&e8(this.embossFilter),this.disabledPattern&&e8(this.disabledPattern),this.debugFilter&&e8(this.debugFilter),this.cssNode=null}makeJaggedTeeth(){let e=this.JAGGED_TEETH_HEIGHT,t=this.JAGGED_TEETH_WIDTH,n=rk([rv(t,e/4),rv(-(2*t),e/2),rv(t,e/4)]);return{height:e,width:t,path:n}}makeStartHat(){let e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,n=rC("c",[rv(30,-e),rv(70,-e),rv(t,0)]);return{height:e,width:t,path:n}}makePuzzleTab(){function e(e){let o=-(e=e?-1:1);var r=n/2;let i=r+2.5,s=r+.5,l=rv(-t,e*r);return r=rv(t,e*r),rC("c",[rv(0,e*i),rv(-t,o*s),l])+rC("s",[rv(t,2.5*o),r])}let t=this.TAB_WIDTH,n=this.TAB_HEIGHT,o=e(!0),r=e(!1);return{type:this.SHAPES.PUZZLE,width:t,height:n,pathDown:r,pathUp:o}}makeNotch(){function e(e){return rk([rv(e*o,n),rv(3*e,0),rv(e*o,-n)])}let t=this.NOTCH_WIDTH,n=this.NOTCH_HEIGHT,o=(t-3)/2,r=e(1),i=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:n,pathLeft:r,pathRight:i}}makeInsideCorners(){let e=this.CORNER_RADIUS,t=rR("a","0 0,0",e,rv(-e,e)),n=rR("a","0 0,0",e,rv(e,e));return{width:e,height:e,pathTop:t,pathBottom:n}}makeOutsideCorners(){let e=this.CORNER_RADIUS,t=rS(0,e)+rR("a","0 0,1",e,rv(e,-e)),n=rR("a","0 0,1",e,rv(e,e)),o=rR("a","0 0,1",e,rv(-e,-e));return{topLeft:t,topRight:n,bottomRight:rR("a","0 0,1",e,rv(-e,e)),bottomLeft:o,rightHeight:e}}shapeFor(e){switch(e.type){case uv.INPUT_VALUE:case uv.OUTPUT_VALUE:return this.PUZZLE_TAB;case uv.PREVIOUS_STATEMENT:case uv.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(e,t,n){this.injectCSS_(t,n),this.defs=e5(sU.DEFS,{},e),e=e5(sU.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs),e5(sU.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),t=e5(sU.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),e5(sU.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},t),e5(sU.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),e5(sU.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter=e,e=e5(sU.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs),e5(sU.RECT,{width:10,height:10,fill:"#aaa"},e),e5(sU.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern=e,this.createDebugFilter()}createDebugFilter(){if(!this.debugFilter){let e=e5(sU.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs),t=e5(sU.FECOMPONENTTRANSFER,{result:"outBlur"},e);e5(sU.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),e5(sU.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),e5(sU.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter=e}}injectCSS_(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode=document.getElementById(e);let n=t.join("\n");this.cssNode?this.cssNode.firstChild.textContent=n:((t=document.createElement("style")).id=e,e=document.createTextNode(n),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode=t)}getCSS_(e){return[`${e} .blocklyText, `,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect,`,`${e} .blocklyEditableText>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text {`,"fill: #000;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #000;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #000;","}",`${e} .blocklyEditableText:not(.editing):hover>rect {`,"stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",`${e} .blocklySelected>.blocklyPath {`,"stroke: #fc3;","stroke-width: 3px;","}",`${e} .blocklyHighlightedConnectionPath {`,"stroke: #fc3;","}",`${e} .blocklyReplaceable .blocklyPath {`,"fill-opacity: .5;","}",`${e} .blocklyReplaceable .blocklyPathLight,`,`${e} .blocklyReplaceable .blocklyPathDark {`,"display: none;","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},ce={};ce.ConstantProvider=u7,ce.isDynamicShape=rG,ce.isNotch=rW,ce.isPuzzleTab=rj;var ct=class{constructor(e,t){this.inlinePath_=this.outlinePath_="",this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.constants_=t.getRenderer().getConstants()}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),this.recordSizeOnBlock_()}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren,this.block_.childlessWidth=this.info_.width}drawOutline_(){this.drawTop_();for(let e=1;e<this.info_.rows.length-1;e++){let t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()}drawTop_(){let e=this.info_.topRow,t=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=rS(e.xPos,this.info_.startY);for(let e=0,n;n=t[e];e++)uH.isLeftRoundedCorner(n)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:uH.isRightRoundedCorner(n)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:uH.isPreviousConnection(n)&&n instanceof uW?this.outlinePath_+=n.shape.pathLeft:uH.isHat(n)?this.outlinePath_+=this.constants_.START_HAT.path:uH.isSpacer(n)&&(this.outlinePath_+=rO("h",n.width));this.outlinePath_+=rO("v",e.height)}drawJaggedEdge_(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+rO("v",e.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(e){let t=e.getLastInput();this.positionExternalValueConnection_(e);let n=rG(t.shape)?t.shape.pathDown(t.height):t.shape.pathDown;this.outlinePath_+=rO("H",t.xPos+t.width)+n+rO("v",e.height-t.connectionHeight)}drawStatementInput_(e){var t=e.getLastInput();if(t){var n=t.xPos+t.notchOffset+t.shape.width;t=t.shape.pathRight+rO("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var o=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=rO("H",n)+t+rO("v",o)+this.constants_.INSIDE_CORNERS.pathBottom+rO("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}drawRightSideRow_(e){this.outlinePath_+=rO("V",e.yPos+e.height)}drawBottom_(){let e=this.info_.bottomRow,t=e.elements;this.positionNextConnection_();let n=0,o="";for(let r=t.length-1,i;i=t[r];r--)uH.isNextConnection(i)&&i instanceof uW?o+=i.shape.pathRight:uH.isLeftSquareCorner(i)?o+=rO("H",e.xPos):uH.isLeftRoundedCorner(i)?o+=this.constants_.OUTSIDE_CORNERS.bottomLeft:uH.isRightRoundedCorner(i)?(o+=this.constants_.OUTSIDE_CORNERS.bottomRight,n=this.constants_.OUTSIDE_CORNERS.rightHeight):uH.isSpacer(i)&&(o+=rO("h",-1*i.width));this.outlinePath_+=rO("V",e.baseline-n),this.outlinePath_+=o}drawLeft_(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){let t=e.connectionOffsetY+e.height;e=rG(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=rO("V",t)+e}this.outlinePath_+="z"}drawInternals_(){for(let e=0,t;t=this.info_.rows[e];e++)for(let e=0,n;n=t.elements[e];e++)uH.isInlineInput(n)?this.drawInlineInput_(n):(uH.isIcon(n)||uH.isField(n))&&this.layoutField_(n)}layoutField_(e){let t=e.centerline-e.height/2,n=e.xPos;var o="";this.info_.RTL&&(n=-(n+e.width),e.flipRtl&&(n+=e.width,o="scale(-1 1)")),uH.isIcon(e)?((o=e.icon).setOffsetInBlock(new sA(n,t)),this.info_.isInsertionMarker&&o.hideForInsertionMarker()):((e=e.field.getSvgRoot()).setAttribute("transform","translate("+n+","+t+")"+o),this.info_.isInsertionMarker&&e.setAttribute("display","none"))}drawInlineInput_(e){let t=e.width,n=e.height,o=e.connectionOffsetY,r=e.connectionHeight+o;this.inlinePath_+=rI(e.xPos+e.connectionWidth,e.centerline-n/2)+rO("v",o)+e.shape.pathDown+rO("v",n-r)+rO("h",t-e.connectionWidth)+rO("v",-n)+"z",this.positionInlineInputConnection_(e)}positionInlineInputConnection_(e){let t=e.centerline-e.height/2;if(e.connectionModel){let n=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY)}}positionStatementInputConnection_(e){let t=e.getLastInput();if(null==t?0:t.connectionModel){let n=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}}positionExternalValueConnection_(e){let t=e.getLastInput();if(t&&t.connectionModel){let n=e.xPos+e.width;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}}positionPreviousConnection_(){let e=this.info_.topRow;if(e.connection){let t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}}positionNextConnection_(){let e=this.info_.bottomRow;if(e.connection){let t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-n:n,e.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){let e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}updateConnectionHighlights(){for(let e of this.info_.rows)for(let t of e.elements)if(t instanceof uW)if(t.highlighted)this.drawConnectionHighlightPath(t);else{let e,n;null==(n=(e=this.block_.pathObject).removeConnectionHighlight)||n.call(e,t.connectionModel)}}drawConnectionHighlightPath(e){let t,n,o=e.connectionModel;e=o.type===uv.INPUT_VALUE||o.type===uv.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(e):this.getStatementConnectionHighlightPath(e);let r=o.getSourceBlock();null==(n=(t=r.pathObject).addConnectionHighlight)||n.call(t,o,e,o.getOffsetInBlock(),r.RTL)}getExpressionConnectionHighlightPath(e){let t="";return rG(e.shape)?t=e.shape.pathDown(e.height):rj(e.shape)&&(t=e.shape.pathDown),rS(0,-(e=this.constants_.TAB_OFFSET_FROM_TOP))+rO("v",e)+t+rO("v",e)}getStatementConnectionHighlightPath(e){if(!rW(e.shape))throw Error("Statement connections should have notch shapes");let t=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return rS(-t,0)+rO("h",t)+e.shape.pathLeft+rO("h",t)}};(dK=O.Align$$module$build$src$core$inputs$align||(O.Align$$module$build$src$core$inputs$align={}))[dK.LEFT=-1]="LEFT",dK[dK.CENTRE=0]="CENTRE",dK[dK.RIGHT=1]="RIGHT",O.Align$$module$build$src$core$inputs$align;var cn=class extends aF{constructor(e,t,n){super(aF.SKIP_SETUP),this.class=null,this.EDITABLE=!1,this.maxDisplayLength=1/0,e!==aF.SKIP_SETUP&&(n?this.configure_(n):this.class=t||null,this.setValue(e))}configure_(e){super.configure_(e),e.class&&(this.class=e.class)}initView(){this.createTextElement_(),this.class&&e3(this.getTextElement(),this.class)}doClassValidation_(e){return null==e?null:`${e}`}setClass(e){this.textElement_&&(this.class&&e6(this.textElement_,this.class),e&&e3(this.textElement_,e)),this.class=e}static fromJson(e){return new this(oE(e.text),void 0,e)}};rh("field_label",cn),cn.prototype.DEFAULT_VALUE="";var co=class{constructor(e,t){this.name=e,this.sourceBlock=t,this.fieldRow=[],this.align=O.Align$$module$build$src$core$inputs$align.LEFT,this.visible=!0,this.type=O.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM,this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this}insertFieldAt(e,t,n){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(t||""===t&&n)&&("string"==typeof t&&(t=O.fromJson$$module$build$src$core$field_registry({type:"field_label",text:t})),t.setSourceBlock(this.sourceBlock),this.sourceBlock.initialized&&this.initField(t),t.name=n,t.setVisible(this.isVisible()),t.prefixField&&(e=this.insertFieldAt(e,t.prefixField)),this.fieldRow.splice(e,0,t),e++,t.suffixField&&(e=this.insertFieldAt(e,t.suffixField)),this.sourceBlock.rendered&&this.sourceBlock.queueRender()),e}removeField(e,t){for(let t=0,n;n=this.fieldRow[t];t++)if(n.name===e)return n.dispose(),this.fieldRow.splice(t,1),this.sourceBlock.rendered&&this.sourceBlock.queueRender(),!0;if(t)return!1;throw Error('Field "'+e+'" not found.')}isVisible(){return this.visible}setVisible(e){let t=[];if(this.visible===e)return t;this.visible=e;for(let t=0,n;n=this.fieldRow[t];t++)n.setVisible(e);if(this.connection){var n=this.connection;e?t=n.startTrackingAll():n.stopTrackingAll(),(n=n.targetBlock())&&(n.getSvgRoot().style.display=e?"block":"none")}return t}markDirty(){for(let e=0,t;t=this.fieldRow[e];e++)t.markDirty()}setCheck(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}setAlign(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}setShadowDom(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){for(let e of this.fieldRow)e.init()}initModel(){for(let e of this.fieldRow)e.initModel()}initField(e){this.sourceBlock.rendered?e.init():e.initModel()}dispose(){for(let e=0,t;t=this.fieldRow[e];e++)t.dispose();this.connection&&this.connection.dispose()}makeConnection(e){return this.sourceBlock.makeConnection_(e)}},cr=class extends co{constructor(e,t){super(e,t),this.name=e,this.type=O.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},ci=class extends co{constructor(e,t){super(e,t),this.name=e,this.type=O.inputTypes$$module$build$src$core$inputs$input_types.END_ROW}},cs=class extends co{constructor(e,t){if(!e)throw Error("Statement inputs must have a non-empty name");super(e,t),this.name=e,this.type=O.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT,this.connection=this.makeConnection(uv.NEXT_STATEMENT)}};O.ValueInput$$module$build$src$core$inputs$value_input=class extends co{constructor(e,t){if(!e)throw Error("Value inputs must have a non-empty name");super(e,t),this.name=e,this.type=O.inputTypes$$module$build$src$core$inputs$input_types.VALUE,this.connection=this.makeConnection(uv.INPUT_VALUE)}},O.ValueInput$$module$build$src$core$inputs$value_input;var cl=class{constructor(e,t){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.startY=this.startX=0,this.renderer_=e,this.block_=t,this.constants_=this.renderer_.getConstants(),this.outputConnection=t.outputConnection?new u5(this.constants_,t.outputConnection):null,this.isInline=t.getInputsInline()&&!t.isCollapsed(),this.isCollapsed=t.isCollapsed(),this.isInsertionMarker=t.isInsertionMarker(),this.RTL=t.RTL,this.topRow=new u9(this.constants_),this.bottomRow=new uj(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let e=new u0(this.constants_);this.inputRows.push(e);var t=this.block_.getIcons();for(let n=0,o;o=t[n];n++){let t=new uJ(this.constants_,o);this.isCollapsed&&!o.isShownWhenCollapsed()||e.elements.push(t)}t=void 0;for(let n=0,o;o=this.block_.inputList[n];n++)if(o.isVisible()){this.shouldStartNewRow_(o,t)&&(this.rows.push(e),e=new u0(this.constants_),this.inputRows.push(e));for(let t=0,n;n=o.fieldRow[t];t++)e.elements.push(new uY(this.constants_,n,o));this.addInput_(o,e),t=o}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new u1(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var e=!!this.block_.previousConnection;let t=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e,n=this.topRow.hasLeftSquareCorner(this.block_)?u8:u4;this.topRow.elements.push(new n(this.constants_)),t?(e=new uK(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new u3(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0]instanceof cs&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,n=this.topRow.hasRightSquareCorner(this.block_)?u8:u4,this.topRow.elements.push(new n(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof cs?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new u8(this.constants_)):this.bottomRow.elements.push(new u4(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new u2(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new u8(this.constants_,"right")):this.bottomRow.elements.push(new u4(this.constants_,"right"))}addInput_(e,t){this.isInline&&e instanceof O.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new uq(this.constants_,e)),t.hasInlineInput=!0):e instanceof cs?(t.elements.push(new uQ(this.constants_,e)),t.hasStatement=!0):e instanceof O.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new uX(this.constants_,e)),t.hasExternalInput=!0):(e instanceof cr||e instanceof ci)&&(t.minHeight=Math.max(t.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),null===t.align&&(t.align=e.align)}shouldStartNewRow_(e,t){return!!t&&(t instanceof ci||e instanceof cs||t instanceof cs||(e instanceof O.ValueInput$$module$build$src$core$inputs$value_input||e instanceof cr||t instanceof O.ValueInput$$module$build$src$core$inputs$value_input)&&!this.isInline)}addElemSpacing_(){for(let e=0,t;t=this.rows[e];e++){let e=t.elements;if(t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new uZ(this.constants_,this.getInRowSpacing_(null,e[0]))),e.length){for(let n=0;n<e.length-1;n++){t.elements.push(e[n]);let o=this.getInRowSpacing_(e[n],e[n+1]);t.elements.push(new uZ(this.constants_,o))}t.elements.push(e[e.length-1]),t.endsWithElemSpacer()&&t.elements.push(new uZ(this.constants_,this.getInRowSpacing_(e[e.length-1],null)))}}}getInRowSpacing_(e,t){if(!e&&t&&uH.isStatementInput(t))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&uH.isInput(e)&&!t){if(uH.isExternalInput(e))return this.constants_.NO_PADDING;if(uH.isInlineInput(e))return this.constants_.LARGE_PADDING;if(uH.isStatementInput(e))return this.constants_.NO_PADDING}return e&&uH.isLeftSquareCorner(e)&&t&&(uH.isPreviousConnection(t)||uH.isNextConnection(t))?t.notchOffset:e&&uH.isLeftRoundedCorner(e)&&t&&(uH.isPreviousConnection(t)||uH.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}computeBounds_(){let e=0,t=0,n=0;for(let r=0,i;i=this.rows[r];r++){if(i.measure(),t=Math.max(t,i.width),i.hasStatement){let t,n;var o=i.getLastInput();e=Math.max(e,o=i.width-(null!=(n=null==(t=o)?void 0:t.width)?n:0))}n=Math.max(n,i.widthWithConnectedBlocks)}this.statementEdge=e,this.width=t;for(let e=0,t;t=this.rows[e];e++)t.hasStatement&&(t.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(t,n),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let t=0,n;n=this.rows[t];t++)if(n.hasStatement)this.alignStatementRow_(n);else{var e=n.width;0<(e=this.getDesiredRowWidth_(n)-e)&&this.addAlignmentPadding_(n,e),uH.isTopOrBottomRow(n)&&(n.widthWithConnectedBlocks=n.width)}}getDesiredRowWidth_(e){return this.width-this.startX}addAlignmentPadding_(e,t){let n=e.getFirstSpacer(),o=e.getLastSpacer();if((e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=t),e.align===O.Align$$module$build$src$core$inputs$align.LEFT&&o)o.width+=t;else if(e.align===O.Align$$module$build$src$core$inputs$align.CENTRE&&n&&o)n.width+=t/2,o.width+=t/2;else if(e.align===O.Align$$module$build$src$core$inputs$align.RIGHT&&n)n.width+=t;else{if(!o)return;o.width+=t}e.width+=t}alignStatementRow_(e){let t=e.getLastInput();if(t){var n=e.width-t.width,o=this.statementEdge;0<(n=o-n)&&this.addAlignmentPadding_(e,n),n=e.width,o=this.getDesiredRowWidth_(e),t.width+=o-n,t.height=Math.max(t.height,e.height),e.width+=o-n,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}addRowSpacing_(){let e=this.rows;this.rows=[];for(let t=0;t<e.length;t++)this.rows.push(e[t]),t!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))}makeSpacerRow_(e,t){var n=this.getSpacerRowHeight_(e,t);let o=this.getSpacerRowWidth_(e,t);return n=new u6(this.constants_,n,o),e.hasStatement&&(n.followsStatement=!0),t.hasStatement&&(n.precedesStatement=!0),n}getSpacerRowWidth_(e,t){return this.width-this.startX}getSpacerRowHeight_(e,t){return this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){return uH.isSpacer(t)?e.yPos+t.height/2:uH.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,uH.isNextConnection(t)?e+t.height/2:e-t.height/2):uH.isTopRow(e)?uH.isHat(t)?e.capline-t.height/2:e.capline+t.height/2:e.yPos+e.height/2}recordElemPositions_(e){let t=e.xPos;for(let n=0,o;o=e.elements[n];n++)uH.isSpacer(o)&&(o.height=e.height),o.xPos=t,o.centerline=this.getElemCenterline_(e,o),t+=o.width}finalize_(){let e=0,t=0;for(let n=0,o;o=this.rows[n];n++)o.yPos=t,o.xPos=this.startX,t+=o.height,e=Math.max(e,o.widthWithConnectedBlocks),this.recordElemPositions_(o);if(this.outputConnection&&this.block_.nextConnection){let t=this.block_.nextConnection.targetBlock();t&&(e=Math.max(e,t.getHeightWidth().width))}this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline,this.bottomRow.baseline=t-this.bottomRow.descenderHeight}getMeasureableForConnection(e){let t;if((null==(t=this.outputConnection)?void 0:t.connectionModel)===e)return this.outputConnection;for(let t of this.rows)for(let n of t.elements)if(n instanceof uW&&n.connectionModel===e)return n;return null}},ca=class extends lQ{constructor(e){if(super(e),this.type=iK.BLOCK_DELETE,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=oY(e),this.ids=eI(e),this.wasShadow=e.isShadow(),this.oldJson=ns(e,{addCoordinates:!0})}}toJson(){let e=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(void 0===this.wasShadow)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=oQ(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new ca)).oldXml=O.textToDom$$module$build$src$core$utils$xml(e.oldXml),t.ids=e.ids,t.wasShadow=e.wasShadow||"shadow"===t.oldXml.tagName.toLowerCase(),t.oldJson=e.oldJson,void 0!==e.recordUndo&&(t.recordUndo=e.recordUndo),t}run(e){let t=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){let n=this.ids[e],o=t.getBlockById(n);o?o.dispose(!1):n===this.blockId&&console.warn("Can't delete non-existent block: "+n)}else ng(this.oldJson,t)}};Z(A.EVENT,iK.BLOCK_DELETE,ca);var cu=class{constructor(e,t){this.type=t,this.targetConnection=null,this.disposed=!1,this.shadowDom=this.check=null,this.y=this.x=0,this.shadowState=null,this.sourceBlock_=e}connect_(e){let t,n,o=uv.INPUT_VALUE,r=this.getSourceBlock();var i=e.getSourceBlock();if(e.isConnected()&&e.disconnectInternal(!1),this.isConnected()){let e=this.stashShadowState(),n=this.targetBlock();n.isShadow()?n.dispose(!1):(this.disconnectInternal(),t=n),this.applyShadowState(e)}eC()&&(n=new(ew(iK.BLOCK_MOVE))(i)).setReason(["connect"]),rz(this,e),i.setParent(r),n&&(n.recordNew(),eb(n)),t&&(e=this.type===o?t.outputConnection:t.previousConnection)&&((i=cu.getConnectionForOrphanedConnection(i,e))?e.connect(i):e.onFailedConnect(this))}dispose(){if(this.isConnected()){this.isSuperior()&&this.setShadowStateInternal();let e=this.targetBlock();e&&!e.isDeadOrDying()&&e.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===uv.INPUT_VALUE||this.type===uv.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(e){}connect(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){let t=O.getGroup$$module$build$src$core$events$utils();t||O.setGroup$$module$build$src$core$events$utils(!0),this.isSuperior()?this.connect_(e):e.connect_(this),O.setGroup$$module$build$src$core$events$utils(t)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(e=!0){let t,{parentConnection:n,childConnection:o}=this.getParentAndChildConnections();if(!n||!o)throw Error("Source connection not connected.");let r=O.getGroup$$module$build$src$core$events$utils();r||O.setGroup$$module$build$src$core$events$utils(!0),eC()&&(t=new(ew(iK.BLOCK_MOVE))(o.getSourceBlock())).setReason(["disconnect"]);let i=this.targetConnection;i&&(i.targetConnection=null),this.targetConnection=null,e&&o.getSourceBlock().setParent(null),t&&(t.recordNew(),eb(t)),o.getSourceBlock().isShadow()||n.respawnShadow_(),O.setGroup$$module$build$src$core$events$utils(r)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(e,t){var n;return!this.getSourceBlock().isDeadOrDying()&&(t=null==(n=e.getInput(t))?void 0:n.connection,(!(n=this.targetBlock())||n===e)&&!!t&&t.targetConnection!==this&&(t.isConnected()&&t.disconnect(),t.connect(this),!0))}targetBlock(){if(this.isConnected()){let e,t;return null!=(t=null==(e=this.targetConnection)?void 0:e.getSourceBlock())?t:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return e?(Array.isArray(e)||(e=[e]),this.check=e,this.onCheckChanged_()):this.check=null,this}getCheck(){return this.check}setShadowDom(e){this.setShadowStateInternal({shadowDom:e})}getShadowDom(e){return e&&this.targetBlock().isShadow()?oZ(this.targetBlock()):this.shadowDom}setShadowState(e){this.setShadowStateInternal({shadowState:e})}getShadowState(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?ns(this.targetBlock()):this.shadowState}neighbours(e){return[]}getParentInput(){let e=null,t=this.sourceBlock_.inputList;for(let n=0;n<t.length;n++)if(t[n].connection===this){e=t[n];break}return e}toString(){let e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var t="Output Connection of ";else if(e.previousConnection===this)t="Previous Connection of ";else if(e.nextConnection===this)t="Next Connection of ";else{t=null;for(let n=0,o;o=e.inputList[n];n++)if(o.connection===this){t=o;break}if(!t)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";t='Input "'+t.name+'" connection on '}return t+e.toDevString()}stashShadowState(){let e=this.getShadowDom(!0),t=this.getShadowState(!0);return this.shadowState=this.shadowDom=null,{shadowDom:e,shadowState:t}}applyShadowState({shadowDom:e,shadowState:t}){this.shadowDom=e,this.shadowState=t}setShadowStateInternal({shadowDom:e=null,shadowState:t=null}={}){this.shadowDom=e,this.shadowState=t,this.getSourceBlock().isDeadOrDying()||((e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())):(e=this.createShadowBlock(!1),this.serializeShadow(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())))}createShadowBlock(e){var t=this.getSourceBlock();let n=this.getShadowState(),o=this.getShadowDom();if(t.isDeadOrDying()||!n&&!o)return null;if(n)return nm(n,t.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(o){if(t=o1(o,t.workspace),e)if(this.type===uv.INPUT_VALUE){if(!t.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(t.outputConnection))throw Error("Could not connect shadow block to connection")}else if(this.type===uv.NEXT_STATEMENT){if(!t.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(t.previousConnection))throw Error("Could not connect shadow block to connection")}else throw Error("Cannot connect a shadow block to a previous/output connection");return t}return null}serializeShadow(e){e&&(this.shadowDom=oZ(e),this.shadowState=ns(e))}static getConnectionForOrphanedConnection(e,t){if(t.type===uv.OUTPUT_VALUE)return rY(e,t.getSourceBlock());e=e.lastConnectionInStack(!0);let n=t.getConnectionChecker();return e&&n.canConnect(t,e,!1)?e:null}};cu.CAN_CONNECT=0,cu.REASON_SELF_CONNECTION=1,cu.REASON_WRONG_TYPE=2,cu.REASON_TARGET_NULL=3,cu.REASON_CHECKS_FAILED=4,cu.REASON_DIFFERENT_WORKSPACES=5,cu.REASON_SHADOW_PARENT=6,cu.REASON_DRAG_CHECKS_FAILED=7,cu.REASON_PREVIOUS_AND_OUTPUT=8;var cc=class{constructor(e,t,n){if(this.data=null,this.disposed=!1,this.hue=null,this.colour_="#000000",this.styleName_="",this.suppressPrefixSuffix=!1,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.icons=[],this.disabledReasons=new Set,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable=this.movable=this.deletable=!0,this.collapsed_=this.shadow=!1,this.outputShape_=null,this.rendered=this.isInsertionMarker_=this.initialized=this.disposing=!1,this.onchangeWrapper=this.helpUrl=null,this.statementInputCount=0,this.workspace=e,this.id=n&&!e.getBlockById(n)?n:ea(),e.setBlockById(this.id,this),this.xy=new sA(0,0),this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,t){if(this.type=t,!(n=M[t])||"object"!=typeof n)throw TypeError("Invalid block definition for type: "+t);Object.assign(this,n)}e.addTopBlock(this),e.addTypedBlock(this),new.target===cc&&this.doInit_()}doInit_(){let e=O.getGroup$$module$build$src$core$events$utils();e||O.setGroup$$module$build$src$core$events$utils(!0);let t=e_();try{"function"==typeof this.init&&(O.setRecordUndo$$module$build$src$core$events$utils(!1),this.init(),O.setRecordUndo$$module$build$src$core$events$utils(t)),eC()&&eb(new(ew(iK.BLOCK_CREATE))(this))}finally{O.setGroup$$module$build$src$core$events$utils(e),O.setRecordUndo$$module$build$src$core$events$utils(t)}this.inputsInlineDefault=this.inputsInline,"function"==typeof this.onchange&&this.setOnChange(this.onchange)}dispose(e=!1){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.unplug(e),eC()&&eb(new(ew(iK.BLOCK_DELETE))(this)),this.workspace.removeTopBlock(this),this.disposeInternal()}disposeInternal(){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),"function"==typeof this.destroy&&this.destroy(),this.childBlocks_.forEach(e=>e.disposeInternal()),this.inputList.forEach(e=>e.dispose()),this.inputList.length=0,this.getConnections_(!0).forEach(e=>e.dispose()),this.disposed=!0}isDeadOrDying(){return this.disposing||this.disposed}initModel(){if(!this.initialized){for(let e of this.inputList)e.initModel();this.initialized=!0}}unplug(e){this.outputConnection&&this.unplugFromRow(e),this.previousConnection&&this.unplugFromStack(e)}unplugFromRow(e){let t=null,n;(null==(n=this.outputConnection)?0:n.isConnected())&&(t=this.outputConnection.targetConnection,this.outputConnection.disconnect()),t&&e&&(e=this.getOnlyValueConnection())&&e.isConnected()&&!e.targetBlock().isShadow()&&(null==(e=e.targetConnection)||e.disconnect(),this.workspace.connectionChecker.canConnect(e,t,!1)?t.connect(e):null==e||e.onFailedConnect(t))}getOnlyValueConnection(){let e=null;for(let t=0;t<this.inputList.length;t++){let n=this.inputList[t].connection;if(n&&n.type===uv.INPUT_VALUE&&n.targetConnection){if(e)return null;e=n}}return e}unplugFromStack(e){var t;let n=null;if((null==(t=this.previousConnection)?0:t.isConnected())&&(n=this.previousConnection.targetConnection,this.previousConnection.disconnect()),t=this.getNextBlock(),e&&t&&!t.isShadow()){let t,o;null==(e=null!=(o=null==(t=this.nextConnection)?void 0:t.targetConnection)?o:null)||e.disconnect(),n&&this.workspace.connectionChecker.canConnect(n,e,!1)&&n.connect(e)}}getConnections_(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(let t=0,n;n=this.inputList[t];t++)n.connection&&e.push(n.connection);return e}lastConnectionInStack(e){let t=this.nextConnection;for(;t;){let n=t.targetBlock();if(!n||e&&n.isShadow())return t;t=n.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(e){for(let t=0,n;n=this.inputList[t];t++)if(n.connection&&n.connection.targetBlock()===e)return n;return null}getSurroundParent(){let e=this,t;do if(t=e,!(e=e.getParent()))return null;while(e.getNextBlock()===t)return e}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getRootBlock(){let e,t=this;do t=(e=t).parentBlock_;while(t)return e}getTopStackBlock(){let e=this,t;do t=e.getPreviousBlock();while(t&&t.getNextBlock()===e&&(e=t))return e}getChildren(e){if(!e)return this.childBlocks_;e=[];for(let n=0,o;o=this.inputList[n];n++)if(o.connection){var t=o.connection.targetBlock();t&&e.push(t)}return(t=this.getNextBlock())&&e.push(t),e}setParent(e){if(e!==this.parentBlock_){var t=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),n=!!t;if(n&&e&&t!==e)throw Error("Block connected to superior one that is not new parent.");if(!n&&e)throw Error("Block not connected to new parent.");if(n&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?e0(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(e){let t=[this],n=this.getChildren(e);for(let o,r=0;o=n[r];r++)t.push(...o.getDescendants(e));return t}isDeletable(){return this.deletable&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnDeletable(){return this.deletable}setDeletable(e){this.deletable=e}isMovable(){return this.movable&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnMovable(){return this.movable}setMovable(e){this.movable=e}isDuplicatable(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(eB(this,!0))}isShadow(){return this.shadow}setShadow(e){this.shadow=e}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(e){this.isInsertionMarker_=e}isEditable(){return this.editable&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnEditable(){return this.editable}setEditable(e){this.editable=e;for(let e=0,t;t=this.inputList[e];e++)for(let e=0,n;n=t.fieldRow[e];e++)n.updateEditable()}isDisposed(){return this.disposed}isSimpleReporter(){if(!this.outputConnection)return!1;for(let e of this.inputList)if(e.connection||1<e.fieldRow.length)return!1;return!0}getMatchingConnection(e,t){let n=this.getConnections_(!0);if(e=e.getConnections_(!0),n.length!==e.length)throw Error("Connection lists did not match in length.");for(let o=0;o<e.length;o++)if(e[o]===t)return n[o];return null}setHelpUrl(e){this.helpUrl=e}setTooltip(e){this.tooltip=e}getTooltip(){return n4(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue}setColour(e){e=ov(e),this.hue=e.hue,this.colour_=e.hex}setStyle(e){this.styleName_=e}setOnChange(e){if(e&&"function"!=typeof e)throw Error("onchange must be a function.");this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.onchange=e,this.onchangeWrapper=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper)}getField(e){if("string"!=typeof e)throw TypeError("Block.prototype.getField expects a string with the field name but received "+(void 0===e?"nothing":e+" of type "+typeof e)+" instead");for(let t=0,n;n=this.inputList[t];t++)for(let t=0,o;o=n.fieldRow[t];t++)if(o.name===e)return o;return null}getVars(){let e=[];for(let t=0,n;n=this.inputList[t];t++)for(let t=0,o;o=n.fieldRow[t];t++)o.referencesVariables()&&e.push(o.getValue());return e}getVarModels(){let e=[];for(let t=0,n;n=this.inputList[t];t++)for(let t=0,o;o=n.fieldRow[t];t++)if(o.referencesVariables()){let t=this.workspace.getVariableById(o.getValue());t&&e.push(t)}return e}updateVarName(e){for(let t=0,n;n=this.inputList[t];t++)for(let t=0,o;o=n.fieldRow[t];t++)o.referencesVariables()&&e.getId()===o.getValue()&&o.refreshVariableName()}renameVarById(e,t){for(let n=0,o;o=this.inputList[n];n++)for(let n=0,r;r=o.fieldRow[n];n++)r.referencesVariables()&&e===r.getValue()&&r.setValue(t)}getFieldValue(e){return(e=this.getField(e))?e.getValue():null}setFieldValue(e,t){let n=this.getField(t);if(!n)throw Error('Field "'+t+'" not found.');n.setValue(e)}setPreviousStatement(e,t){if(e)void 0===t&&(t=null),this.previousConnection||(this.previousConnection=this.makeConnection_(uv.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(t);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(e,t){if(e)void 0===t&&(t=null),this.nextConnection||(this.nextConnection=this.makeConnection_(uv.NEXT_STATEMENT)),this.nextConnection.setCheck(t);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(e,t){if(e)void 0===t&&(t=null),this.outputConnection||(this.outputConnection=this.makeConnection_(uv.OUTPUT_VALUE)),this.outputConnection.setCheck(t);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(e){this.inputsInline!==e&&(eb(new(ew(iK.BLOCK_CHANGE))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}getInputsInline(){if(void 0!==this.inputsInline)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof cr&&this.inputList[e]instanceof cr)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof O.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[e]instanceof cr)return!0;for(e=0;e<this.inputList.length;e++)if(this.inputList[e]instanceof ci)return!0;return!1}setOutputShape(e){this.outputShape_=e}getOutputShape(){return this.outputShape_}isEnabled(){return 0===this.disabledReasons.size}get disabled(){return es("disabled","v11","v12","the isEnabled or hasDisabledReason methods of Block"),this.hasDisabledReason(lv)}set disabled(e){es("disabled","v11","v12","the setDisabledReason method of Block"),this.setDisabledReason(e,lv)}setEnabled(e){es("setEnabled","v11","v12","the setDisabledReason method of Block"),this.setDisabledReason(!e,lv)}setDisabledReason(e,t){e||this.workspace.options.disable||!this.hasDisabledReason(lv)||t==lv||this.setDisabledReason(!1,lv),this.disabledReasons.has(t)!==e&&(e?this.disabledReasons.add(t):this.disabledReasons.delete(t),(e=new(ew(iK.BLOCK_CHANGE))(this,"disabled",null,!e,e)).setDisabledReason(t),eb(e))}getInheritedDisabled(){let e=this.getSurroundParent();for(;e;){if(!e.isEnabled())return!0;e=e.getSurroundParent()}return!1}hasDisabledReason(e){return this.disabledReasons.has(e)}getDisabledReasons(){return this.disabledReasons}isCollapsed(){return this.collapsed_}setCollapsed(e){this.collapsed_!==e&&(eb(new(ew(iK.BLOCK_CHANGE))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}toString(e,t){t=this.toTokens(t);for(let e=2;e<t.length;e++)"("===t[e-2]&&")"===t[e]&&(t[e-2]=t[e-1],t.splice(e-1,2));let n="";return t=(t=t.reduce((e,t)=>(e=e+("("===n||")"===t?"":" ")+t,n=t[t.length-1],e),"")).trim()||"???",e&&t.length>e&&(t=t.substring(0,e-3)+"..."),t}toTokens(e="?"){let t=[];for(let o of this.inputList)if(o.name!=lT){for(let e of o.fieldRow)t.push(e.getText());if(o.connection){let r=o.connection.targetBlock();if(r){var n=o.connection;let i=n.getCheck();!i&&n.targetConnection&&(i=n.targetConnection.getCheck()),(n=!!i&&(i.includes("Boolean")||i.includes("Number")))&&t.push("("),t.push(...r.toTokens(e)),n&&t.push(")")}else t.push(e)}}return t}appendValueInput(e){return this.appendInput(new O.ValueInput$$module$build$src$core$inputs$value_input(e,this))}appendStatementInput(e){return this.statementInputCount++,this.appendInput(new cs(e,this))}appendDummyInput(e=""){return this.appendInput(new cr(e,this))}appendEndRowInput(e=""){return this.appendInput(new ci(e,this))}appendInput(e){return this.inputList.push(e),e}appendInputFromRegistry(e,t){return(e=en(A.INPUT,e,!1))?this.appendInput(new e(t,this)):null}jsonInit(e){var t=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(t+"Must not have both an output and a previousStatement.");for(var n=0;e["args"+n];){if(void 0===e["message"+n])throw Error(t+`args${n} must have a corresponding message (message${n}).`);n++}if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(t+"Must not have both a colour and a style.");for(e.style?this.jsonInitStyle(e,t):this.jsonInitColour(e,t),n=0;void 0!==e["message"+n];)this.interpolate(e["message"+n],e["args"+n]||[],e["implicitAlign"+n]||e["lastDummyAlign"+n],t),n++;if(void 0!==e.inputsInline&&(O.disable$$module$build$src$core$events$utils(),this.setInputsInline(e.inputsInline),O.enable$$module$build$src$core$events$utils()),void 0!==e.output&&this.setOutput(!0,e.output),void 0!==e.outputShape&&this.setOutputShape(e.outputShape),void 0!==e.previousStatement&&this.setPreviousStatement(!0,e.previousStatement),void 0!==e.nextStatement&&this.setNextStatement(!0,e.nextStatement),void 0!==e.tooltip&&(n=oE(e.tooltip),this.setTooltip(n)),void 0!==e.enableContextMenu&&(this.contextMenu=!!e.enableContextMenu),void 0!==e.suppressPrefixSuffix&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),void 0!==e.helpUrl&&(n=oE(e.helpUrl),this.setHelpUrl(n)),"string"==typeof e.extensions&&(console.warn(t+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),void 0!==e.mutator&&rf(e.mutator,this,!0),Array.isArray(e=e.extensions))for(t=0;t<e.length;t++)rf(e[t],this,!1)}jsonInitColour(e,t){if("colour"in e)if(void 0===e.colour)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch(n){console.warn(t+"Illegal colour value: ",e)}}}jsonInitStyle(e,t){e=e.style;try{this.setStyle(e)}catch(n){console.warn(t+"Style does not exist: ",e)}}mixin(e,t){if(void 0!==t&&"boolean"!=typeof t)throw Error("opt_disableCheck must be a boolean if provided");if(!t){for(let n in t=[],e)void 0!==this[n]&&t.push(n);if(t.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(t))}Object.assign(this,e)}interpolate(e,t,n,o){e=oT(e),this.validateTokens(e,t.length),t=this.interpolateArguments(e,t,n),n=[];for(let r=0,i;i=t[r];r++)if(this.isInputKeyword(i.type)){if(e=this.inputFromJson(i,o)){for(let t=0,o;o=n[t];t++)e.appendField(o[0],o[1]);n.length=0}}else(e=this.fieldFromJson(i))&&n.push([e,i.name])}validateTokens(e,t){let n=[],o=0;for(let r=0;r<e.length;r++){let i=e[r];if("number"==typeof i){if(1>i||i>t)throw Error('Block "'+this.type+'": Message index %'+i+" out of range.");if(n[i])throw Error('Block "'+this.type+'": Message index %'+i+" duplicated.");n[i]=!0,o++}}if(o!==t)throw Error('Block "'+this.type+'": Message does not reference all '+t+" arg(s).")}interpolateArguments(e,t,n){let o=[];for(let i=0;i<e.length;i++){var r=e[i];if("number"==typeof r&&(r=t[r-1]),"string"==typeof r){if("\n"===r)r={type:"input_end_row"},n&&(r.align=n);else if(!(r=this.stringToFieldJson(r)))continue}o.push(r)}return(e=o.length)&&!this.isInputKeyword(o[e-1].type)&&(e={type:"input_dummy"},n&&(e.align=n),o.push(e)),o}fieldFromJson(e){let t=O.fromJson$$module$build$src$core$field_registry(e);return!t&&e.alt?"string"==typeof e.alt?(e=this.stringToFieldJson(e.alt))?this.fieldFromJson(e):null:this.fieldFromJson(e.alt):t}inputFromJson(e,t){let n;var o={LEFT:O.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:O.Align$$module$build$src$core$inputs$align.RIGHT,CENTRE:O.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:O.Align$$module$build$src$core$inputs$align.CENTRE};switch(e.type){case"input_value":n=this.appendValueInput(e.name);break;case"input_statement":n=this.appendStatementInput(e.name);break;case"input_dummy":n=this.appendDummyInput(e.name);break;case"input_end_row":n=this.appendEndRowInput(e.name);break;default:n=this.appendInputFromRegistry(e.type,e.name)}return n?(e.check&&n.setCheck(e.check),e.align&&(void 0===(o=o[e.align.toUpperCase()])?console.warn(t+"Illegal align value: ",e.align):n.setAlign(o)),n):null}isInputKeyword(e){return"input_value"===e||"input_statement"===e||"input_dummy"===e||"input_end_row"===e||et(A.INPUT,e)}stringToFieldJson(e){return(e=e.trim())?{type:"field_label",text:e}:null}moveInputBefore(e,t){if(e!==t){var n=-1,o=t?-1:this.inputList.length;for(let r=0,i;i=this.inputList[r];r++)if(i.name===e){if(n=r,-1!==o)break}else if(t&&i.name===t&&(o=r,-1!==n))break;if(-1===n)throw Error('Named input "'+e+'" not found.');if(-1===o)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(n,o)}}moveNumberedInputBefore(e,t){if(e===t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");let n=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,n)}removeInput(e,t){for(let t=0,n;n=this.inputList[t];t++)if(n.name===e)return n instanceof cs&&this.statementInputCount--,n.dispose(),this.inputList.splice(t,1),!0;if(t)return!1;throw Error("Input not found: "+e)}getInput(e){for(let t=0,n;n=this.inputList[t];t++)if(n.name===e)return n;return null}getInputTargetBlock(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}getCommentText(){let e,t;return null!=(t=null==(e=this.getIcon(lq.COMMENT))?void 0:e.getText())?t:null}setCommentText(e){var t,n;let o,r=null!=(o=null==(t=this.getIcon(lq.COMMENT))?void 0:t.getText())?o:null;if(r!==e){if(null!==e){if(!(t=this.getIcon(lq.COMMENT))){if(!(t=en(A.ICON,lq.COMMENT.toString(),!1)))throw Error("No comment icon class is registered, so a comment cannot be set");if(!(rK(n=t=new t(this))&&nR(n)&&tU(n)&&void 0!==n.setText&&void 0!==n.getText&&void 0!==n.setBubbleSize&&void 0!==n.getBubbleSize&&n.getType()===lq.COMMENT))throw Error("The class registered as a comment icon does not conform to the ICommentIcon interface");t=this.addIcon(t)}O.disable$$module$build$src$core$events$utils(),t.setText(e),O.enable$$module$build$src$core$events$utils()}else this.removeIcon(lq.COMMENT);eb(new(ew(iK.BLOCK_CHANGE))(this,"comment",null,r,e))}}setWarningText(e,t){}setMutator(e){}addIcon(e){if(this.hasIcon(e.getType()))throw new uL(e);return this.icons.push(e),this.icons.sort((e,t)=>e.getWeight()-t.getWeight()),e}removeIcon(e){let t;return!!this.hasIcon(e)&&(null==(t=this.getIcon(e))||t.dispose(),this.icons=this.icons.filter(t=>!t.getType().equals(e)),!0)}hasIcon(e){return this.icons.some(t=>t.getType().equals(e))}getIcon(e){return e instanceof lq?this.icons.find(t=>t.getType().equals(e)):this.icons.find(t=>t.getType().toString()===e)}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy}moveBy(e,t,n){if(this.parentBlock_)throw Error("Block has parent");let o=new(ew(iK.BLOCK_MOVE))(this);n&&o.setReason(n),this.xy.translate(e,t),o.recordNew(),eb(o)}makeConnection_(e){return new cu(this,e)}allInputsFilled(e){if(void 0===e&&(e=!0),!e&&this.isShadow())return!1;for(let n=0,o;o=this.inputList[n];n++)if(o.connection){var t=o.connection.targetBlock();if(!t||!t.allInputsFilled(e))return!1}return!(t=this.getNextBlock())||t.allInputsFilled(e)}toDevString(){let e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}};cc.COLLAPSED_INPUT_NAME=lT,cc.COLLAPSED_FIELD_NAME=lE;var cd=class{constructor(e,t,n,o){this.workspace=e,this.targetWorkspace=t,this.isFlyoutLabel=o,this.onMouseUpWrapper=null,this.height=this.width=0,this.cursorSvg=this.svgText=this.svgGroup=null,this.text=n.text,this.position=new sA(0,0),this.callbackKey=n.callbackKey||n.callbackkey,this.cssClass=n["web-class"]||null,this.info=n}createDom(){let e;var t=this.isFlyoutLabel?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.cssClass&&(t+=" "+this.cssClass),this.svgGroup=e5(sU.G,{class:t},this.workspace.getCanvas()),this.isFlyoutLabel||(e=e5(sU.RECT,{class:"blocklyFlyoutButtonShadow",rx:cd.BORDER_RADIUS,ry:cd.BORDER_RADIUS,x:1,y:1},this.svgGroup)),t=e5(sU.RECT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:cd.BORDER_RADIUS,ry:cd.BORDER_RADIUS},this.svgGroup);let n=e5(sU.TEXT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup);var o=oE(this.text);this.workspace.RTL&&(o+="‏"),n.textContent=o,this.isFlyoutLabel&&(this.svgText=n,this.workspace.getThemeManager().subscribe(this.svgText,"flyoutForegroundColour","fill"));let r=ta(n,"fontSize"),i=ta(n,"fontWeight"),s=ta(n,"fontFamily");if(this.width=tr(n,r,i,s),o=ti(o,r,i,s),this.height=o.height,!this.isFlyoutLabel){let t,n;this.width+=2*cd.TEXT_MARGIN_X,this.height+=2*cd.TEXT_MARGIN_Y,null==(t=e)||t.setAttribute("width",String(this.width)),null==(n=e)||n.setAttribute("height",String(this.height))}return t.setAttribute("width",String(this.width)),t.setAttribute("height",String(this.height)),n.setAttribute("x",String(this.width/2)),n.setAttribute("y",String(this.height/2-o.height/2+o.baseline)),this.updateTransform(),this.onMouseUpWrapper=eX(this.svgGroup,"pointerup",this,this.onMouseUp),this.svgGroup}show(){this.updateTransform(),this.svgGroup.setAttribute("display","block")}updateTransform(){this.svgGroup.setAttribute("transform","translate("+this.position.x+","+this.position.y+")")}moveTo(e,t){this.position.x=e,this.position.y=t,this.updateTransform()}isLabel(){return this.isFlyoutLabel}getPosition(){return this.position}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}getWorkspace(){return this.workspace}dispose(){this.onMouseUpWrapper&&eK(this.onMouseUpWrapper),this.svgGroup&&e8(this.svgGroup),this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}setCursorSvg(e){e?this.svgGroup&&(this.svgGroup.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(){throw Error("Attempted to set a marker on a button.")}onMouseUp(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isFlyoutLabel&&this.callbackKey?console.warn("Labels should not have callbacks. Label text: "+this.text):this.isFlyoutLabel||this.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isFlyoutLabel||(e=this.targetWorkspace.getButtonCallback(this.callbackKey))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text)}};cd.TEXT_MARGIN_X=5,cd.TEXT_MARGIN_Y=2,cd.BORDER_RADIUS=4,e1("\n.blocklyFlyoutButton {\n  fill: #888;\n  cursor: default;\n}\n\n.blocklyFlyoutButtonShadow {\n  fill: #666;\n}\n\n.blocklyFlyoutButton:hover {\n  fill: #aaa;\n}\n\n.blocklyFlyoutLabel {\n  cursor: default;\n}\n\n.blocklyFlyoutLabelBackground {\n  opacity: 0;\n}\n");var ch=class{constructor(e,t,n){if(this.wsCoordinate=null,!t)throw Error("Cannot create a node without a location.");this.type=e,this.isConnectionLocation=ch.isConnectionType(e),this.location=t,this.processParams(n||null)}processParams(e){e&&e.wsCoordinate&&(this.wsCoordinate=e.wsCoordinate)}getLocation(){return this.location}getType(){return this.type}getWsCoordinate(){return this.wsCoordinate}isConnection(){return this.isConnectionLocation}findNextForInput(){var e=this.location.getParentInput();let t=e.getSourceBlock();for(e=t.inputList.indexOf(e)+1;e<t.inputList.length;e++){let n=t.inputList[e],o=n.fieldRow;for(let e=0;e<o.length;e++){let t=o[e];if(t.isClickable()||ch.NAVIGATE_ALL_FIELDS)return ch.createFieldNode(t)}if(n.connection)return ch.createInputNode(n)}return null}findNextForField(){var e=this.location,t=e.getParentInput();let n=e.getSourceBlock();if(!n)throw Error("The current AST location is not associated with a block");var o=n.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)+1;o<n.inputList.length;o++){let r=(t=n.inputList[o]).fieldRow;for(;e<r.length;){if(r[e].isClickable()||ch.NAVIGATE_ALL_FIELDS)return ch.createFieldNode(r[e]);e++}if(e=0,t.connection)return ch.createInputNode(t)}return null}findPrevForInput(){let e=this.location.getParentInput(),t=e.getSourceBlock();for(var n=t.inputList.indexOf(e);0<=n;n--){var o=t.inputList[n];if(o.connection&&o!==e)return ch.createInputNode(o);o=o.fieldRow;for(let e=o.length-1;0<=e;e--){let t=o[e];if(t.isClickable()||ch.NAVIGATE_ALL_FIELDS)return ch.createFieldNode(t)}}return null}findPrevForField(){var e=this.location;let t=e.getParentInput(),n=e.getSourceBlock();if(!n)throw Error("The current AST location is not associated with a block");var o=n.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)-1;0<=o;o--){var r=n.inputList[o];if(r.connection&&r!==t)return ch.createInputNode(r);for(r=r.fieldRow;-1<e;){if(r[e].isClickable()||ch.NAVIGATE_ALL_FIELDS)return ch.createFieldNode(r[e]);e--}0<=o-1&&(e=n.inputList[o-1].fieldRow.length-1)}return null}navigateBetweenStacks(e){var t=this.getLocation();if(t.getSourceBlock){var n=t.getSourceBlock();n&&(t=n)}if(!t||t.isDeadOrDying())return null;if(t.workspace.isFlyout)return this.navigateFlyoutContents(e);t=(n=t.getRootBlock()).workspace.getTopBlocks(!0);for(let o=0;o<t.length;o++)if(n.id===t[o].id)return -1===(e=o+(e?1:-1))||e===t.length?null:ch.createStackNode(t[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")}navigateFlyoutContents(e){let t;switch(this.getType()){case ch.types.STACK:var n=(t=this.getLocation()).workspace.targetWorkspace;break;case ch.types.BUTTON:n=(t=this.getLocation()).getTargetWorkspace();break;default:return null}return(n=n.getFlyout())&&(e=this.findNextLocationInFlyout(n.getContents(),t,e))?"button"===e.type&&e.button?ch.createButtonNode(e.button):"block"===e.type&&e.block?ch.createStackNode(e.block):null:null}findNextLocationInFlyout(e,t,n){let o=e.findIndex(e=>t instanceof cc&&e.block===t||t instanceof cd&&e.button===t);return 0>o||-1===(n=n?o+1:o-1)||n===e.length?null:e[n]}findTopASTNodeForBlock(e){let t=rJ(e);return t?ch.createConnectionNode(t):ch.createBlockNode(e)}getOutAstNodeForBlock(e){if(!e)return null;let t=rJ(e=e.getTopStackBlock());return t&&t.targetConnection&&t.targetConnection.getParentInput()?ch.createInputNode(t.targetConnection.getParentInput()):ch.createStackNode(e)}findFirstFieldOrInput(e){e=e.inputList;for(let t=0;t<e.length;t++){let n=e[t],o=n.fieldRow;for(let e=0;e<o.length;e++){let t=o[e];if(t.isClickable()||ch.NAVIGATE_ALL_FIELDS)return ch.createFieldNode(t)}if(n.connection)return ch.createInputNode(n)}return null}getSourceBlock(){return this.getType()===ch.types.BLOCK||this.getType()===ch.types.STACK?this.getLocation():this.getType()===ch.types.WORKSPACE||this.getType()===ch.types.BUTTON?null:this.getLocation().getSourceBlock()}next(){switch(this.type){case ch.types.STACK:return this.navigateBetweenStacks(!0);case ch.types.OUTPUT:return ch.createBlockNode(this.location.getSourceBlock());case ch.types.FIELD:return this.findNextForField();case ch.types.INPUT:return this.findNextForInput();case ch.types.BLOCK:let e=this.location.nextConnection;if(!e)break;return ch.createConnectionNode(e);case ch.types.PREVIOUS:return ch.createBlockNode(this.location.getSourceBlock());case ch.types.NEXT:return ch.createConnectionNode(this.location.targetConnection);case ch.types.BUTTON:return this.navigateFlyoutContents(!0)}return null}in(){switch(this.type){case ch.types.WORKSPACE:let e=this.location.getTopBlocks(!0);if(0<e.length)return ch.createStackNode(e[0]);break;case ch.types.STACK:return this.findTopASTNodeForBlock(this.location);case ch.types.BLOCK:return this.findFirstFieldOrInput(this.location);case ch.types.INPUT:return ch.createConnectionNode(this.location.targetConnection)}return null}prev(){switch(this.type){case ch.types.STACK:return this.navigateBetweenStacks(!1);case ch.types.FIELD:return this.findPrevForField();case ch.types.INPUT:return this.findPrevForInput();case ch.types.BLOCK:var e=rJ(this.location);if(!e)break;return ch.createConnectionNode(e);case ch.types.PREVIOUS:if((e=this.location.targetConnection)&&!e.getParentInput())return ch.createConnectionNode(e);break;case ch.types.NEXT:return ch.createBlockNode(this.location.getSourceBlock());case ch.types.BUTTON:return this.navigateFlyoutContents(!1)}return null}out(){switch(this.type){case ch.types.STACK:var e=this.location,t=e.getRelativeToSurfaceXY();return t=new sA(t.x,t.y+ch.DEFAULT_OFFSET_Y),ch.createWorkspaceNode(e.workspace,t);case ch.types.OUTPUT:return(t=(e=this.location).targetConnection)?ch.createConnectionNode(t):ch.createStackNode(e.getSourceBlock());case ch.types.FIELD:if(!(e=this.location.getSourceBlock()))throw Error("The current AST location is not associated with a block");return ch.createBlockNode(e);case ch.types.INPUT:return ch.createBlockNode(this.location.getSourceBlock());case ch.types.BLOCK:return this.getOutAstNodeForBlock(this.location);case ch.types.PREVIOUS:case ch.types.NEXT:return this.getOutAstNodeForBlock(this.location.getSourceBlock())}return null}static isConnectionType(e){switch(e){case ch.types.PREVIOUS:case ch.types.NEXT:case ch.types.INPUT:case ch.types.OUTPUT:return!0}return!1}static createFieldNode(e){return e?new ch(ch.types.FIELD,e):null}static createConnectionNode(e){if(!e)return null;let t=e.type;return t===uv.INPUT_VALUE||t===uv.NEXT_STATEMENT&&e.getParentInput()?ch.createInputNode(e.getParentInput()):t===uv.NEXT_STATEMENT?new ch(ch.types.NEXT,e):t===uv.OUTPUT_VALUE?new ch(ch.types.OUTPUT,e):t===uv.PREVIOUS_STATEMENT?new ch(ch.types.PREVIOUS,e):null}static createInputNode(e){return e&&e.connection?new ch(ch.types.INPUT,e.connection):null}static createBlockNode(e){return e?new ch(ch.types.BLOCK,e):null}static createStackNode(e){return e?new ch(ch.types.STACK,e):null}static createButtonNode(e){return e?new ch(ch.types.BUTTON,e):null}static createWorkspaceNode(e,t){return t&&e?new ch(ch.types.WORKSPACE,e,{wsCoordinate:t}):null}static createTopNode(e){let t=rJ(e);return t?ch.createConnectionNode(t):ch.createBlockNode(e)}};ch.NAVIGATE_ALL_FIELDS=!1,ch.DEFAULT_OFFSET_Y=-20,(dJ=(dJ=ch||(ch={})).types||(dJ.types={})).FIELD="field",dJ.BLOCK="block",dJ.INPUT="input",dJ.OUTPUT="output",dJ.NEXT="next",dJ.PREVIOUS="previous",dJ.STACK="stack",dJ.WORKSPACE="workspace",dJ.BUTTON="button";var cp=class extends i4{constructor(e,t,n,o){let r=e?e.workspace.id:void 0;o&&o.getType()===ch.types.WORKSPACE&&(r=o.getLocation().id),super(r),this.type=iK.MARKER_MOVE,this.blockId=null==e?void 0:e.id,this.oldNode=n||void 0,this.newNode=o,this.isCursor=t}toJson(){let e=super.toJson();if(void 0===this.isCursor)throw Error("Whether this is a cursor event or not is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newNode)throw Error("The new node is undefined. Either pass a node to the constructor, or call fromJson");return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new cp)).isCursor=e.isCursor,t.blockId=e.blockId,t.oldNode=e.oldNode,t.newNode=e.newNode,t}};Z(A.EVENT,iK.MARKER_MOVE,cp);var cf=class{constructor(e,t,n){this.workspace=e,this.marker=n,this.markerSvgRect_=this.markerSvgLine_=this.markerInput_=this.markerBlock_=this.svgGroup_=this.markerSvg_=this.currentMarkerSvg=this.parent=null,this.constants_=t,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=n.colour||e}getSvgRoot(){return this.svgGroup_}getMarker(){return this.marker}isCursor(){return"cursor"===this.marker.type}createDom(){let e=this.isCursor()?"blocklyCursor":"blocklyMarker";return this.svgGroup_=e5(sU.G,{class:e}),this.createDomInternal_(),this.svgGroup_}setParent_(e){this.isCursor()?(this.parent&&this.parent.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent&&this.parent.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent=e}draw(e,t){if(t){this.constants_=this.workspace.getRenderer().getConstants();var n=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker.colour||n,this.applyColour_(t),this.showAtLocation_(t),this.fireMarkerEvent(e,t),void 0!==(e=this.currentMarkerSvg.childNodes[0])&&e.beginElement&&e.beginElement()}else this.hide()}showAtLocation_(e){let t=e.getLocation().type;e.getType()===ch.types.BLOCK?this.showWithBlock_(e):e.getType()===ch.types.OUTPUT?this.showWithOutput_(e):t===uv.INPUT_VALUE?this.showWithInput_(e):t===uv.NEXT_STATEMENT?this.showWithNext_(e):e.getType()===ch.types.PREVIOUS?this.showWithPrevious_(e):e.getType()===ch.types.FIELD?this.showWithField_(e):e.getType()===ch.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()===ch.types.STACK?this.showWithStack_(e):e.getType()===ch.types.BUTTON&&this.showWithButton_(e)}showWithBlockPrevOutput(e){let t=(e=e.getSourceBlock()).width;var n=e.height,o=.75*n;let r=this.constants_.CURSOR_BLOCK_PADDING;e.previousConnection?(n=this.constants_.shapeFor(e.previousConnection),this.positionPrevious_(t,r,o,n)):e.outputConnection?(o=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(t,n,o)):this.positionBlock_(t,r,o),this.setParent_(e),this.showCurrent_()}showWithBlock_(e){this.showWithBlockPrevOutput(e)}showWithPrevious_(e){this.showWithBlockPrevOutput(e)}showWithOutput_(e){this.showWithBlockPrevOutput(e)}showWithCoordinates_(e){var t=e.getWsCoordinate();e=t.x,t=t.y,this.workspace.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,t,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace),this.showCurrent_()}showWithField_(e){let t=(e=e.getLocation()).getSize().width,n=e.getSize().height;this.positionRect_(0,0,t,n),this.setParent_(e),this.showCurrent_()}showWithInput_(e){let t=(e=e.getLocation()).getSourceBlock();this.positionInput_(e),this.setParent_(t),this.showCurrent_()}showWithNext_(e){var t=e.getLocation();e=t.getSourceBlock();let n=0;t=t.getOffsetInBlock().y;let o=e.getHeightWidth().width;this.workspace.RTL&&(n=-o),this.positionLine_(n,t,o),this.setParent_(e),this.showCurrent_()}showWithStack_(e){var t=(e=e.getLocation()).getHeightWidth();let n=t.width+this.constants_.CURSOR_STACK_PADDING;t=t.height+this.constants_.CURSOR_STACK_PADDING;let o=-this.constants_.CURSOR_STACK_PADDING/2,r=-this.constants_.CURSOR_STACK_PADDING/2,i=o;this.workspace.RTL&&(i=-(n+o)),this.positionRect_(i,r,n,t),this.setParent_(e),this.showCurrent_()}showWithButton_(e){let t=(e=e.getLocation()).width+this.constants_.CURSOR_STACK_PADDING,n=e.height+this.constants_.CURSOR_STACK_PADDING,o=-this.constants_.CURSOR_STACK_PADDING/2,r=-this.constants_.CURSOR_STACK_PADDING/2,i=o;this.workspace.RTL&&(i=-(t+o)),this.positionRect_(i,r,t,n),this.setParent_(e),this.showCurrent_()}showCurrent_(){this.hide(),this.currentMarkerSvg&&(this.currentMarkerSvg.style.display="")}positionBlock_(e,t,n){if(e=rS(-t,n)+rO("V",-t)+rO("H",e+2*t)+rO("V",n),!this.markerBlock_)throw Error("createDom should be called before positioning the marker");this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionInput_(e){let t=e.getOffsetInBlock().x,n=e.getOffsetInBlock().y;e=rI(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+t+","+n+")"+(this.workspace.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_}positionLine_(e,t,n){if(!this.markerSvgLine_)throw Error("createDom should be called before positioning the line");this.markerSvgLine_.setAttribute("x",`${e}`),this.markerSvgLine_.setAttribute("y",`${t}`),this.markerSvgLine_.setAttribute("width",`${n}`),this.currentMarkerSvg=this.markerSvgLine_}positionOutput_(e,t,n){if(!this.markerBlock_)throw Error("createDom should be called before positioning the output");e=rS(e,0)+rO("h",-(e-n.width))+rO("v",this.constants_.TAB_OFFSET_FROM_TOP)+n.pathDown+rO("V",t)+rO("H",e),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionPrevious_(e,t,n,o){if(!this.markerBlock_)throw Error("createDom should be called before positioning the previous connection marker");e=rS(-t,n)+rO("V",-t)+rO("H",this.constants_.NOTCH_OFFSET_LEFT)+o.pathLeft+rO("H",e+2*t)+rO("V",n),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionRect_(e,t,n,o){if(!this.markerSvgRect_)throw Error("createDom should be called before positioning the rect");this.markerSvgRect_.setAttribute("x",`${e}`),this.markerSvgRect_.setAttribute("y",`${t}`),this.markerSvgRect_.setAttribute("width",`${n}`),this.markerSvgRect_.setAttribute("height",`${o}`),this.currentMarkerSvg=this.markerSvgRect_}flipRtl(e){e.setAttribute("transform","scale(-1 1)")}hide(){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before hiding the marker");this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"}fireMarkerEvent(e,t){let n=t.getSourceBlock();eb(e=new(ew(iK.MARKER_MOVE))(n,this.isCursor(),e,t))}getBlinkProperties_(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}}createDomInternal_(){if(this.markerSvg_=e5(sU.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=e5(sU.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.markerSvg_),this.markerSvgRect_=e5(sU.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10},this.markerSvg_),this.markerInput_=e5(sU.PATH,{transform:""},this.markerSvg_),this.markerBlock_=e5(sU.PATH,{transform:"",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){let e=this.getBlinkProperties_();e5(sU.ANIMATE,e,this.markerSvgLine_),e5(sU.ANIMATE,e,this.markerInput_),e5(sU.ANIMATE,Object.assign({},e,{attributeName:"stroke"}),this.markerBlock_)}return this.markerSvg_}applyColour_(e){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before applying color to the markerj");this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstElementChild.setAttribute("values",e),this.markerInput_.firstElementChild.setAttribute("values",e),this.markerBlock_.firstElementChild.setAttribute("values",e))}dispose(){this.svgGroup_&&e8(this.svgGroup_)}},cg=class{constructor(e,t,n){this.markerSvg=this.cursorSvg=null,this.connectionHighlights=new WeakMap,this.highlightOffsets=new WeakMap,this.constants=n,this.style=t,this.svgRoot=e,this.svgPath=e5(sU.PATH,{class:"blocklyPath"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}setCursorSvg(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null}applyColour(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}setStyle(e){this.style=e}setClass_(e,t){e&&(t?e3(this.svgRoot,e):e6(this.svgRoot,e))}updateHighlighted(e){e?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")}updateShadow_(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))}updateDisabled_(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")}updateSelected(e){this.setClass_("blocklySelected",e)}updateDraggingDelete(e){this.setClass_("blocklyDraggingDelete",e)}updateInsertionMarker(e){this.setClass_("blocklyInsertionMarker",e)}updateMovable(e){this.setClass_("blocklyDraggable",e)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,t){}addConnectionHighlight(e,t,n,o){if(this.connectionHighlights.has(e)){if(this.currentHighlightMatchesNew(e,t,n))return;this.removeConnectionHighlight(e)}t=e5(sU.PATH,{class:"blocklyHighlightedConnectionPath",d:t,transform:`translate(${n.x}, ${n.y})`+(o?" scale(-1 1)":"")},this.svgRoot),this.connectionHighlights.set(e,t)}currentHighlightMatchesNew(e,t,n){let o,r=null==(o=this.connectionHighlights.get(e))?void 0:o.getAttribute("d");return e=this.highlightOffsets.get(e),r===t&&sA.equals(e,n)}removeConnectionHighlight(e){let t=this.connectionHighlights.get(e);t&&(e8(t),this.connectionHighlights.delete(e))}},cm=class{constructor(e){this.activeCandidate=this.lastMarker=this.lastOnStack=null,this.wouldDeleteBlock=!1,this.fadedBlock=this.highlightedBlock=this.markerConnection=null,O.setSelected$$module$build$src$core$common(e),this.topBlock=e,this.workspace=e.workspace,this.firstMarker=this.createMarkerBlock(this.topBlock),this.availableConnections=this.initAvailableConnections(),this.lastOnStack&&(this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock()))}dispose(){this.availableConnections.length=0,this.disposeInsertionMarker(this.firstMarker),this.disposeInsertionMarker(this.lastMarker)}updateAvailableConnections(){this.availableConnections=this.initAvailableConnections()}wouldConnectBlock(){return!!this.activeCandidate}applyConnections(){if(this.activeCandidate){O.disable$$module$build$src$core$events$utils(),this.hidePreview(),O.enable$$module$build$src$core$events$utils();var{local:e,closest:t}=this.activeCandidate;e.connect(t);var n=e.isSuperior()?t:e,o=this.topBlock.getRootBlock();tV().then(()=>{rs(n.getSourceBlock()),setTimeout(()=>{o.bringToFront()},0)})}}update(e,t){let n=this.getCandidate(e);((this.wouldDeleteBlock=this.shouldDelete(!!n,t))||this.shouldUpdatePreviews(n,e))&&(O.disable$$module$build$src$core$events$utils(),this.maybeHidePreview(n),this.maybeShowPreview(n),O.enable$$module$build$src$core$events$utils())}createMarkerBlock(e){let t;O.disable$$module$build$src$core$events$utils();try{let n=ns(e,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!n)throw Error(`Failed to serialize source block. ${e.toDevString()}`);for(let e of(t=ng(n,this.workspace)).getDescendants(!1))e.setInsertionMarker(!0);t.initSvg(),t.getSvgRoot().setAttribute("visibility","hidden")}finally{O.enable$$module$build$src$core$events$utils()}return t}initAvailableConnections(){let e=this.topBlock.getConnections_(!1),t=this.topBlock.lastConnectionInStack(!0);return t&&t!==this.topBlock.nextConnection&&(e.push(t),this.lastOnStack=t),e}shouldUpdatePreviews(e,t){if(!e)return!!this.activeCandidate;if(!this.activeCandidate)return!0;let{local:n,closest:o}=this.activeCandidate;if(o===e.closest&&n===e.local)return!1;let r=n.x+t.x-o.x;return t=n.y+t.y-o.y,e.radius<Math.sqrt(r*r+t*t)-O.config$$module$build$src$core$config.currentConnectionPreference}getCandidate(e){this.markerConnection&&this.markerConnection.isConnected()||this.updateAvailableConnections();let t=this.getStartRadius(),n=null;for(let o=0;o<this.availableConnections.length;o++){let r=this.availableConnections[o],i=r.closest(t,e);i.connection&&(n={closest:i.connection,local:r,radius:i.radius},t=i.radius)}return n}getStartRadius(){return this.activeCandidate?O.config$$module$build$src$core$config.connectingSnapRadius:O.config$$module$build$src$core$config.snapRadius}shouldDelete(e,t){return!!(t&&this.workspace.getComponentManager().hasCapability(t.id,sf.Capability.DELETE_AREA))&&t.wouldDelete(this.topBlock)}maybeShowPreview(e){if(!this.wouldDeleteBlock&&e){var t,n=e.closest;n===(null==(t=this.activeCandidate)?void 0:t.closest)||n.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.activeCandidate=e,this.showPreview(this.activeCandidate))}}showPreview(e){let t=this.workspace.getRenderer();switch(t.getConnectionPreviewMethod(e.closest,e.local,this.topBlock)){case cm.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline(e);break;case cm.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker(e);break;case cm.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade(e)}t.shouldHighlightConnection(e.closest)&&e.closest.highlight()}maybeHidePreview(e){if(e){if(this.activeCandidate){let t=this.activeCandidate.local!==e.local;(this.activeCandidate.closest!==e.closest||t||this.wouldDeleteBlock)&&this.hidePreview()}}else this.hidePreview();this.activeCandidate=this.markerConnection=null}hidePreview(){let e,t=null==(e=this.activeCandidate)?void 0:e.closest;t&&t.targetBlock()&&this.workspace.getRenderer().shouldHighlightConnection(t)&&t.unhighlight(),this.hideReplacementFade(),this.hideInsertionInputOutline(),this.hideInsertionMarker()}showInsertionMarker(e){let t,{local:n,closest:o}=e,r=(e=this.lastOnStack&&n===this.lastOnStack)?this.lastMarker:this.firstMarker;if(!r)throw Error("Cannot show the insertion marker because there is no insertion marker block");try{t=r.getMatchingConnection(n.getSourceBlock(),n)}catch(o){if(e&&this.lastOnStack?(this.disposeInsertionMarker(this.lastMarker),r=this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock())):(this.disposeInsertionMarker(this.firstMarker),r=this.firstMarker=this.createMarkerBlock(this.topBlock)),!r)throw Error("Cannot show the insertion marker because there is no insertion marker block");t=r.getMatchingConnection(n.getSourceBlock(),n)}if(!t)throw Error("Cannot show the insertion marker because there is no associated connection");if(t===this.markerConnection)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");r.queueRender(),tG(),t.connect(o);let i={x:o.x-t.x,y:o.y-t.y},s=t.getOffsetInBlock().clone(),l=t;tV().then(()=>{let e,t;null==(e=r)||e.positionNearConnection(l,i,s),null==(t=r)||t.getSvgRoot().setAttribute("visibility","visible")}),this.markerConnection=t}hideInsertionMarker(){if(this.markerConnection){var e,t=this.markerConnection,n=t.getSourceBlock(),o=n.outputConnection;if((null==(e=n.previousConnection)?0:e.targetConnection)||(null==o?0:o.targetConnection))n.unplug(!0);else{let e;null==(e=t.targetBlock())||e.unplug(!1)}if(t.targetConnection)throw Error("markerConnection still connected at the end of disconnectInsertionMarker");this.markerConnection=null,(t=n.getSvgRoot())&&t.setAttribute("visibility","hidden")}}showInsertionInputOutline(e){e=e.closest,this.highlightedBlock=e.getSourceBlock(),this.highlightedBlock.highlightShapeForInput(e,!0)}hideInsertionInputOutline(){if(this.highlightedBlock){if(!this.activeCandidate)throw Error("Cannot hide the insertion marker outline because there is no active candidate");this.highlightedBlock.highlightShapeForInput(this.activeCandidate.closest,!1),this.highlightedBlock=null}}showReplacementFade(e){if(this.fadedBlock=e.closest.targetBlock(),!this.fadedBlock)throw Error("Cannot show the replacement fade because the closest connection does not have a target block");this.fadedBlock.fadeForReplacement(!0)}hideReplacementFade(){this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null)}getInsertionMarkers(){let e=[];return this.firstMarker&&e.push(this.firstMarker),this.lastMarker&&e.push(this.lastMarker),e}disposeInsertionMarker(e){if(e){O.disable$$module$build$src$core$events$utils();try{e.dispose()}finally{O.enable$$module$build$src$core$events$utils()}}}};(dZ=(dZ=cm||(cm={})).PREVIEW_TYPE||(dZ.PREVIEW_TYPE={}))[dZ.INSERTION_MARKER=0]="INSERTION_MARKER",dZ[dZ.INPUT_OUTLINE=1]="INPUT_OUTLINE",dZ[dZ.REPLACEMENT_FADE=2]="REPLACEMENT_FADE";var c_=cm.PREVIEW_TYPE,cb={};cb.InsertionMarkerManager=cm,cb.PreviewType=c_;var cy=class{constructor(e){this.overrides=null,this.name=e}getClassName(){return this.name+"-renderer"}init(e,t){this.constants_=this.makeConstants_(),t&&(this.overrides=t,Object.assign(this.constants_,t)),this.constants_.setTheme(e),this.constants_.init()}createDom(e,t){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName())}refreshDom(e,t){let n=this.getConstants();n.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=n.randomIdentifier,this.constants_.setTheme(t),this.constants_.init(),this.createDom(e,t)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new u7}makeRenderInfo_(e){return new cl(this,e)}makeDrawer_(e,t){return new ct(e,t)}makeMarkerDrawer(e,t){return new cf(e,this.getConstants(),t)}makePathObject(e,t){return new cg(e,t,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(e){return!0}orphanCanConnectAtEnd(e,t,n){return!!cu.getConnectionForOrphanedConnection(e,n===uv.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}getConnectionPreviewMethod(e,t,n){return es("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),t.type===uv.OUTPUT_VALUE||t.type===uv.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(n,e.targetBlock(),t.type)?cm.PREVIEW_TYPE.INSERTION_MARKER:cm.PREVIEW_TYPE.REPLACEMENT_FADE:cm.PREVIEW_TYPE.INSERTION_MARKER}render(e){let t=this.makeRenderInfo_(e);t.measure(),this.makeDrawer_(e,t).draw()}},cT={};cT.BottomRow=uj,cT.Connection=uW,cT.ConstantProvider=u7,cT.Drawer=ct,cT.ExternalValueInput=uX,cT.Field=uY,cT.Hat=uK,cT.Icon=uJ,cT.InRowSpacer=uZ,cT.InlineInput=uq,cT.InputConnection=uz,cT.InputRow=u0,cT.JaggedEdge=u1,cT.MarkerSvg=cf,cT.Measurable=uV,cT.NextConnection=u2,cT.OutputConnection=u5,cT.PathObject=cg,cT.PreviousConnection=u3,cT.RenderInfo=cl,cT.Renderer=cy,cT.RoundCorner=u4,cT.Row=uG,cT.SpacerRow=u6,cT.SquareCorner=u8,cT.StatementInput=uQ,cT.TopRow=u9,cT.Types=uH,cT.init=rq,cT.register=rZ,cT.unregister=function(e){Q(A.RENDERER,e)};var cE=class{constructor(e,t){this.workspace=e,this.theme=t,this.subscribedWorkspaces=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(e){var t=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(t&&(t=t.getClassName())&&e6(e,t),(t=this.theme.getClassName())&&e3(e,t));for(let e=0,t;t=this.subscribedWorkspaces[e];e++)t.refreshTheme();for(let[n,o]of this.componentDB)for(let r of o){e=r.element,t=r.propertyName;let o=this.theme&&this.theme.getComponentStyle(n);e.style.setProperty(t,o||"")}for(let e of this.subscribedWorkspaces)e.hideChaff()}subscribeWorkspace(e){this.subscribedWorkspaces.push(e)}unsubscribeWorkspace(e){if(!e0(this.subscribedWorkspaces,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(e,t,n){this.componentDB.has(t)||this.componentDB.set(t,[]),this.componentDB.get(t).push({element:e,propertyName:n}),t=this.theme&&this.theme.getComponentStyle(t),e.style.setProperty(n,t||"")}unsubscribe(e){if(e)for(let[t,n]of this.componentDB){for(let t=n.length-1;0<=t;t--)n[t].element===e&&n.splice(t,1);n.length||this.componentDB.delete(t)}}dispose(){this.subscribedWorkspaces.length=0,this.componentDB.clear()}},cv="VARIABLE_DYNAMIC",cC={CATEGORY_NAME:cv};cC.flyoutCategory=r2,cC.flyoutCategoryBlocks=r5,cC.onCreateVariableButtonClick_Colour=r1,cC.onCreateVariableButtonClick_Number=r0,cC.onCreateVariableButtonClick_String=rQ;var cI=[];cI[uv.INPUT_VALUE]=uv.OUTPUT_VALUE,cI[uv.OUTPUT_VALUE]=uv.INPUT_VALUE,cI[uv.NEXT_STATEMENT]=uv.PREVIOUS_STATEMENT,cI[uv.PREVIOUS_STATEMENT]=uv.NEXT_STATEMENT;var cS="RENAME_VARIABLE_ID",cw="DELETE_VARIABLE_ID",ck=class{canConnect(e,t,n,o){return this.canConnectWithReason(e,t,n,o)===cu.CAN_CONNECT}canConnectWithReason(e,t,n,o){let r=this.doSafetyChecks(e,t);return r!==cu.CAN_CONNECT?r:this.doTypeChecks(e,t)?n&&!this.doDragChecks(e,t,o||0)?cu.REASON_DRAG_CHECKS_FAILED:cu.CAN_CONNECT:cu.REASON_CHECKS_FAILED}getErrorMessage(e,t,n){switch(e){case cu.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case cu.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case cu.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case cu.REASON_TARGET_NULL:return"Target connection is null.";case cu.REASON_CHECKS_FAILED:return"Connection checks failed. "+(t+" expected "+t.getCheck())+", found "+n.getCheck();case cu.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case cu.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case cu.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(e,t){let n,o,r;return e&&t?(e.isSuperior()?(n=e.getSourceBlock(),o=t.getSourceBlock(),r=t):(o=e.getSourceBlock(),n=t.getSourceBlock(),r=e,e=t),n===o?cu.REASON_SELF_CONNECTION:r.type!==cI[e.type]?cu.REASON_WRONG_TYPE:n.workspace!==o.workspace?cu.REASON_DIFFERENT_WORKSPACES:n.isShadow()&&!o.isShadow()?cu.REASON_SHADOW_PARENT:r.type===uv.OUTPUT_VALUE&&o.previousConnection&&o.previousConnection.isConnected()||r.type===uv.PREVIOUS_STATEMENT&&o.outputConnection&&o.outputConnection.isConnected()?cu.REASON_PREVIOUS_AND_OUTPUT:cu.CAN_CONNECT):cu.REASON_TARGET_NULL}doTypeChecks(e,t){if(e=e.getCheck(),t=t.getCheck(),!e||!t)return!0;for(let n=0;n<e.length;n++)if(t.includes(e[n]))return!0;return!1}doDragChecks(e,t,n){if(e.distanceFrom(t)>n||t.getSourceBlock().isInsertionMarker())return!1;switch(t.type){case uv.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,t);case uv.OUTPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case uv.INPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;case uv.NEXT_STATEMENT:if(t.isConnected()&&!e.getSourceBlock().nextConnection&&!t.targetBlock().isShadow()&&t.targetBlock().nextConnection||t.targetBlock()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;default:return!1}return!i0.includes(t)}canConnectToPrevious_(e,t){return!(e.targetConnection||i0.includes(t))&&(!t.targetConnection||!!(e=t.targetBlock()).isInsertionMarker()&&!e.getPreviousBlock())}};Z(A.CONNECTION_CHECKER,$,ck);var cO=class extends lD{constructor(e){super(e),this.type=iK.VAR_DELETE,e&&(this.varType=e.type,this.varName=e.name)}toJson(){let e=super.toJson();if(void 0===this.varType)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new cO)).varType=e.varType,t.varName=e.varName,t}run(e){let t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.deleteVariableById(this.varId):t.createVariable(this.varName,this.varType,this.varId)}};Z(A.EVENT,iK.VAR_DELETE,cO);var cR=class extends lD{constructor(e,t){super(e),this.type=iK.VAR_RENAME,e&&(this.oldName=e.name,this.newName=void 0===t?"":t)}toJson(){let e=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new cR)).oldName=e.oldName,t.newName=e.newName,t}run(e){let t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");e?t.renameVariableById(this.varId,this.newName):t.renameVariableById(this.varId,this.oldName)}};Z(A.EVENT,iK.VAR_RENAME,cR);var cx=class{constructor(e){this.workspace=e,this.variableMap=new Map}clear(){for(let e of this.variableMap.values())for(;0<e.length;)this.deleteVariable(e[0]);if(0!==this.variableMap.size)throw Error("Non-empty variable map")}renameVariable(e,t){if(e.name!==t){var n=this.getVariable(t,e.type),o=this.workspace.getAllBlocks(!1),r=O.getGroup$$module$build$src$core$events$utils();r||O.setGroup$$module$build$src$core$events$utils(!0);try{n&&n.getId()!==e.getId()?this.renameVariableWithConflict(e,t,n,o):this.renameVariableAndUses(e,t,o)}finally{O.setGroup$$module$build$src$core$events$utils(r)}}}renameVariableById(e,t){let n=this.getVariableById(e);if(!n)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(n,t)}renameVariableAndUses(e,t,n){for(eb(new(ew(iK.VAR_RENAME))(e,t)),e.name=t,t=0;t<n.length;t++)n[t].updateVarName(e)}renameVariableWithConflict(e,t,n,o){let r=e.type;for(t!==n.name&&this.renameVariableAndUses(n,t,o),t=0;t<o.length;t++)o[t].renameVarById(e.getId(),n.getId());eb(new(ew(iK.VAR_DELETE))(e)),e0(this.variableMap.get(r),e)}createVariable(e,t,n){var o=this.getVariable(e,t);if(o){if(n&&o.getId()!==n)throw Error('Variable "'+e+'" is already in use and its id is "'+o.getId()+'" which conflicts with the passed in id, "'+n+'".');return o}if(n&&this.getVariableById(n))throw Error('Variable id, "'+n+'", is already in use.');return o=n||ea(),t=t||"",o=new lB(this.workspace,e,t,o),(e=this.variableMap.get(t)||[]).push(o),this.variableMap.delete(t),this.variableMap.set(t,e),eb(new(ew(iK.VAR_CREATE))(o)),o}deleteVariable(e){let t=e.getId(),n=this.variableMap.get(e.type);if(n){for(let o=0;o<n.length;o++)if(n[o].getId()===t){n.splice(o,1),eb(new(ew(iK.VAR_DELETE))(e)),0===n.length&&this.variableMap.delete(e.type);break}}}deleteVariableById(e){let t=this.getVariableById(e);if(t){var n=t.name;let o=this.getVariableUsesById(e);for(let t=0,r;r=o[t];t++)if("procedures_defnoreturn"===r.type||"procedures_defreturn"===r.type){e=String(r.getFieldValue("NAME")),tJ(n=O.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",n).replace("%2",e));return}1<o.length?tZ(n=O.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(o.length)).replace("%2",n),e=>{e&&t&&this.deleteVariableInternal(t,o)}):this.deleteVariableInternal(t,o)}else console.warn("Can't delete non-existent variable: "+e)}deleteVariableInternal(e,t){let n=O.getGroup$$module$build$src$core$events$utils();n||O.setGroup$$module$build$src$core$events$utils(!0);try{for(let e=0;e<t.length;e++)t[e].dispose(!0);this.deleteVariable(e)}finally{O.setGroup$$module$build$src$core$events$utils(n)}}getVariable(e,t){if(t=this.variableMap.get(t||"")){for(let n=0,o;o=t[n];n++)if(O.Names$$module$build$src$core$names.equals(o.name,e))return o}return null}getVariableById(e){for(let t of this.variableMap.values())for(let n of t)if(n.getId()===e)return n;return null}getVariablesOfType(e){return(e=this.variableMap.get(e||""))?e.slice():[]}getVariableTypes(e){let t=new Set(this.variableMap.keys());if(e&&e.getPotentialVariableMap())for(let n of e.getPotentialVariableMap().variableMap.keys())t.add(n);return t.has("")||t.add(""),Array.from(t.values())}getAllVariables(){let e=[];for(let t of this.variableMap.values())e=e.concat(t);return e}getAllVariableNames(){return Array.from(this.variableMap.values()).flat().map(e=>e.name)}getVariableUsesById(e){let t=[],n=this.workspace.getAllBlocks(!1);for(let o=0;o<n.length;o++){let r=n[o].getVarModels();if(r)for(let i=0;i<r.length;i++)r[i].getId()===e&&t.push(n[o])}return t}},c$=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(e){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new uU,this.potentialVariableMap=null,this.id=ea(),ex(this),this.options=e||new ug({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(ei(A.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new cx(this)}dispose(){this.listeners.length=0,this.clear(),e$(this)}sortObjects(e,t){let n=Math.sin(nx(c$.SCAN_ANGLE))*(this.RTL?-1:1);return e=e.getRelativeToSurfaceXY(),t=t.getRelativeToSurfaceXY(),e.y+n*e.x-(t.y+n*t.x)}addTopBlock(e){this.topBlocks.push(e)}removeTopBlock(e){if(!e0(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(e=!1){let t=[].concat(this.topBlocks);return e&&1<t.length&&t.sort(this.sortObjects.bind(this)),t}addTypedBlock(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}removeTypedBlock(e){e0(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}getBlocksByType(e,t=!1){return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),t&&e&&1<e.length&&e.sort(this.sortObjects.bind(this)),e.filter(e=>!e.isInsertionMarker())):[]}addTopComment(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}removeTopComment(e){if(!e0(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}getTopComments(e=!1){let t=[].concat(this.topComments);return e&&1<t.length&&t.sort(this.sortObjects.bind(this)),t}getAllBlocks(e=!1){if(e){var t=this.getTopBlocks(!0);e=[];for(let n=0;n<t.length;n++)e.push(...t[n].getDescendants(!0))}else for(e=this.getTopBlocks(!1),t=0;t<e.length;t++)e.push(...e[t].getChildren(!1));return e.filter(e=>!e.isInsertionMarker())}clear(){this.isClearing=!0;try{let e=O.getGroup$$module$build$src$core$events$utils();for(e||O.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();O.setGroup$$module$build$src$core$events$utils(e),this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(e,t){this.variableMap.renameVariableById(e,t)}createVariable(e,t,n){return this.variableMap.createVariable(e,t,n)}getVariableUsesById(e){return this.variableMap.getVariableUsesById(e)}deleteVariableById(e){this.variableMap.deleteVariableById(e)}getVariable(e,t){return this.variableMap.getVariable(e,t)}getVariableById(e){return this.variableMap.getVariableById(e)}getVariablesOfType(e){return this.variableMap.getVariablesOfType(e)}getVariableTypes(){return this.variableMap.getVariableTypes(this)}getAllVariables(){return this.variableMap.getAllVariables()}getAllVariableNames(){return this.variableMap.getAllVariableNames()}getWidth(){return 0}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(e){return this.options.maxInstances?(void 0!==this.options.maxInstances[e]?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}isCapacityAvailable(e){if(!this.hasBlockLimits())return!0;let t=0;for(let n in e){if(e[n]>this.remainingCapacityOfType(n))return!1;t+=e[n]}return!(t>this.remainingCapacity())}hasBlockLimits(){return 1/0!==this.options.maxBlocks||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(e){var t=e?this.redoStack_:this.undoStack_,n=e?this.undoStack_:this.redoStack_;let o=t.pop();if(o){for(var r=[o];t.length&&o.group&&o.group===t[t.length-1].group;){let e=t.pop();e&&r.push(e)}for(t=0;t<r.length;t++)n.push(r[t]);O.setRecordUndo$$module$build$src$core$events$utils(!1);try{for(n=0;n<r.length;n++)r[n].run(e)}finally{O.setRecordUndo$$module$build$src$core$events$utils(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,ev()}addChangeListener(e){return this.listeners.push(e),e}removeChangeListener(e){e0(this.listeners,e)}fireChangeListener(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(let t=0;t<this.listeners.length;t++)(0,this.listeners[t])(e)}getBlockById(e){return this.blockDB.get(e)||null}setBlockById(e,t){this.blockDB.set(e,t)}removeBlockById(e){this.blockDB.delete(e)}getCommentById(e){let t;return null!=(t=this.commentDB.get(e))?t:null}allInputsFilled(e){let t=this.getTopBlocks(!1);for(let n=0;n<t.length;n++)if(!t[n].allInputsFilled(e))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new cx(this)}getVariableMap(){return this.variableMap}setVariableMap(e){this.variableMap=e}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let e=null,t=this.options.parentWorkspace;return this.isFlyout?t&&t.options&&(e=t.options.parentWorkspace):t&&(e=t),e}static getById(e){return eO(e)}static getAll(){return eR()}};c$.SCAN_ANGLE=3;var cA=class{constructor(e){this.parentWorkspace=e,this.sounds=new Map,this.lastSound=null,this.muted=!1}dispose(){this.sounds.clear()}load(e,t){if(e.length){try{var n=new globalThis.Audio}catch(e){return}for(let t=0;t<e.length;t++){let r=e[t],i=r.match(/\.(\w+)$/);if(i&&n.canPlayType("audio/"+i[1])){var o=new globalThis.Audio(r);break}}o&&this.sounds.set(t,o)}}preload(){for(let e of this.sounds.values()){e.volume=.01;let t=e.play();if(void 0!==t?t.then(e.pause).catch(function(){}):e.pause(),sk||sO)break}}play(e,t){if(!this.muted){var n=this.sounds.get(e);n?(e=new Date,null!==this.lastSound&&e.getTime()-this.lastSound.getTime()<100||(this.lastSound=e,(n=sk||sw?n:n.cloneNode()).volume=void 0===t?1:t,n.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,t)}}setMuted(e){this.muted=e}getMuted(){return this.muted}},cN=class extends c${constructor(e){let t;super(e),this.resizeHandlerWrapper=null,this.resizesEnabled=this.visible=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.inverseScreenCTM=this.targetWorkspace=this.dummyWheelListener=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=this.currentGesture_=this.toolbox=this.flyout=this.scrollbar=this.trashcan=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=this.layerManager=null,this.metricsManager=new(ei(A.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=e.setMetrics||cN.setTopLevelWorkspaceMetrics,this.componentManager=new sf,this.connectionDBList=ur.init(this.connectionChecker),this.audioManager=new cA(e.parentWorkspace),this.grid=this.options.gridPattern?new uc(this.options.gridPattern,e.gridOptions):null,this.markerManager=new ag(this),lV&&t2&&this.registerToolboxCategoryCallback(lF,t2),cC&&r2&&this.registerToolboxCategoryCallback(cv,r2),d3&&rP&&(this.registerToolboxCategoryCallback(d5,rP),this.addChangeListener(rF)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new cE(this,this.options.theme||uf),this.themeManager_.subscribeWorkspace(this),this.renderer=rq(this.options.renderer||"geras",this.getTheme(),null!=(t=this.options.rendererOverrides)?t:void 0),this.cachedParentSvgSize=new sV(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}setCursorSvg(e){this.markerManager.setCursorSvg(e)}setMarkerSvg(e){this.markerManager.setMarkerSvg(e)}getMarker(e){return this.markerManager?this.markerManager.getMarker(e):null}getCursor(){return this.markerManager?this.markerManager.getCursor():null}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(e){e||(e=uf),this.themeManager_.setTheme(e)}refreshTheme(){this.svgGroup_&&this.renderer.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles(this.getAllBlocks(!1).filter(e=>!!e.getStyleName())),this.refreshToolboxSelection(),this.toolbox&&this.toolbox.refreshTheme(),this.isVisible()&&this.setVisible(!0),eb(new(ew(iK.THEME_CHANGE))(this.getTheme().name,this.id))}updateBlockStyles(e){for(let t=0,n;n=e[t];t++){let e=n.getStyleName();e&&n.setStyle(e)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){let e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.visible}getSvgXY(e){let t=0,n=0,o=1;(this.getCanvas().contains(e)||this.getBubbleCanvas().contains(e))&&(o=this.scale);do{let r=tf(e);(e===this.getCanvas()||e===this.getBubbleCanvas())&&(o=1),t+=r.x*o,n+=r.y*o,e=e.parentNode}while(e&&e!==this.getParentSvg()&&e!==this.getInjectionDiv())return new sA(t,n)}getCachedParentSvgSize(){let e=this.cachedParentSvgSize;return new sV(e.width,e.height)}getOriginOffsetInPixels(){return tg(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let e=this.svgGroup_;for(;e;){if((" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv ")){this.injectionDiv=e;break}e=e.parentNode}}return this.injectionDiv}getSvgGroup(){return this.svgGroup_}getBlockCanvas(){return this.getCanvas()}setResizeHandlerWrapper(e){this.resizeHandlerWrapper=e}createDom(e,t){return this.injectionDiv||(this.injectionDiv=null!=t?t:null),this.svgGroup_=e5(sU.G,{class:"blocklyWorkspace"}),e&&(this.svgBackground_=e5(sU.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),"blocklyMainBackground"===e&&this.grid?this.svgBackground_.style.fill="url(#"+this.grid.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.layerManager=new ud(this),this.svgBlockCanvas_=this.layerManager.getBlockLayer(),this.svgBubbleCanvas_=this.layerManager.getBubbleLayer(),this.isFlyout||(eX(this.svgGroup_,"pointerdown",this,this.onMouseDown,!1),this.dummyWheelListener=()=>{},document.body.addEventListener("wheel",this.dummyWheelListener),eX(this.svgGroup_,"wheel",this,this.onMouseWheel)),this.options.hasCategories&&(this.toolbox=new(ei(A.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=ei(A.CURSOR,this.options))&&this.markerManager.setCursor(new e),this.renderer.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&e8(this.svgGroup_),this.toolbox&&(this.toolbox.dispose(),this.toolbox=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager&&this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){let e=this.getParentSvg();e&&e.parentNode&&e8(e.parentNode)}this.resizeHandlerWrapper&&(eK(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null),this.dummyWheelListener&&(document.body.removeEventListener("wheel",this.dummyWheelListener),this.dummyWheelListener=null)}addTrashcan(){this.trashcan=cN.newTrashcan(this);let e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.getCanvas())}static newTrashcan(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new lt(this);let e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}copyOptionsForFlyout(){return new ug({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,plugins:this.options.plugins,modalInputs:this.options.modalInputs,move:{scrollbars:!0}})}addFlyout(e){let t=this.copyOptionsForFlyout();return t.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(ei(A.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(t):new(ei(A.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(t),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}getFlyout(e){return this.flyout||e?this.flyout:this.toolbox?this.toolbox.getFlyout():null}getToolbox(){return this.toolbox}updateScreenCalculations(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox&&this.toolbox.position(),this.flyout&&this.flyout.position();let e=this.componentManager.getComponents(sf.Capability.POSITIONABLE,!0),t=this.getMetricsManager().getUiMetrics(),n=[];for(let o=0,r;r=e[o];o++){r.position(t,n);let e=r.getBoundingRectangle();e&&n.push(e)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations()}updateScreenCalculationsIfScrolled(){let e=t_();sA.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations())}getLayerManager(){return this.layerManager}getCanvas(){return this.layerManager.getBlockLayer()}setCachedParentSvgSize(e,t){let n=this.getParentSvg();null!=e&&(this.cachedParentSvgSize.width=e,n.setAttribute("data-cached-width",`${e}`)),null!=t&&(this.cachedParentSvgSize.height=t,n.setAttribute("data-cached-height",`${t}`))}getBubbleCanvas(){return this.layerManager.getBubbleLayer()}getParentSvg(){if(!this.cachedParentSvg){let e=this.svgGroup_;for(;e;){if("svg"===e.tagName){this.cachedParentSvg=e;break}e=e.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(eC()){var e=this.scale,t=-this.scrollY,n=-this.scrollX;if(!(e===this.oldScale&&1>Math.abs(t-this.oldTop)&&1>Math.abs(n-this.oldLeft))){var o=new(ew(iK.VIEWPORT_CHANGE))(t,n,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=t,this.oldLeft=n,eb(o)}}}translate(e,t){let n,o;null==(n=this.layerManager)||n.translateLayers(new sA(e,t),this.scale),null==(o=this.grid)||o.moveTo(e,t),this.maybeFireViewportChangeEvent()}getWidth(){let e=this.getMetrics();return e?e.viewWidth/this.scale:0}setVisible(e){this.visible=e,this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox&&this.toolbox.setVisible(e),e||this.hideChaff(!0))}render(){let e=this.getAllBlocks(!1);for(let t=e.length-1;0<=t;t--)e[t].queueRender();this.getTopBlocks().flatMap(e=>e.getDescendants(!1)).filter(e=>e.isInsertionMarker()).forEach(e=>e.queueRender()),tV().then(()=>void this.markerManager.updateMarkers())}highlightBlock(e,t){if(void 0===t){for(let e=0,t;t=this.highlightedBlocks[e];e++)t.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((t=void 0===t||t)?this.highlightedBlocks.includes(e)||this.highlightedBlocks.push(e):e0(this.highlightedBlocks,e),e.setHighlighted(t))}refreshToolboxSelection(){let e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox&&e.toolbox.getFlyout()&&e.toolbox.refreshSelection()}renameVariableById(e,t){super.renameVariableById(e,t),this.refreshToolboxSelection()}deleteVariableById(e){super.deleteVariableById(e),this.refreshToolboxSelection()}createVariable(e,t,n){return e=super.createVariable(e,t,n),this.refreshToolboxSelection(),e}recordDragTargets(){let e=this.componentManager.getComponents(sf.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let t=0,n;n=e[t];t++){let e=n.getClientRect();e&&this.dragTargetAreas.push({component:n,clientRect:e})}}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}getDragTarget(e){for(let t=0,n;n=this.dragTargetAreas[t];t++)if(n.clientRect.contains(e.clientX,e.clientY))return n.component;return null}onMouseDown(e){let t=this.getGesture(e);t&&t.handleWsStart(e,this)}startDrag(e,t){oj(this,e,t)}moveDrag(e){return oW(this,e)}isDragging(){return null!==this.currentGesture_&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){let e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){let e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}onMouseWheel(e){if(uu.inProgress())e.preventDefault(),e.stopPropagation();else{var t=this.options.zoomOptions&&this.options.zoomOptions.wheel,n=this.options.moveOptions&&this.options.moveOptions.wheel;if(t||n){var o=eQ(e);if(sa)var r=e.metaKey;t&&(e.ctrlKey||r||!n)?(o=-o.y/50,t=eq(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(t.x,t.y,o)):(t=this.scrollX-o.x,n=this.scrollY-o.y,e.shiftKey&&!o.x&&(t=this.scrollX-o.y,n=this.scrollY),this.scroll(t,n)),e.preventDefault()}}}getBlocksBoundingBox(){let e=this.getTopBoundedElements();if(!e.length)return new sH(0,0,0,0);let t=e[0].getBoundingRectangle();for(let o=1;o<e.length;o++){var n=e[o];n.isInsertionMarker&&n.isInsertionMarker()||((n=n.getBoundingRectangle()).top<t.top&&(t.top=n.top),n.bottom>t.bottom&&(t.bottom=n.bottom),n.left<t.left&&(t.left=n.left),n.right>t.right&&(t.right=n.right))}return t}cleanUp(){this.setResizesEnabled(!1),O.setGroup$$module$build$src$core$events$utils(!0);var e=this.getTopBlocks(!0),t=e.filter(e=>e.isMovable());let n=e.filter(e=>!e.isMovable()).map(e=>e.getBoundingRectangle());e=function(e){for(let t of n)if(e.intersects(t))return t;return null};var o=0;let r=this.renderer.getConstants().MIN_BLOCK_HEIGHT;for(let n of t){for(t=n.getBoundingRectangle(),n.moveBy(-t.left,o-t.top,["cleanup"]),n.snapToGrid(),o=e(t=n.getBoundingRectangle());null!=o;)o=o.top+o.getHeight()+r,n.moveBy(0,o-t.top,["cleanup"]),n.snapToGrid(),o=e(t=n.getBoundingRectangle());o=n.getRelativeToSurfaceXY().y+n.getHeightWidth().height+r}O.setGroup$$module$build$src$core$events$utils(!1),this.setResizesEnabled(!0)}showContextMenu(e){if(!this.options.readOnly&&!this.isFlyout){var t=a0.registry.getContextMenuOptions(a0.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(t,e),oD(e,t,this.RTL,this)}}updateToolbox(e){if(e=tT(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(tC(e)){if(!this.toolbox)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(eN(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(e,t,n){n=Math.pow(this.options.zoomOptions.scaleSpeed,n);let o=this.scale*n;if(this.scale!==o){o>this.options.zoomOptions.maxScale?n=this.options.zoomOptions.maxScale/this.scale:o<this.options.zoomOptions.minScale&&(n=this.options.zoomOptions.minScale/this.scale);var r=this.getCanvas().getCTM(),i=this.getParentSvg().createSVGPoint();i.x=e,i.y=t,e=(i=i.matrixTransform(r.inverse())).x,t=i.y,r=r.translate(e*(1-n),t*(1-n)).scale(n),this.scrollX=r.e,this.scrollY=r.f,this.setScale(o)}}zoomCenter(e){let t;var n=this.getMetrics();this.flyout?(t=n.svgWidth?n.svgWidth/2:0,n=n.svgHeight?n.svgHeight/2:0):(t=n.viewWidth/2+n.absoluteLeft,n=n.viewHeight/2+n.absoluteTop),this.zoom(t,n,e)}zoomToFit(){if(this.isMovable()){var e=this.getMetrics(),t=e.viewWidth;e=e.viewHeight;var n=this.getBlocksBoundingBox(),o=n.right-n.left+40;if(n=n.bottom-n.top+40,o){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),n+=this.flyout.getHeight()/this.scale):(t+=this.flyout.getWidth(),o+=this.flyout.getWidth()/this.scale)),t/=o,e/=n,O.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(t,e)),this.scrollCenter()}finally{O.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){e3(this.getCanvas(),"blocklyCanvasTransitioning"),e3(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}endCanvasTransition(){e6(this.getCanvas(),"blocklyCanvasTransitioning"),e6(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var e=this.getMetrics(),t=(e.scrollWidth-e.viewWidth)/2,n=(e.scrollHeight-e.viewHeight)/2;t=-t-e.scrollLeft,n=-n-e.scrollTop,this.scroll(t,n)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(e,t){if(this.isMovable()){var n=e?this.getBlockById(e):null;if(n){e=n.getRelativeToSurfaceXY(),n=t?{height:n.height,width:n.width}:n.getHeightWidth();var o=this.scale;t=(e.x+(this.RTL?-1:1)*n.width/2)*o,e=(e.y+n.height/2)*o,n=this.getMetrics(),this.scroll(-(t-n.viewWidth/2),-(e-n.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}getScale(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale}scroll(e,t){this.hideChaff(!0);let n=this.getMetrics();e=Math.min(e,-n.scrollLeft),t=Math.min(t,-n.scrollTop);let o=n.scrollTop+Math.max(0,n.scrollHeight-n.viewHeight);e=Math.max(e,-(n.scrollLeft+Math.max(0,n.scrollWidth-n.viewWidth))),t=Math.max(t,-o),this.scrollX=e,this.scrollY=t,this.scrollbar&&this.scrollbar.set(-(e+n.scrollLeft),-(t+n.scrollTop),!1),e+=n.absoluteLeft,t+=n.absoluteTop,this.translate(e,t)}getBlockById(e){return super.getBlockById(e)}getAllBlocks(e=!1){return super.getAllBlocks(e)}getTopBlocks(e=!1){return super.getTopBlocks(e)}addTopBlock(e){this.addTopBoundedElement(e),super.addTopBlock(e)}removeTopBlock(e){this.removeTopBoundedElement(e),super.removeTopBlock(e)}addTopComment(e){this.addTopBoundedElement(e),super.addTopComment(e)}removeTopComment(e){this.removeTopBoundedElement(e),super.removeTopComment(e)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(e){this.topBoundedElements.push(e)}removeTopBoundedElement(e){e0(this.topBoundedElements,e)}getTopBoundedElements(){return[].concat(this.topBoundedElements)}setResizesEnabled(e){let t=!this.resizesEnabled&&e;this.resizesEnabled=e,t&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(e,t){if("function"!=typeof t)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,t)}getButtonCallback(e){let t;return null!=(t=this.flyoutButtonCallbacks.get(e))?t:null}removeButtonCallback(e){this.flyoutButtonCallbacks.delete(e)}registerToolboxCategoryCallback(e,t){if("function"!=typeof t)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,t)}getToolboxCategoryCallback(e){return this.toolboxCategoryCallbacks.get(e)||null}removeToolboxCategoryCallback(e){this.toolboxCategoryCallbacks.delete(e)}getGesture(e){let t="pointerdown"===e.type,n=this.currentGesture_;return n?t&&n.hasStarted()?(console.warn("Tried to start the same gesture twice."),n.cancel(),null):n:t?this.currentGesture_=new uu(e,this):null}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(e=!1){or(),oR(this),nK(),this.hideComponents(e)}hideComponents(e=!1){this.getComponentManager().getComponents(sf.Capability.AUTOHIDEABLE,!0).forEach(t=>t.autoHide(e))}static setTopLevelWorkspaceMetrics(e){let t=this.getMetrics();"number"==typeof e.x&&(this.scrollX=-(t.scrollLeft+(t.scrollWidth-t.viewWidth)*e.x)),"number"==typeof e.y&&(this.scrollY=-(t.scrollTop+(t.scrollHeight-t.viewHeight)*e.y)),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)}},cM={};cM.WorkspaceSvg=cN,cM.resizeSvgContents=function(e){e.resizeContents()};var cL=class extends i4{constructor(e,t,n){super(n),this.type=iK.SELECTED,this.oldElementId=null!=e?e:void 0,this.newElementId=null!=t?t:void 0}toJson(){let e=super.toJson();return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new cL)).oldElementId=e.oldElementId,t.newElementId=e.newElementId,t}};Z(A.EVENT,iK.SELECTED,cL);var cD=class{paste(e,t,n){let o;if(!t.isCapacityAvailable(e.typeCounts))return null;n&&(e.blockState.x=n.x,e.blockState.y=n.y),n=n||new sA(e.blockState.x||0,e.blockState.y||0),O.disable$$module$build$src$core$events$utils();try{o=ng(e.blockState,t),r3(o,n)}finally{O.enable$$module$build$src$core$events$utils()}return o&&(eC()&&!o.isShadow()&&eb(new(ew(iK.BLOCK_CREATE))(o)),O.setSelected$$module$build$src$core$common(o)),o}};cD.TYPE="block",tL(cD.TYPE,new cD);var cP={};cP.BlockPaster=cD,cP.moveBlockToNotConflict=r3;var cB={};cB.bumpIntoBounds=r8,cB.bumpIntoBoundsHandler=r9,cB.bumpTopObjectsIntoBounds=ie;var cF=class{constructor(e){this.block=e,this.connectionPreviewer=this.connectionCandidate=this.startLoc=this.startChildConn=this.startParentConn=null,this.dragging=!1,this.dragOffset=new sA(0,0),this.inGroup=!1,this.workspace=e.workspace}isMovable(){if(this.block.isShadow()){let e,t;return null!=(t=null==(e=this.block.getParent())?void 0:e.isMovable())&&t}return this.block.isOwnMovable()&&!this.block.isDeadOrDying()&&!this.workspace.options.readOnly&&!this.block.isInFlyout}startDrag(e){if(this.block.isShadow())this.startDraggingShadow(e);else{var t;this.dragging=!0,(this.inGroup=!!O.getGroup$$module$build$src$core$events$utils())||O.setGroup$$module$build$src$core$events$utils(!0),this.fireDragStartEvent(),this.startLoc=this.block.getRelativeToSurfaceXY(),this.connectionCandidate=null,this.connectionPreviewer=new(ei(A.CONNECTION_PREVIEWER,this.workspace.options))(this.block),te(),this.workspace.setResizesEnabled(!1),ru(),e=!!e&&(e.altKey||e.ctrlKey||e.metaKey),this.shouldDisconnect(e)&&this.disconnectBlock(e),this.block.setDragging(!0),null==(t=this.workspace.getLayerManager())||t.moveToDragLayer(this.block)}}startDraggingShadow(e){let t=this.block.getParent();if(!t)throw Error("Tried to drag a shadow block with no parent. Shadow blocks should always have parents.");this.dragOffset=sA.difference(t.getRelativeToSurfaceXY(),this.block.getRelativeToSurfaceXY()),t.startDrag(e)}shouldDisconnect(e){return!!(this.block.getParent()||e&&this.block.nextConnection&&this.block.nextConnection.targetBlock())}disconnectBlock(e){let t,n,o;if(this.startParentConn=null!=(o=null==(t=this.block.outputConnection)?void 0:t.targetConnection)?o:null==(n=this.block.previousConnection)?void 0:n.targetConnection,e){let e;this.startChildConn=null==(e=this.block.nextConnection)?void 0:e.targetConnection}this.block.unplug(e),rl(this.block)}fireDragStartEvent(){eb(new(ew(iK.BLOCK_DRAG))(this.block,!0,this.block.getDescendants(!1)))}fireDragEndEvent(){eb(new(ew(iK.BLOCK_DRAG))(this.block,!1,this.block.getDescendants(!1)))}fireMoveEvent(){if(!this.block.isDeadOrDying()){var e=new(ew(iK.BLOCK_MOVE))(this.block);e.setReason(["drag"]),e.oldCoordinate=this.startLoc,e.recordNew(),eb(e)}}drag(e){if(this.block.isShadow()){let t;null==(t=this.block.getParent())||t.drag(sA.sum(e,this.dragOffset))}else this.block.moveDuringDrag(e),this.updateConnectionPreview(this.block,sA.difference(e,this.startLoc))}updateConnectionPreview(e,t){var n=this.connectionCandidate;let o=this.getConnectionCandidate(e,t);if(o){this.connectionCandidate=t=n&&this.currCandidateIsBetter(n,t,o)?n:o;var{local:r,neighbour:i}=t;t=r.type===uv.OUTPUT_VALUE||r.type===uv.PREVIOUS_STATEMENT,n=i.isConnected()&&!i.targetBlock().isInsertionMarker(),t&&n&&!this.orphanCanConnectAtEnd(e,i.targetBlock(),r.type)?this.connectionPreviewer.previewReplacement(r,i,i.targetBlock()):this.connectionPreviewer.previewConnection(r,i)}else this.connectionPreviewer.hidePreview(),this.connectionCandidate=null}orphanCanConnectAtEnd(e,t,n){return!!cu.getConnectionForOrphanedConnection(e,n===uv.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}currCandidateIsBetter(e,t,n){let{local:o,neighbour:r}=e;e=new sA(o.x,o.y);let i=new sA(r.x,r.y);return t=sA.distance(sA.sum(e,t),i),n.distance>t-O.config$$module$build$src$core$config.currentConnectionPreference}getConnectionCandidate(e,t){e=this.getLocalConnections(e);let n=this.connectionCandidate?O.config$$module$build$src$core$config.connectingSnapRadius:O.config$$module$build$src$core$config.snapRadius,o=null;for(let r of e){let{connection:e,radius:i}=r.closest(n,t);e&&(o={local:r,neighbour:e,distance:i},n=i)}return o}getLocalConnections(e){let t=e.getConnections_(!1),n=e.lastConnectionInStack(!0);return n&&n!==e.nextConnection&&t.push(n),t}endDrag(e){if(this.block.isShadow()){let t;null==(t=this.block.getParent())||t.endDrag(e)}else{if(this.fireDragEndEvent(),this.fireMoveEvent(),tt(),ru(),this.connectionPreviewer.hidePreview(),!this.block.isDeadOrDying()&&this.dragging){let e;null==(e=this.workspace.getLayerManager())||e.moveOffDragLayer(this.block,50),this.block.setDragging(!1)}this.connectionCandidate?(this.applyConnections(this.connectionCandidate),this.disposeStep()):this.block.queueRender().then(()=>this.disposeStep()),this.inGroup||O.setGroup$$module$build$src$core$events$utils(!1)}}disposeStep(){this.block.snapToGrid(),this.connectionPreviewer.dispose(),this.workspace.setResizesEnabled(!0)}applyConnections(e){let{local:t,neighbour:n}=e;t.connect(n);let o=t.isSuperior()?n:t,r=this.block.getRootBlock();tV().then(()=>{rs(o.getSourceBlock()),setTimeout(()=>{r.bringToFront()},0)})}revertDrag(){if(this.block.isShadow()){let e;null==(e=this.block.getParent())||e.revertDrag()}else{var e;if(null==(e=this.startChildConn)||e.connect(this.block.nextConnection),this.startParentConn)switch(this.startParentConn.type){case uv.INPUT_VALUE:this.startParentConn.connect(this.block.outputConnection);break;case uv.NEXT_STATEMENT:this.startParentConn.connect(this.block.previousConnection)}else{let e;this.block.moveTo(this.startLoc,["drag"]),null==(e=this.workspace.getLayerManager())||e.moveOffDragLayer(this.block,50),r8(this.workspace,this.workspace.getMetricsManager().getScrollMetrics(!0),this.block)}this.startParentConn=this.startChildConn=null,this.connectionPreviewer.hidePreview(),this.connectionCandidate=null,this.block.setDragging(!1),this.dragging=!1}}},cU=class{constructor(){this.drawer=this.curNode=this.colour=null,this.type="marker"}setDrawer(e){this.drawer=e}getDrawer(){return this.drawer}getCurNode(){return this.curNode}setCurNode(e){let t=this.curNode;this.curNode=e,this.drawer&&this.drawer.draw(t,this.curNode)}draw(){this.drawer&&this.drawer.draw(this.curNode,this.curNode)}hide(){this.drawer&&this.drawer.hide()}dispose(){this.getDrawer()&&this.getDrawer().dispose()}},cH=class extends cU{constructor(){super(),this.type="cursor"}next(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()===ch.types.NEXT||e.getType()===ch.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e}in(){let e,t;var n=this.getCurNode();return n?((n.getType()===ch.types.PREVIOUS||n.getType()===ch.types.OUTPUT)&&(n=n.next()),(n=null!=(t=null==(e=n)?void 0:e.in())?t:null)&&this.setCurNode(n),n):null}prev(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()===ch.types.NEXT||e.getType()===ch.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e}out(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()===ch.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null}};Z(A.CURSOR,$,cH);var cV=class extends cH{constructor(){super()}next(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null}in(){return this.next()}prev(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null}out(){return this.prev()}getNextNode_(e,t){if(!e)return null;let n=e.in()||e.next();return t(n)?n:n?this.getNextNode_(n,t):t(e=this.findSiblingOrParent(e.out()))?e:e?this.getNextNode_(e,t):null}getPreviousNode_(e,t){if(!e)return null;let n=e.prev();return t(n=n?this.getRightMostChild(n):e.out())?n:n?this.getPreviousNode_(n,t):null}validNode_(e){let t=!1;return((e=e&&e.getType())===ch.types.OUTPUT||e===ch.types.INPUT||e===ch.types.FIELD||e===ch.types.NEXT||e===ch.types.PREVIOUS||e===ch.types.WORKSPACE)&&(t=!0),t}findSiblingOrParent(e){return e?e.next()||this.findSiblingOrParent(e.out()):null}getRightMostChild(e){if(!e.in())return e;for(e=e.in();e&&e.next();)e=e.next();return this.getRightMostChild(e)}};cV.registrationName="basicCursor",Z(A.CURSOR,cV.registrationName,cV);var cG=class extends cV{validNode_(e){let t=!1,n=e&&e.getType();return e&&(e=e.getLocation(),n===ch.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(t=!0)),t}},cj=class extends cu{constructor(e,t){super(e,t),this.highlighted=!1,this.targetConnection=null,this.db=e.workspace.connectionDBList[t],this.dbOpposite=e.workspace.connectionDBList[cI[t]],this.offsetInBlock=new sA(0,0),this.trackedState=cj.TrackedState.WILL_TRACK}dispose(){let e,t;super.dispose(),this.trackedState===cj.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),null==(t=(e=this.sourceBlock_.pathObject).removeConnectionHighlight)||t.call(e,this)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(e){let t=this.x-e.x;return Math.sqrt(t*t+(e=this.y-e.y)*e)}bumpAwayFrom(e,t=!1){if(!this.sourceBlock_.workspace.isDragging()){var n=O.config$$module$build$src$core$config.snapRadius+Math.floor(10*Math.random()),o=O.config$$module$build$src$core$config.snapRadius+Math.floor(10*Math.random()),r=e.sourceBlock_.getRootBlock(),i=this.sourceBlock_.getRootBlock();if(!r.isInFlyout&&!i.isInFlyout){var s=!0;if(i.isMovable())r.isMovable()&&t&&(o=-o);else{if(!r.isMovable())return;s=!1,n=-n,o=-o}t=s?e:this,e=s?this:e,r=s?i:r,(i=eM()===r)||r.addSelect(),r.RTL&&(n=-n),r.moveBy(t.x+n-e.x,t.y+o-e.y,["bump"]),i||r.removeSelect()}}}moveTo(e,t){let n=!1;return this.trackedState===cj.TrackedState.WILL_TRACK?(this.db.addConnection(this,t),this.trackedState=cj.TrackedState.TRACKED,n=!0):this.trackedState===cj.TrackedState.TRACKED&&(this.db.removeConnection(this,this.y),this.db.addConnection(this,t),n=!0),this.x=e,this.y=t,n}moveBy(e,t){return this.moveTo(this.x+e,this.y+t)}moveToOffset(e){return this.moveTo(e.x+this.offsetInBlock.x,e.y+this.offsetInBlock.y)}setOffsetInBlock(e,t){this.offsetInBlock.x=e,this.offsetInBlock.y=t}getOffsetInBlock(){return this.offsetInBlock}tightenEfficiently(){var e=this.targetConnection;let t=this.targetBlock();e&&t&&(e=sA.difference(this.offsetInBlock,e.offsetInBlock),t.translate(e.x,e.y))}closest(e,t){return this.dbOpposite.searchForClosest(this,e,t)}highlight(){this.highlighted=!0,this.getSourceBlock().queueRender()}unhighlight(){this.highlighted=!1,this.getSourceBlock().queueRender()}isHighlighted(){return this.highlighted}setTracking(e){e&&this.trackedState===cj.TrackedState.TRACKED||!e&&this.trackedState===cj.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db.addConnection(this,this.y),this.trackedState=cj.TrackedState.TRACKED):(this.trackedState===cj.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=cj.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){let e=this.targetBlock().getDescendants(!1);for(let t=0;t<e.length;t++){let n=e[t],o=n.getConnections_(!0);for(let e=0;e<o.length;e++)o[e].setTracking(!1);for(let e of n.getIcons())nR(e)&&e.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let e=[];if(this.type!==uv.INPUT_VALUE&&this.type!==uv.NEXT_STATEMENT)return e;let t=this.targetBlock();if(t){let n;t.isCollapsed()?(n=[],t.outputConnection&&n.push(t.outputConnection),t.nextConnection&&n.push(t.nextConnection),t.previousConnection&&n.push(t.previousConnection)):n=t.getConnections_(!0);for(let t=0;t<n.length;t++)e.push(...n[t].startTrackingAll());e.length||(e=[t])}return e}onFailedConnect(e){let t=this.getSourceBlock();if(e_()){let n=O.getGroup$$module$build$src$core$events$utils();setTimeout((function(){t.isDisposed()||t.getParent()||(O.setGroup$$module$build$src$core$events$utils(n),this.bumpAwayFrom(e),O.setGroup$$module$build$src$core$events$utils(!1))}).bind(this),O.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(e=!0){let{parentConnection:t,childConnection:n}=this.getParentAndChildConnections();if(t&&n){var o=O.getGroup$$module$build$src$core$events$utils();o||O.setGroup$$module$build$src$core$events$utils(!0);var r=t.getSourceBlock(),i=n.getSourceBlock();super.disconnectInternal(e),r.queueRender(),i.updateDisabled(),i.queueRender(),i.getSvgRoot().style.display="block",O.setGroup$$module$build$src$core$events$utils(o)}}respawnShadow_(){super.respawnShadow_();let e=this.targetBlock();e&&(e.initSvg(),e.queueRender())}neighbours(e){return this.dbOpposite.getNeighbours(this,e)}connect_(e){super.connect_(e);var t=this.getSourceBlock();e=e.getSourceBlock(),t.updateDisabled(),e.updateDisabled(),e.queueRender();var n=eM();(n=n===t&&t||n===e&&e)&&(n.removeSelect(),n.addSelect()),(t=t.getInputWithBlock(e))&&(t=t.isVisible(),e.getSvgRoot().style.display=t?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return super.setCheck(e),this.sourceBlock_.queueRender(),this}};(dq=(dq=cj||(cj={})).TrackedState||(dq.TrackedState={}))[dq.WILL_TRACK=-1]="WILL_TRACK",dq[dq.UNTRACKED=0]="UNTRACKED",dq[dq.TRACKED=1]="TRACKED";var cW=cj.TrackedState,cz={};cz.RenderedConnection=cj,cz.TrackedState=cW;var cX=class extends cc{constructor(e,t,n){if(super(e,t,n),this.childlessWidth=this.width=this.height=0,this.warningTextDb=new Map,this.mutator=null,this.rendered=!0,this.visuallyDisabled=!1,this.translation="",this.dragging=!1,this.relativeCoords=new sA(0,0),this.dragStrategy=new cF(this),!e.rendered)throw TypeError("Cannot create a rendered block in a headless workspace");this.workspace=e,this.svgGroup=e5(sU.G,{}),this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup,this.style),(e=this.pathObject.svgPath).tooltip=this,n9(e),this.svgGroup.setAttribute("data-id",this.id),this.doInit_()}initSvg(){if(!this.initialized){for(var e of this.inputList)e.init();for(let e of this.getIcons())e.initView(this.createIconPointerDownListener(e)),e.updateEditable();this.applyColour(),this.pathObject.updateMovable(this.isMovable()||this.isInFlyout),e=this.getSvgRoot(),!this.workspace.options.readOnly&&e&&eX(e,"pointerdown",this,this.onMouseDown),e.parentNode||this.workspace.getCanvas().appendChild(e),this.initialized=!0}}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){if(this.isShadow()){let e;null==(e=this.getParent())||e.select()}else this.addSelect()}unselect(){if(this.isShadow()){let e;null==(e=this.getParent())||e.unselect()}else this.removeSelect()}setParent(e){let t=this.parentBlock_;if(e!==t){te(),super.setParent(e),tt();var n=this.getSvgRoot();if(!this.workspace.isClearing&&n){var o=this.getRelativeToSurfaceXY();e?e.getSvgRoot().appendChild(n):t&&((e=this.workspace.getCanvas().querySelector(".blocklyDragging"))?this.workspace.getCanvas().insertBefore(n,e):this.workspace.getCanvas().appendChild(n),this.translate(o.x,o.y)),this.applyColour()}}}getRelativeToSurfaceXY(){let e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");let t=0,n=0,o=this.getSvgRoot();if(o)do{let e=tf(o);t+=e.x,n+=e.y,o=o.parentNode}while(o&&!e.hasLayer(o))return new sA(t,n)}moveBy(e,t,n){if(this.parentBlock_)throw Error("Block has parent");let o=eC(),r=null;o&&(r=new(ew(iK.BLOCK_MOVE))(this),n&&r.setReason(n)),e=new sA(e,t),t=this.getRelativeToSurfaceXY(),e=sA.sum(t,e),this.translate(e.x,e.y),this.updateComponentLocations(e),o&&r&&(r.recordNew(),eb(r)),this.workspace.resizeContents()}translate(e,t){this.translation=`translate(${e}, ${t})`,this.relativeCoords=new sA(e,t),this.getSvgRoot().setAttribute("transform",this.getTranslation())}getTranslation(){return this.translation}moveTo(e,t){let n=this.getRelativeToSurfaceXY();this.moveBy(e.x-n.x,e.y-n.y,t)}moveDuringDrag(e){this.translate(e.x,e.y),this.getSvgRoot().setAttribute("transform",this.getTranslation()),this.updateComponentLocations(e)}snapToGrid(){if(!this.isDeadOrDying()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(null!=e&&e.shouldSnap()){var t=this.getRelativeToSurfaceXY();(e=e.alignXY(t))!==t&&this.moveTo(e,["snap"])}}}getBoundingRectangle(){return this.getBoundingRectangleWithDimensions(this.getHeightWidth())}getBoundingRectangleWithoutChildren(){return this.getBoundingRectangleWithDimensions({height:this.height,width:this.childlessWidth})}getBoundingRectangleWithDimensions(e){let t,n,o=this.getRelativeToSurfaceXY();return this.RTL?(t=o.x-e.width,n=o.x):(t=o.x,n=o.x+e.width),new sH(o.y,o.y+e.height,t,n)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let e=0,t;t=this.inputList[e];e++)t.markDirty()}setCollapsed(e){this.collapsed_!==e&&(super.setCollapsed(e),this.updateCollapsed())}updateCollapsed(){var e=this.isCollapsed();for(let t=0,n;n=this.inputList[t];t++)n.name!==lT&&n.setVisible(!e);for(var t of this.getIcons())t.updateCollapsed();e?(e=this.toString(30),(t=this.getField(lE))?t.setValue(e):(this.getInput(lT)||this.appendDummyInput(lT)).appendField(new cn(e),lE)):(this.updateDisabled(),this.removeInput(lT))}tab(e,t){let n=new cG;n.setCurNode(ch.createFieldNode(e)),e=n.getCurNode(),t?n.next():n.prev(),(t=n.getCurNode())&&t!==e&&(t.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(t))}onMouseDown(e){let t=this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)}showHelp(){let e="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;e&&window.open(e)}generateContextMenu(){if(this.workspace.options.readOnly||!this.contextMenu)return null;let e=a0.registry.getContextMenuOptions(a0.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e}showContextMenu(e){let t=this.generateContextMenu();t&&t.length&&(oD(e,t,this.RTL,this.workspace),oL(this))}updateComponentLocations(e){for(let t of(this.dragging||this.updateConnectionLocations(e),this.updateIconLocations(e),this.updateFieldLocations(e),this.getChildren(!1)))t.updateComponentLocations(sA.sum(e,t.relativeCoords))}updateConnectionLocations(e){for(let t of this.getConnections_(!1))t.moveToOffset(e)}updateIconLocations(e){for(let t of this.getIcons())t.onLocationChange(e)}updateFieldLocations(e){for(let t of this.inputList)for(let n of t.fieldRow)n.onLocationChange(e)}setDragging(e){(this.dragging=e)?(this.translation="",i0.push(...this.getConnections_(!0)),e3(this.svgGroup,"blocklyDragging")):(i0.length=0,e6(this.svgGroup,"blocklyDragging"));for(let t=0;t<this.childBlocks_.length;t++)this.childBlocks_[t].setDragging(e)}setMovable(e){super.setMovable(e),this.pathObject.updateMovable(e)}setEditable(e){super.setEditable(e),e=this.getIcons();for(let t=0;t<e.length;t++)e[t].updateEditable()}setShadow(e){super.setShadow(e),this.applyColour()}setInsertionMarker(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup}dispose(e,t){if(this.disposing=!0,oo(),oH(),t&&(this.unplug(e),rr(this)),(t=eM())instanceof cc){let e=t;for(;null!==e;)e===this&&t.unselect(),e=e.getParent()}super.dispose(!!e),e8(this.svgGroup)}disposeInternal(){this.disposing=!0,super.disposeInternal(),eM()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),[...this.warningTextDb.values()].forEach(e=>clearTimeout(e)),this.warningTextDb.clear(),this.getIcons().forEach(e=>e.dispose())}checkAndDelete(){this.workspace.isFlyout||(O.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),O.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(){return this.isInsertionMarker_?null:{paster:cD.TYPE,blockState:ns(this,{addCoordinates:!0,addNextBlocks:!1}),typeCounts:eB(this,!0)}}applyColour(){this.pathObject.applyColour(this);let e=this.getIcons();for(let t=0;t<e.length;t++)e[t].applyColour();for(let e=0,t;t=this.inputList[e];e++)for(let e=0,n;n=t.fieldRow[e];e++)n.applyColour()}updateDisabled(){let e=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===e){let e;null==(e=this.getNextBlock())||e.updateDisabled()}else for(let t of(this.applyColour(),this.visuallyDisabled=e,this.getChildren(!1)))t.updateDisabled()}setWarningText(e,t=""){if(t)this.warningTextDb.has(t)&&(clearTimeout(this.warningTextDb.get(t)),this.warningTextDb.delete(t));else{for(var n of this.warningTextDb.values())clearTimeout(n);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(t,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(t),this.setWarningText(e,t))},100));else if(this.isInFlyout&&(e=null),n=this.getIcon(uB.TYPE),e){let o=this.getSurroundParent(),r=null;for(;o;)o.isCollapsed()&&(r=o),o=o.getSurroundParent();r&&r.setWarningText(O.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,cX.COLLAPSED_WARNING_ID),n?n.addMessage(e,t):this.addIcon(new uB(this).addMessage(e,t))}else n&&(t?(n.addMessage("",t),n.getText()||this.removeIcon(uB.TYPE)):this.removeIcon(uB.TYPE))}setMutator(e){this.removeIcon(O.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE),e&&this.addIcon(e)}addIcon(e){return super.addIcon(e),e instanceof O.MutatorIcon$$module$build$src$core$icons$mutator_icon&&(this.mutator=e),e.initView(this.createIconPointerDownListener(e)),e.applyColour(),e.updateEditable(),this.queueRender(),e}createIconPointerDownListener(e){return t=>{this.isDeadOrDying()||(t=this.workspace.getGesture(t))&&t.setStartIcon(e)}}removeIcon(e){let t=super.removeIcon(e);return e.equals(O.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null),this.queueRender(),t}setEnabled(e){es("setEnabled","v11","v12","the setDisabledReason method of BlockSvg");let t=this.isEnabled();super.setEnabled(e),this.isEnabled()===t||this.getInheritedDisabled()||this.updateDisabled()}setDisabledReason(e,t){let n=this.isEnabled();super.setDisabledReason(e,t),this.isEnabled()===n||this.getInheritedDisabled()||this.updateDisabled()}setHighlighted(e){this.pathObject.updateHighlighted(e)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(e){this.pathObject.updateDraggingDelete(e)}getColour(){return this.style.colourPrimary}setColour(e){super.setColour(e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}setStyle(e){let t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,t)this.hat=t.hat,this.pathObject.setStyle(t),this.colour_=t.colourPrimary,this.style=t,this.applyColour();else throw Error("Invalid style name: "+e)}getStyle(){return this.style}bringToFront(e=!1){let t=this;if(!t.isDeadOrDying())do{let n=t.getSvgRoot(),o=n.parentNode,r=o.childNodes;if(r[r.length-1]!==n&&o.appendChild(n),e)break;t=t.getParent()}while(t)}setPreviousStatement(e,t){super.setPreviousStatement(e,t),this.queueRender()}setNextStatement(e,t){super.setNextStatement(e,t),this.queueRender()}setOutput(e,t){super.setOutput(e,t),this.queueRender()}setInputsInline(e){super.setInputsInline(e),this.queueRender()}removeInput(e,t){return e=super.removeInput(e,t),this.queueRender(),e}moveNumberedInputBefore(e,t){super.moveNumberedInputBefore(e,t),this.queueRender()}appendInput(e){return super.appendInput(e),this.queueRender(),e}setConnectionTracking(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var n=this.inputList[t].connection;n&&(n.setTracking(e),(n=n.targetBlock())&&n.setConnectionTracking(e))}}getConnections_(e){let t=[];if(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_)for(let e=0,n;n=this.inputList[e];e++)n.connection&&t.push(n.connection);return t}lastConnectionInStack(e){return super.lastConnectionInStack(e)}getMatchingConnection(e,t){return super.getMatchingConnection(e,t)}makeConnection_(e){return new cj(this,e)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){let e=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||e.isInFlyout))for(let t of this.getConnections_(!1)){if(t.isSuperior()){let e;null==(e=t.targetBlock())||e.bumpNeighbours()}for(let n of t.neighbours(O.config$$module$build$src$core$config.snapRadius))n.getSourceBlock().getRootBlock()!==e&&(t.isConnected()&&n.isConnected()||(t.isSuperior()?n.bumpAwayFrom(t,!1):t.bumpAwayFrom(n,!0)))}}scheduleSnapAndBump(){this.snapToGrid(),this.bumpNeighbours()}positionNearConnection(e,t,n){if(e.type===uv.NEXT_STATEMENT||e.type===uv.INPUT_VALUE){let o=t.x;t=t.y,o+=n.x-e.getOffsetInBlock().x,t+=n.y-e.getOffsetInBlock().y,this.moveBy(o,t)}}getChildren(e){return super.getChildren(e)}queueRender(){return tH(this)}render(){this.queueRender(),tG()}renderEfficiently(){te(),this.isCollapsed()&&this.updateCollapsed(),this.isEnabled()||this.updateDisabled(),this.workspace.getRenderer().render(this),this.tightenChildrenEfficiently(),tt(),this.updateMarkers_()}tightenChildrenEfficiently(){for(let e of this.inputList){let t=e.connection;t&&t.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}updateMarkers_(){for(let e of(this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(ag.LOCAL_MARKER).draw(),this.inputList))for(let t of e.fieldRow)t.updateMarkers_()}setCursorSvg(e){this.pathObject.setCursorSvg(e)}setMarkerSvg(e){this.pathObject.setMarkerSvg(e)}getHeightWidth(){let e=this.height,t=this.width;var n=this.getNextBlock();if(n){n=n.getHeightWidth();let o=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=n.height-o,t=Math.max(t,n.width)}return{height:e,width:t}}fadeForReplacement(e){this.pathObject.updateReplacementFade(e)}highlightShapeForInput(e,t){this.pathObject.updateShapeForInputHighlight(e,t)}setDragStrategy(e){this.dragStrategy=e}isMovable(){return this.dragStrategy.isMovable()}startDrag(e){this.dragStrategy.startDrag(e)}drag(e,t){this.dragStrategy.drag(e,t)}endDrag(e){this.dragStrategy.endDrag(e)}revertDrag(){this.dragStrategy.revertDrag()}toFlyoutInfo(){let e=Object.assign({},{kind:"BLOCK"},ns(this)),t=new Set(["id","height","width","pinned","enabled"]),n=function(e){for(let o in e)t.has(o)?delete e[o]:"object"==typeof e[o]&&n(e[o])};return n(e),[e]}};cX.INLINE=-1,cX.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var cY=class{constructor(){}onDragEnter(e){}onDragOver(e){}onDragExit(e){}onDrop(e){}getClientRect(){return null}shouldPreventMove(e){return!1}},cK=class extends cY{constructor(){super(),this.wouldDelete_=!1}wouldDelete(e){return e instanceof cX?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e)):this.updateWouldDelete_(it(e)&&e.isDeletable()),this.wouldDelete_}updateWouldDelete_(e){this.wouldDelete_=e}},cJ=class extends i4{constructor(e,t){super(t),this.type=iK.TRASHCAN_OPEN,this.isOpen=e}toJson(){let e=super.toJson();if(void 0===this.isOpen)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new cJ)).isOpen=e.isOpen,t}};Z(A.EVENT,iK.TRASHCAN_OPEN,cJ);var cZ=class extends cK{constructor(e){super(),this.workspace=e,this.id="trashcan",this.contents=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness=0,this.lidTask=this.svgLid=this.svgGroup=null,this.top=this.left=this.lidOpen=0,this.initialized=!1,0>=this.workspace.options.maxTrashcanContents||(e=this.workspace.copyOptionsForFlyout(),this.workspace.horizontalLayout?(e.toolboxPosition=this.workspace.toolboxPosition===s3.TOP?s3.BOTTOM:s3.TOP,this.flyout=new(ei(A.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(e)):(e.toolboxPosition=this.workspace.toolboxPosition===s3.RIGHT?s3.LEFT:s3.RIGHT,this.flyout=new(ei(A.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(e)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){let e;this.svgGroup=e5(sU.G,{class:"blocklyTrash"});let t=String(Math.random()).substring(2);e=e5(sU.CLIPPATH,{id:"blocklyTrashBodyClipPath"+t},this.svgGroup),e5(sU.RECT,{width:cq,height:cQ,y:c0},e);let n=e5(sU.IMAGE,{width:96,x:-c3,height:124,y:-c4,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup);return n.setAttributeNS(sL,"xlink:href",this.workspace.options.pathToMedia+le),e=e5(sU.CLIPPATH,{id:"blocklyTrashLidClipPath"+t},this.svgGroup),e5(sU.RECT,{width:cq,height:c0},e),this.svgLid=e5(sU.IMAGE,{width:96,x:-c3,height:124,y:-c4,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup),this.svgLid.setAttributeNS(sL,"xlink:href",this.workspace.options.pathToMedia+le),eY(this.svgGroup,"pointerdown",this,this.blockMouseDownWhenOpenable),eY(this.svgGroup,"pointerup",this,this.click),eY(n,"pointerover",this,this.mouseOver),eY(n,"pointerout",this,this.mouseOut),this.animateLid(),this.svgGroup}init(){0<this.workspace.options.maxTrashcanContents&&(e9(this.flyout.createDom(sU.SVG),this.workspace.getParentSvg()),this.flyout.init(this.workspace)),this.workspace.getComponentManager().addComponent({component:this,weight:sf.ComponentWeight.TRASHCAN_WEIGHT,capabilities:[sf.Capability.AUTOHIDEABLE,sf.Capability.DELETE_AREA,sf.Capability.DRAG_TARGET,sf.Capability.POSITIONABLE]}),this.initialized=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup&&e8(this.svgGroup),this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var e=this.contents.map(function(e){return JSON.parse(e)}),t=this.workspace.getParentSvg().style;t.cursor="wait",setTimeout(()=>{let n,o;null==(n=this.flyout)||n.show(e),t.cursor="",null==(o=this.workspace.scrollbar)||o.setVisible(!1)},10),this.fireUiEvent(!0)}}closeFlyout(){if(this.contentsIsOpen()){var e,t;null==(e=this.flyout)||e.hide(),null==(t=this.workspace.scrollbar)||t.setVisible(!0),this.fireUiEvent(!1),this.workspace.recordDragTargets()}}autoHide(e){!e&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(e,t){if(this.initialized){var n,o,r=tx(this.workspace,e);t=t$(e=tR(r,new sV(cq,cQ+c0),c2,c1,e,this.workspace),c1,r.vertical===ld.TOP?lp.DOWN:lp.UP,t),this.top=t.top,this.left=t.left,null==(n=this.svgGroup)||n.setAttribute("transform","translate("+this.left+","+this.top+")"),null==(o=this.flyout)||o.position()}}getBoundingRectangle(){return new sH(this.top,this.top+cQ+c0,this.left,this.left+cq)}getClientRect(){if(!this.svgGroup)return null;var e=this.svgGroup.getBoundingClientRect();let t=e.top+c4-c5;return e=e.left+c3-c5,new sH(t,t+c0+cQ+2*c5,e,e+cq+2*c5)}onDragOver(e){this.setLidOpen(this.wouldDelete_)}onDragExit(e){this.setLidOpen(!1)}onDrop(e){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(e){this.isLidOpen!==e&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=e,this.animateLid())}animateLid(){var e=1/(c9+1);this.lidOpen+=this.isLidOpen?e:-e,this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1),this.setLidAngle(this.lidOpen*dt),e=c7+this.lidOpen*(de-c7),this.svgGroup&&(this.svgGroup.style.opacity=`${e}`),this.lidOpen>this.minOpenness&&1>this.lidOpen&&(this.lidTask=setTimeout(this.animateLid.bind(this),c8/c9))}setLidAngle(e){let t,n=this.workspace.toolboxPosition===s3.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;null==(t=this.svgLid)||t.setAttribute("transform","rotate("+(n?-e:e)+","+(n?4:cq-4)+","+(c0-2)+")")}setMinOpenness(e){this.minOpenness=e,this.isLidOpen||this.setLidAngle(e*dt)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}fireUiEvent(e){eb(e=new(ew(iK.TRASHCAN_OPEN))(e,this.workspace.id))}blockMouseDownWhenOpenable(e){!this.contentsIsOpen()&&this.hasContents()&&e.stopPropagation()}mouseOver(){this.hasContents()&&this.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(e){if(!(0>=this.workspace.options.maxTrashcanContents||!ec(e)||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson(e.oldJson)),!this.contents.includes(e)){for(this.contents.unshift(e);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(c6)}}}cleanBlockJson(e){return!function e(t){if(t){if(delete t.id,delete t.x,delete t.y,delete t.enabled,delete t.disabledReasons,t.icons&&t.icons.comment){var n=t.icons.comment;delete n.height,delete n.width,delete n.pinned}for(var o in n=t.inputs){var r=n[o];let t=r.block;r=r.shadow,t&&e(t),r&&e(r)}t.next&&(t=(o=t.next).block,o=o.shadow,t&&e(t),o&&e(o))}}(e=JSON.parse(JSON.stringify(e))),Object.assign({},{kind:"BLOCK"},e)}},cq=47,cQ=44,c0=16,c1=20,c2=20,c5=10,c3=0,c4=32,c6=.1,c8=80,c9=4,c7=.4,de=.8,dt=45,dn=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(e,t){if(this.shortcuts.get(e.name)&&!t)throw Error(`Shortcut named "${e.name}" already exists.`);if(this.shortcuts.set(e.name,e),null==(t=e.keyCodes)?0:t.length)for(let n of t)this.addKeyMapping(n,e.name,!!e.allowCollision)}unregister(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn(`Keyboard shortcut named "${e}" not found.`),!1)}addKeyMapping(e,t,n){e=`${e}`;let o=this.keyMap.get(e);if(o&&!n)throw Error(`Shortcut named "${t}" collides with shortcuts "${o}"`);o&&n?o.unshift(t):this.keyMap.set(e,[t])}removeKeyMapping(e,t,n){let o=this.keyMap.get(e);if(!o)return n||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1;let r=o.indexOf(t);return -1<r?(o.splice(r,1),0===o.length&&this.keyMap.delete(e),!0):(n||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1)}removeAllKeyMappings(e){for(let t of this.keyMap.keys())this.removeKeyMapping(t,e,!0)}setKeyMap(e){for(let t in this.keyMap.clear(),e)this.keyMap.set(t,e[t])}getKeyMap(){let e=Object.create(null);for(let[t,n]of this.keyMap)e[t]=n;return e}getRegistry(){let e=Object.create(null);for(let[t,n]of this.shortcuts)e[t]=n;return rd(Object.create(null),e)}onKeyDown(e,t){var n=this.serializeKeyEvent(t);if(!(n=this.getShortcutNamesByKeyCode(n)))return!1;for(let o of n){let r,i;if((n=this.shortcuts.get(o))&&(!n.preconditionFn||n.preconditionFn(e))&&(null==(i=(r=n).callback)?0:i.call(r,e,t,n)))return!0}return!1}getShortcutNamesByKeyCode(e){return this.keyMap.get(e)||[]}getKeyCodesByShortcutName(e){let t=[];for(let[n,o]of this.keyMap)-1<o.indexOf(e)&&t.push(n);return t}serializeKeyEvent(e){let t="";for(let n in dn.modifierKeys)e.getModifierState(n)&&(""!==t&&(t+="+"),t+=n);return""!==t&&e.keyCode?t+="+"+e.keyCode:e.keyCode&&(t=String(e.keyCode)),t}checkModifiers(e){for(let t of e)if(!(t in dn.modifierKeys))throw Error(t+" is not a valid modifier key.")}createSerializedKey(e,t){let n="";if(t)for(let e in this.checkModifiers(t),dn.modifierKeys)t.includes(dn.modifierKeys[e])&&(""!==n&&(n+="+"),n+=e);return""!==n&&e?n+="+"+e:e&&(n=`${e}`),n}};dn.registry=new dn,(dQ=(dQ=dn||(dn={})).modifierKeys||(dQ.modifierKeys={}))[dQ.Shift=16]="Shift",dQ[dQ.Control=17]="Control",dQ[dQ.Alt=18]="Alt",dQ[dQ.Meta=91]="Meta";var dr=null,di=null,ds={};ds.BlockPaster=cD,ds.TEST_ONLY={duplicateInternal:function(e){let t=e.toCopyData();return t?io(t,e.workspace):null},copyInternal:function(e){let t,n=e.toCopyData();return dr=n,di=null!=(t=e.workspace)?t:null,n}},ds.paste=io,ds.registry=li,(d0=d4||(d4={})).ESCAPE="escape",d0.DELETE="delete",d0.COPY="copy",d0.CUT="cut",d0.PASTE="paste",d0.UNDO="undo",d0.REDO="redo";var dl=null,da=null,du=null;ip();var dc={};dc.names=d4,dc.registerCopy=ia,dc.registerCut=iu,dc.registerDefaultShortcuts=ip,dc.registerDelete=il,dc.registerEscape=is,dc.registerPaste=ic,dc.registerRedo=ih,dc.registerUndo=id;var dd=class{constructor(e,t){this.procedureModelClass=e,this.parameterModelClass=t,this.priority=75}save(e){return(e=e.getProcedureMap().getProcedures().map(e=>ig(e))).length?e:null}load(e,t){let n=t.getProcedureMap();for(let o of e)n.add(im(this.procedureModelClass,this.parameterModelClass,o,t))}clear(e){e.getProcedureMap().clear()}},dh={};dh.ProcedureSerializer=dd,dh.loadProcedure=im,dh.saveProcedure=ig;var dp=class{constructor(){this.priority=100}save(e){let t=[];for(let n of e.getAllVariables())e={name:n.name,id:n.getId()},n.type&&(e.type=n.type),t.push(e);return t.length?t:null}load(e,t){for(let n of e)t.createVariable(n.name,n.type,n.id)}clear(e){e.getVariableMap().clear()}};tA("variables",new dp);var df={};df.VariableSerializer=dp;var dg={};dg.load=function(e,t,{recordUndo:n=!1}={}){var o=er(A.SERIALIZER,!0);if(o){o=Object.entries(o).sort((e,t)=>t[1].priority-e[1].priority);var r=e_();for(let[,e]of(O.setRecordUndo$$module$build$src$core$events$utils(n),(n=O.getGroup$$module$build$src$core$events$utils())||O.setGroup$$module$build$src$core$events$utils(!0),te(),t instanceof cN&&t.setResizesEnabled(!1),o.reverse()))null==e||e.clear(t);for(let[n,r]of o.reverse())e[n]&&(null==r||r.load(e[n],t));t instanceof cN&&t.setResizesEnabled(!0),tt(),eb(new(ew(iK.FINISHED_LOADING))(t)),O.setGroup$$module$build$src$core$events$utils(n),O.setRecordUndo$$module$build$src$core$events$utils(r)}},dg.save=function(e){let t=Object.create(null),n=er(A.SERIALIZER,!0);for(let o in n){let r,i=null==(r=n[o])?void 0:r.save(e);i&&(t[o]=i)}return t};var dm=class{constructor(e,t,n,o,r){this.workspace=e,this.oldHostMetrics=this.corner_=this.vScroll=this.hScroll=null,n=void 0===n||n;let i=(t=void 0===t||t)&&n;t&&(this.hScroll=new sY(e,!0,i,o,r)),n&&(this.vScroll=new sY(e,!1,i,o,r)),i&&(this.corner_=e5(sU.RECT,{height:sY.scrollbarThickness,width:sY.scrollbarThickness,class:"blocklyScrollbarBackground"}),e9(this.corner_,e.getBubbleCanvas()))}dispose(){e8(this.corner_),this.oldHostMetrics=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){let e=this.workspace.getMetrics();if(e){var t=!1,n=!1;if(this.oldHostMetrics&&this.oldHostMetrics.viewWidth===e.viewWidth&&this.oldHostMetrics.viewHeight===e.viewHeight&&this.oldHostMetrics.absoluteTop===e.absoluteTop&&this.oldHostMetrics.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics&&this.oldHostMetrics.scrollWidth===e.scrollWidth&&this.oldHostMetrics.viewLeft===e.viewLeft&&this.oldHostMetrics.scrollLeft===e.scrollLeft||(t=!0),this.oldHostMetrics&&this.oldHostMetrics.scrollHeight===e.scrollHeight&&this.oldHostMetrics.viewTop===e.viewTop&&this.oldHostMetrics.scrollTop===e.scrollTop||(n=!0)):n=t=!0,t||n){try{O.disable$$module$build$src$core$events$utils(),this.hScroll&&t&&this.hScroll.resize(e),this.vScroll&&n&&this.vScroll.resize(e)}finally{O.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics||this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft){let e;null==(e=this.corner_)||e.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteTop!==e.absoluteTop){let e;null==(e=this.corner_)||e.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics=e}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(e,t){this.hScroll&&this.hScroll.setOrigin(e,t),this.vScroll&&this.vScroll.setOrigin(e,t)}set(e,t,n){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(t,!1),(n||void 0===n)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}setX(e){this.hScroll&&this.hScroll.set(e,!0)}setY(e){this.vScroll&&this.vScroll.set(e,!0)}setContainerVisible(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}isVisible(){let e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}setVisible(e){this.hScroll&&this.hScroll.setVisibleInternal(e),this.vScroll&&this.vScroll.setVisibleInternal(e)}resizeContent(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}resizeView(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}},d_=class{constructor(e){this.workspace_=e}getDimensionsPx_(e){let t=0,n=0;return e&&(t=e.getWidth(),n=e.getHeight()),new sV(t,n)}getFlyoutMetrics(e){return{width:(e=this.getDimensionsPx_(this.workspace_.getFlyout(e))).width,height:e.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){let e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){var e;let t=0,n=0,o=this.getToolboxMetrics(),r=this.getFlyoutMetrics(),i=!!this.workspace_.getToolbox(),s=!(null==(e=this.workspace_.getFlyout())?0:e.autoClose),l=(e=i?o.position:r.position)===s3.TOP;return e===s3.LEFT&&(i&&(t+=o.width),s&&(t+=r.width)),l&&(i&&(n+=o.height),s&&(n+=r.height)),{top:n,left:t}}getViewMetrics(e){var t;e=e?this.workspace_.scale:1;let n=this.getSvgMetrics(),o=this.getToolboxMetrics(),r=this.getFlyoutMetrics(),i=!!this.workspace_.getToolbox(),s=!(null==(t=this.workspace_.getFlyout())?0:t.autoClose),l=(t=i?o.position:r.position)===s3.LEFT||t===s3.RIGHT;return(t===s3.TOP||t===s3.BOTTOM)&&(i&&(n.height-=o.height),s&&(n.height-=r.height)),l&&(i&&(n.width-=o.width),s&&(n.width-=r.width)),{height:n.height/e,width:n.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}getContentMetrics(e){e=e?1:this.workspace_.scale;let t=this.workspace_.getBlocksBoundingBox();return{height:(t.bottom-t.top)*e,width:(t.right-t.left)*e,top:t.top*e,left:t.left*e}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(e){if(!this.hasFixedEdges())return{};let t=this.workspace_.isMovableHorizontally(),n=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);let o={};return n||(o.top=e.top,o.bottom=e.top+e.height),t||(o.left=e.left,o.right=e.left+e.width),o}getPaddedContent_(e,t){let n=t.top+t.height,o=t.left+t.width,r=e.width;e=e.height;let i=r/2,s=e/2;return{top:Math.min(t.top-s,n-e),bottom:Math.max(n+s,t.top+e),left:Math.min(t.left-i,o-r),right:Math.max(o+i,t.left+r)}}getScrollMetrics(e,t,n){e=e?this.workspace_.scale:1,t=t||this.getViewMetrics(!1);var o=n||this.getContentMetrics();n=this.getComputedFixedEdges_(t),t=this.getPaddedContent_(t,o),o=void 0!==n.top?n.top:t.top;let r=void 0!==n.left?n.left:t.left;return{top:o/e,left:r/e,width:((void 0!==n.right?n.right:t.right)-r)/e,height:((void 0!==n.bottom?n.bottom:t.bottom)-o)/e}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){let e=this.getToolboxMetrics(),t=this.getFlyoutMetrics(!0),n=this.getSvgMetrics(),o=this.getAbsoluteMetrics(),r=this.getViewMetrics(),i=this.getContentMetrics(),s=this.getScrollMetrics(!1,r,i);return{contentHeight:i.height,contentWidth:i.width,contentTop:i.top,contentLeft:i.left,scrollHeight:s.height,scrollWidth:s.width,scrollTop:s.top,scrollLeft:s.left,viewHeight:r.height,viewWidth:r.width,viewTop:r.top,viewLeft:r.left,absoluteTop:o.top,absoluteLeft:o.left,svgHeight:n.height,svgWidth:n.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:t.width,flyoutHeight:t.height}}};Z(A.METRICS_MANAGER,$,d_),"Blockly"in globalThis||(globalThis.Blockly={Msg:l8});var db=class extends u7{constructor(){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:+this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null,this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=+this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=6*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=8*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=+this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(e){super.setFontConstants_(e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(e){super.setDynamicProperties_(e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;let t=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=t&&!isNaN(t)?t:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter&&e8(this.selectedGlowFilter),this.replacementGlowFilter&&e8(this.replacementGlowFilter)}makeStartHat(){let e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,n=rC("c",[rv(25,-e),rv(71,-e),rv(t,0)]);return{height:e,width:t,path:n}}makeHexagonal(){function e(e,n,o){var r=e/2;return rw(-(o=o?-1:1)*(r=r>t?t:r),e=(n?-1:1)*e/2)+rw(o*r,e)}let t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width:e=>(e/=2)>t?t:e,height:e=>e,connectionOffsetY:e=>e/2,connectionOffsetX:e=>-e,pathDown:t=>e(t,!1,!1),pathUp:t=>e(t,!0,!1),pathRightDown:t=>e(t,!1,!0),pathRightUp:t=>e(t,!1,!0)}}makeRounded(){function e(e,t,o){let r=e>n?e-n:0,i=o===t?"0":"1";return rR("a","0 0,"+i,e=(e>n?n:e)/2,rv((o?1:-1)*e,(t?-1:1)*e))+rO("v",(t?-1:1)*r)+rR("a","0 0,"+i,e,rv((o?-1:1)*e,(t?-1:1)*e))}let t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,n=2*t;return{type:this.SHAPES.ROUND,isDynamic:!0,width:e=>(e/=2)>t?t:e,height:e=>e,connectionOffsetY:e=>e/2,connectionOffsetX:e=>-e,pathDown:t=>e(t,!1,!1),pathUp:t=>e(t,!0,!1),pathRightDown:t=>e(t,!1,!0),pathRightUp:t=>e(t,!1,!0)}}makeSquared(){function e(e,n,o){e-=2*t;let r=o===n?"0":"1";return rR("a","0 0,"+r,t,rv((o?1:-1)*t,(n?-1:1)*t))+rO("v",(n?-1:1)*e)+rR("a","0 0,"+r,t,rv((o?-1:1)*t,(n?-1:1)*t))}let t=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width:e=>t,height:e=>e,connectionOffsetY:e=>e/2,connectionOffsetX:e=>-e,pathDown:t=>e(t,!1,!1),pathUp:t=>e(t,!0,!1),pathRightDown:t=>e(t,!1,!0),pathRightUp:t=>e(t,!1,!0)}}shapeFor(e){let t=e.getCheck();switch(!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),e.type){case uv.INPUT_VALUE:case uv.OUTPUT_VALUE:if(null!==(e=e.getSourceBlock().getOutputShape()))switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}if(t&&t.includes("Boolean"))return this.HEXAGONAL;if(t&&t.includes("Number"))return this.ROUNDED;return t&&t.includes("String"),this.ROUNDED;case uv.PREVIOUS_STATEMENT:case uv.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function e(e){return rC("c",[rv(e*r/2,0),rv(e*r*3/4,s/2),rv(e*r,s)])+rk([rv(e*r,i)])+rC("c",[rv(e*r/4,s/2),rv(e*r/2,s),rv(e*r,s)])+rO("h",e*o)+rC("c",[rv(e*r/2,0),rv(e*r*3/4,-(s/2)),rv(e*r,-s)])+rk([rv(e*r,-i)])+rC("c",[rv(e*r/4,-(s/2)),rv(e*r/2,-s),rv(e*r,-s)])}let t=this.NOTCH_WIDTH,n=this.NOTCH_HEIGHT,o=t/3,r=o/3,i=n/2,s=i/2,l=e(1),a=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:n,pathLeft:l,pathRight:a}}makeInsideCorners(){let e=this.CORNER_RADIUS,t=rR("a","0 0,0",e,rv(-e,e)),n=rR("a","0 0,1",e,rv(-e,e)),o=rR("a","0 0,0",e,rv(e,e)),r=rR("a","0 0,1",e,rv(e,e));return{width:e,height:e,pathTop:t,pathBottom:o,rightWidth:e,rightHeight:e,pathTopRight:n,pathBottomRight:r}}generateSecondaryColour_(e){return o_("#000",e,.15)||e}generateTertiaryColour_(e){return o_("#000",e,.25)||e}createDom(e,t,n){super.createDom(e,t,n),e=e5(sU.DEFS,{},e),t=e5(sU.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),e5(sU.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},t),n=e5(sU.FECOMPONENTTRANSFER,{result:"outBlur"},t),e5(sU.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),e5(sU.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),e5(sU.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.selectedGlowFilterId=t.id,this.selectedGlowFilter=t,e=e5(sU.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),e5(sU.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),t=e5(sU.FECOMPONENTTRANSFER,{result:"outBlur"},e),e5(sU.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),e5(sU.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),e5(sU.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),e5(sU.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter=e}getCSS_(e){return[`${e} .blocklyText,`,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyTextInputBubble textarea {`,"font-weight: normal;","}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect:not(.blocklyDropdownRect),`,`${e} .blocklyEditableText>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text,`,`${e} .blocklyNonEditableText>g>text,`,`${e} .blocklyEditableText>g>text {`,"fill: #575E75;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #575E75;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #575E75;","}",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>rect,",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",`${e} .blocklyDropdownText {`,"fill: #fff !important;","}",`${e}.blocklyWidgetDiv .blocklyMenuItem,`,`${e}.blocklyDropDownDiv .blocklyMenuItem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e}.blocklyDropDownDiv .blocklyMenuItemContent {`,"color: #fff;","}",`${e} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",`${e} .blocklyDisabled > .blocklyOutlinePath {`,`fill: url(#blocklyDisabledPattern${this.randomIdentifier})`,"}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},dy=class extends ct{constructor(e,t){super(e,t)}draw(){let e=this.block_.pathObject;e.beginDrawing(),this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),e.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(e){if(!(0>=e.height)){if(uH.isSpacer(e)){let o=e.precedesStatement;var t=e.followsStatement;if(o||t){let r=this.constants_.INSIDE_CORNERS;var n=r.rightHeight;n=e.height-(o?n:0),t=t?r.pathBottomRight:"",e=0<n?rO("V",e.yPos+n):"",this.outlinePath_+=t+e+(o?r.pathTopRight:"");return}}this.outlinePath_+=rO("V",e.yPos+e.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){let e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=rS(e.xPos,this.info_.startY),this.outlinePath_+=rO("h",e.width)}drawFlatBottom_(){let e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=rO("V",e.baseline),this.outlinePath_+=rO("h",-e.width)}drawInlineInput_(e){this.positionInlineInputConnection_(e);let t=e.input.name;e.connectedBlock||this.info_.isInsertionMarker||(e=rI(e.xPos+e.connectionWidth,e.centerline-e.height/2)+this.getInlineInputPath(e),this.block_.pathObject.setOutlinePath(t,e))}getInlineInputPath(e){let t=e.width-2*e.connectionWidth,n=e.height;return rO("h",t)+e.shape.pathRightDown(n)+rO("h",-t)+e.shape.pathUp(n)+"z"}drawStatementInput_(e){var t=e.getLastInput();let n=t.xPos+t.notchOffset+t.shape.width,o=this.constants_.INSIDE_CORNERS,r=t.shape.pathRight+rO("h",-(t.notchOffset-o.width))+o.pathTop,i=e.height-2*o.height;t=o.pathBottom+rO("h",t.notchOffset-o.width)+(t.connectedBottomNextConnection?"":t.shape.pathLeft),this.outlinePath_+=rO("H",n)+r+rO("v",i)+t+rO("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}drawConnectionHighlightPath(e){let t=e.connectionModel;if(t.type!==uv.NEXT_STATEMENT&&t.type!==uv.PREVIOUS_STATEMENT&&(t.type!==uv.OUTPUT_VALUE||e.isDynamicShape)){e=t.type===uv.INPUT_VALUE?rI(e.connectionWidth,-e.height/2)+this.getInlineInputPath(e):rI(e.width,-e.height/2)+e.shape.pathDown(e.height);var n,o,r=t.getSourceBlock();null==(o=(n=r.pathObject).addConnectionHighlight)||o.call(n,t,e,t.getOffsetInBlock(),r.RTL)}else super.drawConnectionHighlightPath(e)}},dT=class extends aF{constructor(e,t,n,o,r,i,s){if(super(aF.SKIP_SETUP),this.imageElement=this.clickHandler=null,this.flipRtl=this.isDirty_=this.EDITABLE=!1,this.altText="",n=Number(oE(n)),t=Number(oE(t)),isNaN(n)||isNaN(t))throw Error("Height and width values of an image field must cast to numbers.");if(0>=n||0>=t)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new sV(t,n+dT.Y_PADDING),this.imageHeight=n,"function"==typeof r&&(this.clickHandler=r),e!==aF.SKIP_SETUP&&(s?this.configure_(s):(this.flipRtl=!!i,this.altText=oE(o)||""),this.setValue(oE(e)))}configure_(e){super.configure_(e),e.flipRtl&&(this.flipRtl=e.flipRtl),e.alt&&(this.altText=oE(e.alt))}initView(){this.imageElement=e5(sU.IMAGE,{height:this.imageHeight+"px",width:this.size_.width+"px",alt:this.altText},this.fieldGroup_),this.imageElement.setAttributeNS(sL,"xlink:href",this.value_),this.clickHandler&&(this.imageElement.style.cursor="pointer")}updateSize_(){}doClassValidation_(e){return"string"!=typeof e?null:e}doValueUpdate_(e){this.value_=e,this.imageElement&&this.imageElement.setAttributeNS(sL,"xlink:href",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(e){e!==this.altText&&(this.altText=e||"",this.imageElement&&this.imageElement.setAttribute("alt",this.altText))}showEditor_(){this.clickHandler&&this.clickHandler(this)}setOnClickHandler(e){this.clickHandler=e}getText_(){return this.altText}static fromJson(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}};dT.Y_PADDING=1,rh("field_image",dT),dT.prototype.DEFAULT_VALUE="";var dE=class extends aF{constructor(e,t,n){super(aF.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onKeyInputWrapper=this.onKeyDownWrapper=this.valueWhenEditorWasOpened_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,this.CURSOR="text",e!==aF.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),void 0!==e.spellcheck&&(this.spellcheck_=e.spellcheck)}initView(){if(!this.getSourceBlock())throw new aU;super.initView(),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot())}isFullBlockField(){let e,t=this.getSourceBlock();if(!t)throw new aU;return this.fullBlockClickTarget_=!(null==(e=this.getConstants())||!e.FULL_BLOCK_FIELDS)&&t.isSimpleReporter()}doValueInvalid_(e,t=!0){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.valueWhenEditorWasOpened_,this.sourceBlock_&&eC()&&this.value_!==e&&t&&eb(new(ew(iK.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}doValueUpdate_(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}applyColour(){let e=this.getSourceBlock();if(!e)throw new aU;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?(this.borderRect_.style.display="block",this.borderRect_.setAttribute("stroke",e.getColourTertiary())):(this.borderRect_.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}getSize(){let e;return(null==(e=this.getConstants())?0:e.FULL_BLOCK_FIELDS)&&(this.render_(),this.isDirty_=!1),super.getSize()}onLocationChange(){this.isBeingEdited_&&this.resizeEditor_()}render_(){if(super.render_(),this.isBeingEdited_){var e=this.htmlInput_;this.isTextValid_?(e6(e,"blocklyInvalidInput"),tF(e,l4.INVALID,!1)):(e3(e,"blocklyInvalidInput"),tF(e,l4.INVALID,!0))}if(!(e=this.getSourceBlock()))throw new aU;this.getConstants().FULL_BLOCK_FIELDS&&e.applyColour()}setSpellcheck(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(e,t=!1){this.workspace_=this.sourceBlock_.workspace,!t&&this.workspace_.options.modalInputs&&(sx||sw||sk)?this.showPromptEditor():this.showInlineEditor(t)}showPromptEditor(){tq(O.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,this.getText(),e=>{null!==e&&this.setValue(this.getValueFromEditorText_(e)),this.onFinishEditing_(this.value_)})}showInlineEditor(e){let t=this.getSourceBlock();if(!t)throw new aU;oS(this,t.RTL,this.widgetDispose_.bind(this),this.workspace_),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,this.valueWhenEditorWasOpened_=this.value_,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var e=this.getSourceBlock();if(!e)throw new aU;O.setGroup$$module$build$src$core$events$utils(!0);let t=oC();var n=this.getClickTarget_();if(!n)throw Error("A click target has not been set.");e3(n,"editing"),(n=document.createElement("input")).className="blocklyHtmlInput",n.setAttribute("spellcheck",this.spellcheck_);let o=this.workspace_.getScale();var r=this.getConstants().FIELD_TEXT_FONTSIZE*o+"pt";return t.style.fontSize=r,n.style.fontSize=r,r=dE.BORDERRADIUS*o+"px",this.isFullBlockField()&&(r=((r=this.getScaledBBox()).bottom-r.top)/2+"px",e=e.getParent()?e.getParent().getColourTertiary():this.sourceBlock_.getColourTertiary(),n.style.border=+o+"px solid "+e,t.style.borderRadius=r,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*o+"px")),n.style.borderRadius=r,t.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.setAttribute("data-untyped-default-value",String(this.value_)),this.resizeEditor_(),this.bindInputEvents_(n),n}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),this.sourceBlock_&&eC()&&null!==this.valueWhenEditorWasOpened_&&this.valueWhenEditorWasOpened_!==this.value_&&(eb(new(ew(iK.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null),O.setGroup$$module$build$src$core$events$utils(!1),this.unbindInputEvents_();var e=oC().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,!(e=this.getClickTarget_()))throw Error("A click target has not been set.");e6(e,"editing")}onFinishEditing_(e){}bindInputEvents_(e){this.onKeyDownWrapper=eX(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper=eX(e,"input",this,this.onHtmlInputChange)}unbindInputEvents_(){this.onKeyDownWrapper&&(eK(this.onKeyDownWrapper),this.onKeyDownWrapper=null),this.onKeyInputWrapper&&(eK(this.onKeyInputWrapper),this.onKeyInputWrapper=null)}onHtmlInputKeyDown_(e){"Enter"===e.key?(oO(this),nK()):"Escape"===e.key?(this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value"),!1),oO(this),nK()):"Tab"===e.key&&(oO(this),nK(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())}onHtmlInputChange(e){e=this.value_,this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1),this.sourceBlock_&&eC()&&this.value_!==e&&eb(new(ew(iK.BLOCK_FIELD_INTERMEDIATE_CHANGE))(this.sourceBlock_,this.name||null,e,this.value_))}setEditorValue_(e,t=!0){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e,t)}resizeEditor_(){tV().then(()=>{let e=this.getSourceBlock();if(!e)throw new aU;let t=oC(),n=this.getScaledBBox();t.style.width=n.right-n.left+"px",t.style.height=n.bottom-n.top+"px";let o=n.top;t.style.left=`${e.RTL?n.right-t.offsetWidth:n.left}px`,t.style.top=`${o}px`})}repositionForWindowResize(){let e,t=null==(e=this.getSourceBlock())?void 0:e.getRootBlock();return t instanceof cX&&(r8(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),t)||this.resizeEditor_(),!0)}isTabNavigable(){return!0}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(e){return`${e}`}getValueFromEditorText_(e){return e}};dE.BORDERRADIUS=4;var dv=class extends dE{constructor(e,t,n){super(e,t,n)}doClassValidation_(e){return void 0===e?null:`${e}`}static fromJson(e){return new this(oE(e.text),void 0,e)}};rh("field_input",dv),dv.prototype.DEFAULT_VALUE="";var dC=class extends uj{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){return!!e.outputConnection}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},dI=class extends uQ{constructor(e,t){if(super(e,t),this.connectedBottomNextConnection=!1,this.connectedBlock){for(e=this.connectedBlock;t=e.getNextBlock();)e=t;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},dS=class extends uV{constructor(e){super(e),this.width=this.height=0,this.type|=uH.getType("RIGHT_CONNECTION")}},dw=class extends u9{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){let t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},dk=class extends cl{constructor(e,t){super(e,t),this.isInline=!0,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.topRow=new dw(this.constants_),this.bottomRow=new dC(this.constants_),this.isMultiRow=!t.getInputsInline()||t.isCollapsed(),this.hasStatementInput=0<t.statementInputCount,this.rightSide=this.outputConnection?new dS(this.constants_):null,this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(e,t){return!!t&&(t instanceof ci||e instanceof cs||t instanceof cs||(e instanceof O.ValueInput$$module$build$src$core$inputs$value_input||e instanceof cr||e instanceof ci)&&(!this.isInline||this.isMultiRow))}getDesiredRowWidth_(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(e)}getInRowSpacing_(e,t){return e&&t||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&t&&uH.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&uH.isLeftRoundedCorner(e)&&t&&(uH.isPreviousConnection(t)||uH.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&uH.isLeftSquareCorner(e)&&t&&uH.isHat(t)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(e,t){if(uH.isTopRow(e)&&uH.isBottomRow(t))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;let n=uH.isInputRow(e)&&e.hasStatement,o=uH.isInputRow(t)&&t.hasStatement;return o||n?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),o&&n?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):uH.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):uH.isBottomRow(t)?this.outputConnection?!t.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(e,t){let n=this.width-this.startX;return uH.isInputRow(e)&&e.hasStatement||uH.isInputRow(t)&&t.hasStatement?Math.max(n,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):n}getElemCenterline_(e,t){if(e.hasStatement&&!uH.isSpacer(t)&&!uH.isStatementInput(t))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(uH.isInlineInput(t)&&t instanceof uz){let n=t.connectedBlock;if(n&&n.outputConnection&&n.nextConnection)return e.yPos+n.height/2}return super.getElemCenterline_(e,t)}addInput_(e,t){if((e instanceof cr||e instanceof ci)&&t.hasDummyInput&&t.align===O.Align$$module$build$src$core$inputs$align.LEFT&&e.align===O.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(t,e);else if(e instanceof cs){t.elements.push(new dI(this.constants_,e)),t.hasStatement=!0,null===t.align&&(t.align=e.align);return}super.addInput_(e,t)}addAlignmentPadding_(e,t){if(this.rightAlignedDummyInputs.get(e)){let n;for(let t=0;t<e.elements.length;t++){let o=e.elements[t];if(uH.isSpacer(o)&&(n=o),uH.isField(o)&&o instanceof uY&&o.parentInput===this.rightAlignedDummyInputs.get(e))break}if(n){n.width+=t,e.width+=t;return}}super.addAlignmentPadding_(e,t)}adjustXPosition_(){let e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH,t=e;for(let r=2;r<this.rows.length-1;r+=2){var n=this.rows[r-1];let i=this.rows[r];var o=this.rows[r+1];if(n=2===r?!!this.topRow.hasPreviousConnection:!!n.followsStatement,o=r+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!o.precedesStatement,uH.isInputRow(i)&&i.hasStatement){let n,o;i.measure(),t=i.width-(null!=(o=null==(n=i.getLastInput())?void 0:n.width)?o:0)+e}else if(n&&(2===r||o)&&uH.isInputRow(i)&&!i.hasStatement){o=i.xPos,n=null;for(let e=0;e<i.elements.length;e++){let r=i.elements[e];uH.isSpacer(r)&&(n=r),n&&(uH.isField(r)||uH.isInput(r))&&o<t&&!(uH.isField(r)&&r instanceof uY&&(r.field instanceof cn||r.field instanceof dT))&&(n.width+=t-o),o+=r.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var t=0,n=0;n<this.rows.length;n++){let e=this.rows[n];e.yPos=t,t+=e.height}this.height=t,n=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,t=e.height(n),n=e.width(n),this.outputConnection.height=t,this.outputConnection.width=n,this.outputConnection.startX=n,this.outputConnection.connectionOffsetY=e.connectionOffsetY(t),this.outputConnection.connectionOffsetX=e.connectionOffsetX(n),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=n,this.rightSide.height=t,this.rightSide.width=e,this.rightSide.centerline=t/2,this.rightSide.xPos=this.width+e),this.startX=n,this.width+=n+e,this.widthWithChildren+=n+e}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,t=0;t<this.rows.length;t++){var n=this.rows[t];if(!uH.isInputRow(n))continue;e=n.elements[n.elements.length-2];let o=this.getNegativeSpacing_(n.elements[1]),r=this.getNegativeSpacing_(e);e=o+r;let i=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-e<i&&(o=(e=this.width-i)/2,r=e/2),n.elements.unshift(new uZ(this.constants_,-o)),n.elements.push(new uZ(this.constants_,-r))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,t=0;t<this.rows.length;t++)n=this.rows[t],uH.isTopOrBottomRow(n)&&(n.elements[1].width-=e),n.width-=e,n.widthWithConnectedBlocks-=e}}getNegativeSpacing_(e){if(!e||!this.outputConnection)return 0;let t=this.outputConnection.width;var n=this.outputConnection.shape.type;let o=this.constants_;if(1<this.inputRows.length)if(n===o.SHAPES.ROUND)return n=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,t-(n=this.height/2>n?n:this.height/2)*(1-Math.sin(Math.acos((n-this.constants_.SMALL_PADDING)/n)));else return 0;if(uH.isInlineInput(e)&&e instanceof uz){let r=e.connectedBlock;return null==(e=r?r.pathObject.outputShapeType:e.shape.type)||r&&r.outputConnection&&(r.statementInputCount||r.nextConnection)||n===o.SHAPES.HEXAGONAL&&n!==e?0:t-this.constants_.SHAPE_IN_SHAPE_PADDING[n][e]}return uH.isField(e)&&e instanceof uY?n===o.SHAPES.ROUND&&e.field instanceof dv?t-2.75*o.GRID_UNIT:t-this.constants_.SHAPE_IN_SHAPE_PADDING[n][0]:uH.isIcon(e)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let o=2;o<this.rows.length-1;o+=2){let r=this.rows[o-1],i=this.rows[o],s=this.rows[o+1];var e=2===o,t=o+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!s.precedesStatement;if(e?this.topRow.hasPreviousConnection:r.followsStatement){var n=i.elements[1];if(n=3===i.elements.length&&n instanceof uY&&(n.field instanceof cn||n.field instanceof dT),!e&&n)r.height-=this.constants_.SMALL_PADDING,s.height-=this.constants_.SMALL_PADDING,i.height-=this.constants_.MEDIUM_PADDING;else if(e||t){if(t){for(t=0,e=!1;t<i.elements.length;t++)if((n=i.elements[t])instanceof uz&&uH.isInlineInput(n)&&n.connectedBlock&&!n.connectedBlock.isShadow()&&40<=n.connectedBlock.getHeightWidth().height){e=!0;break}e&&(r.height-=this.constants_.SMALL_PADDING,s.height-=this.constants_.SMALL_PADDING)}}else r.height+=this.constants_.SMALL_PADDING}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},dO=class extends cf{constructor(e,t,n){super(e,t,n),this.markerCircle=null}showWithInputOutput(e){let t=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle(e.x,e.y),this.setParent_(t),this.showCurrent_()}showWithOutput_(e){this.showWithInputOutput(e)}showWithInput_(e){this.showWithInputOutput(e)}showWithBlock_(e){let t=(e=e.getLocation()).getHeightWidth();this.positionRect_(0,0,t.width,t.height),this.setParent_(e),this.showCurrent_()}positionCircle(e,t){let n,o;null==(n=this.markerCircle)||n.setAttribute("cx",`${e}`),null==(o=this.markerCircle)||o.setAttribute("cy",`${t}`),this.currentMarkerSvg=this.markerCircle}hide(){super.hide(),this.markerCircle&&(this.markerCircle.style.display="none")}createDomInternal_(){if(super.createDomInternal_(),this.markerCircle=e5(sU.CIRCLE,{r:this.constants_.CURSOR_RADIUS,"stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){let e=this.getBlinkProperties_();e5(sU.ANIMATE,e,this.markerCircle)}return this.markerSvg_}applyColour_(e){let t,n;if(super.applyColour_(e),null==(t=this.markerCircle)||t.setAttribute("fill",this.colour_),null==(n=this.markerCircle)||n.setAttribute("stroke",this.colour_),this.isCursor()){let t;e=this.colour_+";transparent;transparent;",null==(t=this.markerCircle)||t.firstElementChild.setAttribute("values",e)}}},dR=class extends cg{constructor(e,t,n){super(e,t,n),this.svgPathSelected=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=n}setPath(e){super.setPath(e),this.svgPathSelected&&this.svgPathSelected.setAttribute("d",e)}applyColour(e){super.applyColour(e);let t=e.getParent();for(let n of(e.isShadow()&&t&&this.svgPath.setAttribute("stroke",t.getColourTertiary()),this.outlines.values()))n.setAttribute("fill",this.style.colourTertiary)}flipRTL(){for(let e of(super.flipRTL(),this.outlines.values()))e.setAttribute("transform","scale(-1 1)")}updateSelected(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.setAttribute("fill","none"),this.svgPathSelected.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")}updateShapeForInputHighlight(e,t){e=e.getParentInput().name,(e=this.getOutlinePath(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}beginDrawing(){for(let e of(this.remainingOutlines.clear(),this.outlines.keys()))this.remainingOutlines.add(e)}endDrawing(){if(this.remainingOutlines.size)for(let e of this.remainingOutlines)this.removeOutlinePath(e);this.remainingOutlines.clear()}setOutlinePath(e,t){(e=this.getOutlinePath(e)).setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)}getOutlinePath(e){return this.outlines.has(e)||this.outlines.set(e,e5(sU.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}removeOutlinePath(e){let t,n;null==(t=this.outlines.get(e))||null==(n=t.parentNode)||n.removeChild(this.outlines.get(e)),this.outlines.delete(e)}},dx=class extends cy{constructor(e){super(e)}makeConstants_(){return new db}makeRenderInfo_(e){return new dk(this,e)}makeDrawer_(e,t){return new dy(e,t)}makeMarkerDrawer(e,t){return new dO(e,this.getConstants(),t)}makePathObject(e,t){return new dR(e,t,this.getConstants())}getConstants(){return this.constants_}getConnectionPreviewMethod(e,t,n){return es("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),t.type===uv.OUTPUT_VALUE?e.isConnected()?cm.PREVIEW_TYPE.REPLACEMENT_FADE:cm.PREVIEW_TYPE.INPUT_OUTLINE:super.getConnectionPreviewMethod(e,t,n)}};rZ("zelos",dx);var d$=class{constructor(e){this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null,this.workspace=e.workspace}previewReplacement(e,t,n){O.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=n,n.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(t)&&(t.highlight(),this.staticConn=t)}finally{O.enable$$module$build$src$core$events$utils()}}previewConnection(e,t){if(e!==this.draggedConn||t!==this.staticConn){O.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(e,t)&&(this.markerConn=this.previewMarker(e,t)),this.workspace.getRenderer().shouldHighlightConnection(t)&&t.highlight(),this.draggedConn=e,this.staticConn=t}finally{O.enable$$module$build$src$core$events$utils()}}}shouldUseMarkerPreview(e,t){return t.type===uv.PREVIOUS_STATEMENT||t.type===uv.NEXT_STATEMENT||!(this.workspace.getRenderer()instanceof dx)}previewMarker(e,t){let n=e.getSourceBlock(),o=this.createInsertionMarker(n),r=this.getMatchingConnection(n,o,e);if(!r)return null;o.queueRender(),tG(),r.connect(t);let i={x:t.x-r.x,y:t.y-r.y},s=r.getOffsetInBlock().clone();return tV().then(()=>{if(!o.isDeadOrDying()){O.disable$$module$build$src$core$events$utils();try{null==o||o.positionNearConnection(r,i,s),null==o||o.getSvgRoot().setAttribute("visibility","visible")}finally{O.enable$$module$build$src$core$events$utils()}}}),r}createInsertionMarker(e){let t=ns(e,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!t)throw Error(`Failed to serialize source block. ${e.toDevString()}`);for(let n of(e=ng(t,this.workspace)).getDescendants(!1))n.setInsertionMarker(!0);return e.initSvg(),e.getSvgRoot().setAttribute("visibility","hidden"),e}getMatchingConnection(e,t,n){if(e=e.getConnections_(!0),t=t.getConnections_(!0),e.length!==t.length)return null;for(let o=0;o<e.length;o++)if(e[o]===n)return t[o];return null}hidePreview(){O.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{O.enable$$module$build$src$core$events$utils()}}hideInsertionMarker(e){let t,n=e.getSourceBlock(),o=n.outputConnection;if((null==(t=n.previousConnection)?0:t.targetConnection)||(null==o?0:o.targetConnection))n.unplug(!0);else{let t;null==(t=e.targetBlock())||t.unplug(!1)}n.dispose()}dispose(){this.hidePreview()}};Z(A.CONNECTION_PREVIEWER,$,d$);var dA={};dA.Align=O.Align$$module$build$src$core$inputs$align,dA.DummyInput=cr,dA.EndRowInput=ci,dA.Input=co,dA.StatementInput=cs,dA.ValueInput=O.ValueInput$$module$build$src$core$inputs$value_input,dA.inputTypes=O.inputTypes$$module$build$src$core$inputs$input_types;var dN=!1;O.CodeGenerator$$module$build$src$core$generator=class{constructor(e){this.forBlock=Object.create(null),this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=eA());var t=[];this.init(e),e=e.getTopBlocks(!0);for(let n=0,o;o=e[n];n++){let e=this.blockToCode(o);Array.isArray(e)&&(e=e[0]),e&&(o.outputConnection&&(e=this.scrubNakedValue(e),this.STATEMENT_PREFIX&&!o.suppressPrefixSuffix&&(e=this.injectId(this.STATEMENT_PREFIX,o)+e),this.STATEMENT_SUFFIX&&!o.suppressPrefixSuffix&&(e+=this.injectId(this.STATEMENT_SUFFIX,o))),t.push(e))}return t=t.join("\n"),(t=(t=(t=this.finish(t)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")}prefixLines(e,t){return t+e.replace(/(?!\n$)\n/g,"\n"+t)}allNestedComments(e){let t=[];e=e.getDescendants(!0);for(let n=0;n<e.length;n++){let o=e[n].getCommentText();o&&t.push(o)}return t.length&&t.push(""),t.join("\n")}blockToCode(e,t){if(!1===this.isInitialized&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var n=this.forBlock[e.type];if("function"!=typeof n)throw Error(`${this.name_} generator does not know how to generate code for block type "${e.type}".`);if(Array.isArray(n=n.call(e,e,this))){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,n[0],t),n[1]]}if("string"==typeof n)return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(n=this.injectId(this.STATEMENT_PREFIX,e)+n),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(n+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,n,t);if(null===n)return"";throw SyntaxError("Invalid code generated: "+n)}valueToCode(e,t,n){if(isNaN(n))throw TypeError("Expecting valid order from block: "+e.type);var o=e.getInputTargetBlock(t);if(!o&&!e.getInput(t))throw ReferenceError(`Input "${t}" doesn't exist on "${e.type}"`);if(!o||""===(t=this.blockToCode(o)))return"";if(!Array.isArray(t))throw TypeError(`Expecting tuple from value block: ${o.type} See developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information`);if(e=t[0],isNaN(t=t[1]))throw TypeError("Expecting valid order from value block: "+o.type);if(!e)return"";o=!1;var r=Math.floor(n);let i=Math.floor(t);if(r<=i&&(r!==i||0!==r&&99!==r)){for(o=!0,r=0;r<this.ORDER_OVERRIDES.length;r++)if(this.ORDER_OVERRIDES[r][0]===n&&this.ORDER_OVERRIDES[r][1]===t){o=!1;break}}return o&&(e="("+e+")"),e}statementToCode(e,t){let n=e.getInputTargetBlock(t);if(!n&&!e.getInput(t))throw ReferenceError(`Input "${t}" doesn't exist on "${e.type}"`);if("string"!=typeof(e=this.blockToCode(n)))throw TypeError("Expecting code from statement block: "+(n&&n.type));return e&&(e=this.prefixLines(e,this.INDENT)),e}addLoopTrap(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e}injectId(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")}addReservedWords(e){this.RESERVED_WORDS_+=e+","}provideFunction_(e,t){if(!this.definitions_[e]){let n,o=this.nameDB_.getDistinctName(e,O.NameType$$module$build$src$core$names.PROCEDURE);for(this.functionNames_[e]=o,Array.isArray(t)&&(t=t.join("\n")),t=t.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,o);n!==t;)n=t,t=t.replace(/^(( {2})*) {2}/gm,"$1\0");t=t.replace(/\0/g,this.INDENT),this.definitions_[e]=t}return this.functionNames_[e]}getVariableName(e){return this.getName(e,O.NameType$$module$build$src$core$names.VARIABLE)}getProcedureName(e){return this.getName(e,O.NameType$$module$build$src$core$names.PROCEDURE)}getName(e,t){if(!this.nameDB_)throw Error("Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.");return this.nameDB_.getName(e,t)}init(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(e,t,n){return t}finish(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}scrubNakedValue(e){return e}},O.CodeGenerator$$module$build$src$core$generator;var dM=class extends d_{constructor(e,t){super(e),this.flyout_=t}getBoundingBox(){let e;try{e=this.workspace_.getCanvas().getBBox()}catch(t){e={height:0,y:0,width:0,x:0}}return e}getContentMetrics(e){let t=this.getBoundingBox();return e=e?1:this.workspace_.scale,{height:t.height*e,width:t.width*e,top:t.y*e,left:t.x*e}}getScrollMetrics(e,t,n){return t=n||this.getContentMetrics(),n=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(t.height+2*n)/e,width:(t.width+t.left+n)/e,top:0,left:0}}};(d1=d6||(d6={})).BLOCK="block",d1.BUTTON="button";var dL=class extends cK{constructor(e){super(),this.horizontalLayout=!1,this.boundEvents=[],this.filterWrapper=this.reflowWrapper=null,this.mats=[],this.buttons_=[],this.contents=[],this.listeners=[],this.permanentlyDisabled=[],this.recycledBlocks=[],this.autoClose=!0,this.visible=!1,this.containerVisible=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new cN(e),this.workspace_.setMetricsManager(new dM(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.visible),this.id=ea(),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.rectMap_=new WeakMap,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=3*this.MARGIN,this.GAP_Y=3*this.MARGIN}createDom(e){return this.svgGroup_=e5(e,{class:"blocklyFlyout"}),this.svgGroup_.style.display="none",this.svgBackground_=e5(sU.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new dm(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),this.boundEvents.push(eX(this.svgGroup_,"wheel",this,this.wheel_)),this.filterWrapper=this.filterForCapacity.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper),this.boundEvents.push(eX(this.svgBackground_,"pointerdown",this,this.onMouseDown)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:sf.ComponentWeight.FLYOUT_WEIGHT,capabilities:[sf.Capability.AUTOHIDEABLE,sf.Capability.DELETE_AREA,sf.Capability.DRAG_TARGET]})}dispose(){for(let e of(this.hide(),this.targetWorkspace.getComponentManager().removeComponent(this.id),this.boundEvents))eK(e);this.boundEvents.length=0,this.filterWrapper&&this.targetWorkspace.removeChangeListener(this.filterWrapper),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&e8(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}setAutoClose(e){this.autoClose=e,this.targetWorkspace.recordDragTargets(),this.targetWorkspace.resizeContents()}autoHide(e){!e&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}getTargetWorkspace(){return this.targetWorkspace}isVisible(){return this.visible}setVisible(e){let t=e!==this.isVisible();this.visible=e,t&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}setContainerVisible(e){let t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay()}getContents(){return this.contents}setContents(e){this.contents=e}updateDisplay(){let e,t;e=!!this.containerVisible&&this.isVisible(),this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none"),null==(t=this.workspace_.scrollbar)||t.setContainerVisible(e)}positionAt_(e,t,n,o){let r,i;null==(r=this.svgGroup_)||r.setAttribute("width",`${e}`),null==(i=this.svgGroup_)||i.setAttribute("height",`${t}`),this.workspace_.setCachedParentSvgSize(e,t),this.svgGroup_&&e7(this.svgGroup_,"translate("+n+"px,"+o+"px)"),(e=this.workspace_.scrollbar)&&(e.setOrigin(n,o),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}hide(){if(this.isVisible()){for(let e of(this.setVisible(!1),this.listeners))eK(e);this.listeners.length=0,this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null)}}show(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks(),"string"==typeof e&&(e=this.getDynamicCategoryContents(e)),this.setVisible(!0),e=tv(e),e=this.createFlyoutInfo(e),tG(this.workspace_),this.setContents(e.contents),this.layout_(e.contents,e.gaps),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity(),this.position(),this.reflowWrapper=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper),this.emptyRecycledBlocks()}createFlyoutInfo(e){let t=[],n=[];this.permanentlyDisabled.length=0;let o=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(let r of e){if("custom"in r){e=tv(e=this.getDynamicCategoryContents(r.custom));let{contents:o,gaps:i}=this.createFlyoutInfo(e);t.push(...o),n.push(...i)}switch(r.kind.toUpperCase()){case"BLOCK":e=r;let i=this.createFlyoutBlock(e);t.push({type:d6.BLOCK,block:i}),this.addBlockGap(e,n,o);break;case"SEP":this.addSeparatorGap(r,n,o);break;case"LABEL":e=this.createButton(r,!0),t.push({type:d6.BUTTON,button:e}),n.push(o);break;case"BUTTON":e=this.createButton(r,!1),t.push({type:d6.BUTTON,button:e}),n.push(o)}}return{contents:t,gaps:n}}getDynamicCategoryContents(e){if("function"!=typeof(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e)))throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}createButton(e,t){return new cd(this.workspace_,this.targetWorkspace,e,t)}createFlyoutBlock(e){let t;return e.blockxml?(e="string"==typeof e.blockxml?O.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,(t=this.getRecycledBlock(e.getAttribute("type")))||(t=o1(e,this.workspace_))):(t=this.getRecycledBlock(e.type))||(void 0===e.enabled&&(e.enabled="true"!==e.disabled&&!0!==e.disabled),void 0===e.disabledReasons&&!1===e.enabled&&(e.disabledReasons=[lv]),t=nm(e,this.workspace_)),t.isEnabled()||this.permanentlyDisabled.push(t),t}getRecycledBlock(e){let t=-1;for(let n=0;n<this.recycledBlocks.length;n++)if(this.recycledBlocks[n].type===e){t=n;break}return -1===t?void 0:this.recycledBlocks.splice(t,1)[0]}addBlockGap(e,t,n){let o;e.gap?o=parseInt(String(e.gap)):e.blockxml&&(o=parseInt((e="string"==typeof e.blockxml?O.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml).getAttribute("gap"))),t.push(!o||isNaN(o)?n:o)}addSeparatorGap(e,t,n){!isNaN(e=parseInt(String(e.gap)))&&0<t.length?t[t.length-1]=e:t.push(n)}clearOldBlocks(){let e;var t=this.workspace_.getTopBlocks(!1);for(let e=0,n;n=t[e];e++)this.blockIsRecyclable_(n)?this.recycleBlock(n):n.dispose(!1,!1);for(t=0;t<this.mats.length;t++){let e=this.mats[t];e&&(n7(e),e8(e))}this.mats.length=0;for(let e=0,t;t=this.buttons_[e];e++)t.dispose();this.buttons_.length=0,null==(e=this.workspace_.getPotentialVariableMap())||e.clear()}emptyRecycledBlocks(){for(let e=0;e<this.recycledBlocks.length;e++)this.recycledBlocks[e].dispose();this.recycledBlocks=[]}blockIsRecyclable_(e){return!1}recycleBlock(e){let t=e.getRelativeToSurfaceXY();e.moveBy(-t.x,-t.y),this.recycledBlocks.push(e)}addBlockListeners_(e,t,n){this.listeners.push(eX(e,"pointerdown",null,this.blockMouseDown(t))),this.listeners.push(eX(n,"pointerdown",null,this.blockMouseDown(t))),this.listeners.push(eY(e,"pointerenter",t,()=>{this.targetWorkspace.isDragging()||t.addSelect()})),this.listeners.push(eY(e,"pointerleave",t,()=>{this.targetWorkspace.isDragging()||t.removeSelect()})),this.listeners.push(eY(n,"pointerenter",t,()=>{this.targetWorkspace.isDragging()||t.addSelect()})),this.listeners.push(eY(n,"pointerleave",t,()=>{this.targetWorkspace.isDragging()||t.removeSelect()}))}blockMouseDown(e){return t=>{let n=this.targetWorkspace.getGesture(t);n&&(n.setStartBlock(e),n.handleFlyoutStart(t,this))}}onMouseDown(e){let t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)}isBlockCreatable(e){return e.isEnabled()}createBlock(e){let t=null;O.disable$$module$build$src$core$events$utils();var n=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{t=this.placeNewBlock(e)}finally{O.enable$$module$build$src$core$events$utils()}if(this.targetWorkspace.hideChaff(),e=ni(this.targetWorkspace,n),eC()){for(O.setGroup$$module$build$src$core$events$utils(!0),n=0;n<e.length;n++){let t=e[n];eb(new(ew(iK.VAR_CREATE))(t))}eb(new(ew(iK.BLOCK_CREATE))(t))}return this.autoClose?this.hide():this.filterForCapacity(),t}initFlyoutButton_(e,t,n){let o=e.createDom();e.moveTo(t,n),e.show(),this.listeners.push(eX(o,"pointerdown",this,this.onMouseDown)),this.buttons_.push(e)}createRect_(e,t,n,o,r){return(t=e5(sU.RECT,{"fill-opacity":0,x:t,y:n,height:o.height,width:o.width})).tooltip=e,n9(t),this.workspace_.getCanvas().insertBefore(t,e.getSvgRoot()),this.rectMap_.set(e,t),this.mats[r]=t}moveRectToBlock_(e,t){let n=t.getHeightWidth();e.setAttribute("width",String(n.width)),e.setAttribute("height",String(n.height)),t=t.getRelativeToSurfaceXY(),e.setAttribute("y",String(t.y)),e.setAttribute("x",String(this.RTL?t.x-n.width:t.x))}filterForCapacity(){let e=this.workspace_.getTopBlocks(!1);for(let t=0,n;n=e[t];t++)if(!this.permanentlyDisabled.includes(n)){let e=this.targetWorkspace.isCapacityAvailable(eB(n));for(;n;)n.setDisabledReason(!e,"WORKSPACE_AT_BLOCK_CAPACITY"),n=n.getNextBlock()}}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowInternal_(),this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return!!this.workspace_.scrollbar&&this.workspace_.scrollbar.isVisible()}placeNewBlock(e){var t=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered");let n=this.serializeBlock(e);return t.setResizesEnabled(!1),t=ng(n,t),this.positionNewBlock(e,t),t}serializeBlock(e){return ns(e)}positionNewBlock(e,t){let n=this.targetWorkspace;var o=n.getOriginOffsetInPixels(),r=this.workspace_.getOriginOffsetInPixels();(e=e.getRelativeToSurfaceXY()).scale(this.workspace_.scale),r=sA.sum(r,e),(o=sA.difference(r,o)).scale(1/n.scale),t.moveTo(new sA(o.x,o.y))}};dL.FlyoutItemType=d6;var dD=class extends dL{constructor(e){super(e)}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),o=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"==typeof e.y&&(this.workspace_.scrollY=-(n.top+(n.height-o.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();let t=e.getAbsoluteMetrics(),n=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===s3.LEFT?e.width:n.width-this.width_:this.toolboxPosition_===s3.LEFT?0:n.width:this.toolboxPosition_===s3.LEFT?0:n.width+t.left-this.width_}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath(e,t){let n=this.toolboxPosition_===s3.RIGHT;var o=e+this.CORNER_RADIUS;(o=["M "+(n?o:0)+",0"]).push("h",n?-e:e),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,+!n,n?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("v",Math.max(0,t)),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,+!n,n?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("h",n?e:-e),o.push("z"),this.svgBackground_.setAttribute("d",o.join(" "))}scrollToStart(){let e;null==(e=this.workspace_.scrollbar)||e.setY(0)}wheel_(e){var t=eQ(e);if(t.y){let e,n=this.workspace_.getMetricsManager(),o=n.getScrollMetrics();t=n.getViewMetrics().top-o.top+t.y,null==(e=this.workspace_.scrollbar)||e.setY(t),oR(this.workspace_),nK()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;var n=this.MARGIN;let o=this.RTL?n:n+this.tabWidth_;for(let l=0,a;a=e[l];l++)if("block"===a.type){var r=a.block;if(!r)continue;var i=r.getDescendants(!1);for(let e=0,t;t=i[e];e++)t.isInFlyout=!0;i=r.getSvgRoot();let e=r.getHeightWidth();var s=r.outputConnection?o-this.tabWidth_:o;r.moveBy(s,n),s=this.createRect_(r,this.RTL?s-e.width:s,n,e,l),this.addBlockListeners_(i,r,s),n+=e.height+t[l]}else"button"===a.type&&(r=a.button,this.initFlyoutButton_(r,o,n),n+=r.height+t[l])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;let t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;let e=this.svgGroup_.getBoundingClientRect(),t=e.left;return this.toolboxPosition_===s3.LEFT?new sH(-1e9,1e9,-1e9,t+e.width):new sH(-1e9,1e9,t,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;var t=this.workspace_.getTopBlocks(!1);for(let o=0,r;r=t[o];o++){var n=r.getHeightWidth().width;r.outputConnection&&(n-=this.tabWidth_),e=Math.max(e,n)}for(let t=0,n;n=this.buttons_[t];t++)e=Math.max(e,n.width);if(e+=1.5*this.MARGIN+this.tabWidth_,e*=this.workspace_.scale,e+=sY.scrollbarThickness,this.width_!==e){for(let o=0,r;r=t[o];o++){if(this.RTL){n=r.getRelativeToSurfaceXY().x;let t=e/this.workspace_.scale-this.MARGIN;r.outputConnection||(t-=this.tabWidth_),r.moveBy(t-n,0)}this.rectMap_.has(r)&&this.moveRectToBlock_(this.rectMap_.get(r),r)}if(this.RTL)for(let n=0,o;o=this.buttons_[n];n++)t=o.getPosition().y,o.moveTo(e/this.workspace_.scale-o.width-this.MARGIN-this.tabWidth_,t);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==s3.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};dD.registryName="verticalFlyout",Z(A.FLYOUTS_VERTICAL_TOOLBOX,$,dD);var dP=class extends dL{constructor(e){super(e),this.horizontalLayout=!0}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),o=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"==typeof e.x&&(this.workspace_.scrollX=-(n.left+(n.width-o.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();let t=e.getAbsoluteMetrics(),n=e.getViewMetrics();e=e.getToolboxMetrics();let o=this.toolboxPosition_===s3.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?o?e.height:n.height-this.height_:o?0:n.height:o?0:n.height+t.top-this.height_}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath(e,t){let n=this.toolboxPosition_===s3.TOP,o=["M 0,"+(n?0:this.CORNER_RADIUS)];n?(o.push("h",e+2*this.CORNER_RADIUS),o.push("v",t),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("h",-e),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),o.push("h",e),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("v",t),o.push("h",-e-2*this.CORNER_RADIUS)),o.push("z"),this.svgBackground_.setAttribute("d",o.join(" "))}scrollToStart(){let e;null==(e=this.workspace_.scrollbar)||e.setX(this.RTL?1/0:0)}wheel_(e){var t=eQ(e);if(t=t.x||t.y){let e,n=this.workspace_.getMetricsManager(),o=n.getScrollMetrics();t=n.getViewMetrics().left-o.left+t,null==(e=this.workspace_.scrollbar)||e.setX(t),oR(this.workspace_),nK()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;let n=this.MARGIN,o=n+this.tabWidth_;this.RTL&&(e=e.reverse());for(let l=0,a;a=e[l];l++)if("block"===a.type){var r=a.block;if(null==r)continue;var i=r.getDescendants(!1);for(let e=0,t;t=i[e];e++)t.isInFlyout=!0;i=r.getSvgRoot();let e=r.getHeightWidth();var s=r.outputConnection?this.tabWidth_:0;s=this.RTL?o+e.width:o-s,r.moveBy(s,n),s=this.createRect_(r,s,n,e,l),o+=e.width+t[l],this.addBlockListeners_(i,r,s)}else"button"===a.type&&(r=a.button,this.initFlyoutButton_(r,o,n),o+=r.width+t[l])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;let t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;let e=this.svgGroup_.getBoundingClientRect(),t=e.top;return this.toolboxPosition_===s3.TOP?new sH(-1e9,t+e.height,-1e9,1e9):new sH(t,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0,t=this.workspace_.getTopBlocks(!1);for(let n=0,o;o=t[n];n++)e=Math.max(e,o.getHeightWidth().height);let n=this.buttons_;for(let t=0,o;o=n[t];t++)e=Math.max(e,o.height);if(e+=1.5*this.MARGIN,e*=this.workspace_.scale,e+=sY.scrollbarThickness,this.height_!==e){for(let e=0,n;n=t[e];e++)this.rectMap_.has(n)&&this.moveRectToBlock_(this.rectMap_.get(n),n);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==s3.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};Z(A.FLYOUTS_HORIZONTAL_TOOLBOX,$,dP);var dB=class extends ub{constructor(e,t,n,o,r){super(aF.SKIP_SETUP),this.defaultType="",this.variableTypes=[],this.variable=null,this.SERIALIZABLE=!0,this.menuGenerator_=dB.dropdownCreate,this.defaultVariableName="string"==typeof e?e:"",this.size_=new sV(0,0),e!==aF.SKIP_SETUP&&(r?this.configure_(r):this.setTypes(n,o),t&&this.setValidator(t))}configure_(e){super.configure_(e),this.setTypes(e.variableTypes,e.defaultType)}initModel(){var e=this.getSourceBlock();if(!e)throw new aU;this.variable||(e=O.getOrCreateVariablePackage$$module$build$src$core$variables(e.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(e.getId()))}shouldAddBorderRect_(){let e=this.getSourceBlock();if(!e)throw new aU;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!==e.type)}fromXml(e){var t=this.getSourceBlock();if(!t)throw new aU;let n=e.getAttribute("id"),o=e.textContent,r=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(t=O.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,n,o,r),null!==r&&r!==t.type)throw Error("Serialized variable type with id '"+t.getId()+"' had type "+t.type+", and does not match variable field that references it: "+oQ(e)+".");this.setValue(t.getId())}toXml(e){return this.initModel(),e.id=this.variable.getId(),e.textContent=this.variable.name,this.variable.type&&e.setAttribute("variabletype",this.variable.type),e}saveState(e){var t=this.saveLegacyState(dB);return null!==t||(this.initModel(),t={id:this.variable.getId()},e&&(t.name=this.variable.name,t.type=this.variable.type)),t}loadState(e){let t=this.getSourceBlock();if(!t)throw new aU;this.loadLegacyState(dB,e)||(e=O.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}setSourceBlock(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(e)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.name:""}getVariable(){return this.variable}getValidator(){return this.variable?this.validator_:null}doClassValidation_(e){if(null===e)return null;var t=this.getSourceBlock();if(!t)throw new aU;return(t=O.getVariable$$module$build$src$core$variables(t.workspace,e))?(t=t.type,this.typeIsAllowed(t)?e:(console.warn("Variable type doesn't match this field!  Type was "+t),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}doValueUpdate_(e){let t=this.getSourceBlock();if(!t)throw new aU;this.variable=O.getVariable$$module$build$src$core$variables(t.workspace,e),super.doValueUpdate_(e)}typeIsAllowed(e){let t=this.getVariableTypes();if(!t)return!0;for(let n=0;n<t.length;n++)if(e===t[n])return!0;return!1}getVariableTypes(){var e=this.variableTypes;if(null===e&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())return this.sourceBlock_.workspace.getVariableTypes();if(0===(e=e||[""]).length)throw Error("'variableTypes' of field variable "+(e=this.getText())+" was an empty list");return e}setTypes(e=null,t=""){if(Array.isArray(e)){let n=!1;for(let o=0;o<e.length;o++)e[o]===t&&(n=!0);if(!n)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}else if(null!==e)throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.defaultType=t,this.variableTypes=e}refreshVariableName(){this.forceRerender()}onItemSelected_(e,t){if(e=t.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===cS)return void O.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,this.variable);if(e===cw)return void this.sourceBlock_.workspace.deleteVariableById(this.variable.getId())}this.setValue(e)}referencesVariables(){return!0}static fromJson(e){return new this(oE(e.variable),void 0,void 0,void 0,e)}static dropdownCreate(){if(!this.variable)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");let e=this.getText(),t=[];if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())for(var n=this.getVariableTypes(),o=0;o<n.length;o++){let e=this.sourceBlock_.workspace.getVariablesOfType(n[o]);t=t.concat(e)}for(t.sort(lB.compareByName),n=[],o=0;o<t.length;o++)n[o]=[t[o].name,t[o].getId()];return n.push([O.Msg$$module$build$src$core$msg.RENAME_VARIABLE,cS]),O.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&n.push([O.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",e),cw]),n}};rh("field_variable",dB);var dF=class extends dE{constructor(e,t,n,o,r,i){super(aF.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces=null,this.spellcheck_=!1,e!==aF.SKIP_SETUP&&(i?this.configure_(i):this.setConstraints(t,n,o),this.setValue(e),r&&this.setValidator(r))}configure_(e){super.configure_(e),this.setMinInternal(e.min),this.setMaxInternal(e.max),this.setPrecisionInternal(e.precision)}setConstraints(e,t,n){this.setMinInternal(e),this.setMaxInternal(t),this.setPrecisionInternal(n),this.setValue(this.getValue())}setMin(e){this.setMinInternal(e),this.setValue(this.getValue())}setMinInternal(e){null==e?this.min_=-1/0:isNaN(e=Number(e))||(this.min_=e)}getMin(){return this.min_}setMax(e){this.setMaxInternal(e),this.setValue(this.getValue())}setMaxInternal(e){null==e?this.max_=1/0:isNaN(e=Number(e))||(this.max_=e)}getMax(){return this.max_}setPrecision(e){this.setPrecisionInternal(e),this.setValue(this.getValue())}setPrecisionInternal(e){this.precision_=Number(e)||0;let t=String(this.precision_);t.includes("e")&&(t=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));let n=t.indexOf(".");this.decimalPlaces=-1===n?e?0:null:t.length-n-1}getPrecision(){return this.precision_}doClassValidation_(e){return null===e||isNaN(e=Number((e=(e=(e=`${e}`.replace(/O/gi,"0")).replace(/,/g,"")).replace(/infinity/i,"Infinity"))||0))?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),null!==this.decimalPlaces&&(e=Number(e.toFixed(this.decimalPlaces))),e)}widgetCreate_(){let e=super.widgetCreate_();return-1/0<this.min_&&(e.min=`${this.min_}`,tF(e,l4.VALUEMIN,this.min_)),1/0>this.max_&&(e.max=`${this.max_}`,tF(e,l4.VALUEMAX,this.max_)),e}static fromJson(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}};rh("field_number",dF),dF.prototype.DEFAULT_VALUE=0;var dU=class extends cn{constructor(e,t,n){super(String(null!=e?e:""),t,n),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(e){return new this(oE(e.text),void 0,e)}};rh("field_label_serializable",dU);var dH=class extends aF{constructor(e,t,n){super(aF.SKIP_SETUP),this.SERIALIZABLE=!0,this.CURSOR="default",this.value_=this.value_,this.checkChar=dH.CHECK_CHAR,e!==aF.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.checkCharacter&&(this.checkChar=e.checkCharacter)}saveState(){let e=this.saveLegacyState(dH);return null!==e?e:this.getValueBoolean()}initView(){super.initView();let e=this.getTextElement();e3(e,"blocklyCheckbox"),e.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(e){this.checkChar=e||dH.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(e){return!0===e||"TRUE"===e?"TRUE":!1===e||"FALSE"===e?"FALSE":null}doValueUpdate_(e){this.value_=this.convertValueToBool(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool(this.value_))}convertValueToBool(e){return"string"==typeof e?"TRUE"===e:!!e}static fromJson(e){return new this(e.checked,void 0,e)}};dH.CHECK_CHAR="✓",rh("field_checkbox",dH),dH.prototype.DEFAULT_VALUE=!1;var dV=class{constructor(e,t){this.draggable=e,this.workspace=t,this.dragTarget=null,this.startLoc=e.getRelativeToSurfaceXY()}onDragStart(e){this.draggable.startDrag(e)}onDrag(e,t){this.moveDraggable(e,t),it(t=this.getRoot(this.draggable))&&t.setDeleteStyle(this.wouldDeleteDraggable(e,t)),this.updateDragTarget(e)}updateDragTarget(e){e=this.workspace.getDragTarget(e);let t=this.getRoot(this.draggable);if(this.dragTarget!==e){let n;null==(n=this.dragTarget)||n.onDragExit(t),null==e||e.onDragEnter(t)}null==e||e.onDragOver(t),this.dragTarget=e}moveDraggable(e,t){t=this.pixelsToWorkspaceUnits(t),t=sA.sum(this.startLoc,t),this.draggable.drag(t,e)}wouldDeleteDraggable(e,t){return!!((e=this.workspace.getDragTarget(e))&&this.workspace.getComponentManager().hasCapability(e.id,sf.Capability.DELETE_AREA))&&e.wouldDelete(t)}onDragEnd(e){let t=O.getGroup$$module$build$src$core$events$utils();var n=this.workspace.getDragTarget(e);let o=this.getRoot(this.draggable);if(n){let e;null==(e=this.dragTarget)||e.onDrop(o)}this.shouldReturnToStart(e,o)&&this.draggable.revertDrag(),(n=it(o)&&this.wouldDeleteDraggable(e,o))&&this.draggable instanceof cX&&rr(this.draggable.getRootBlock()),this.draggable.endDrag(e),n&&it(o)&&(e=O.getGroup$$module$build$src$core$events$utils(),O.setGroup$$module$build$src$core$events$utils(t),o.dispose(),O.setGroup$$module$build$src$core$events$utils(e))}getRoot(e){return e instanceof cX?e.getRootBlock():e}shouldReturnToStart(e,t){return!!(e=this.workspace.getDragTarget(e))&&e.shouldPreventMove(t)}pixelsToWorkspaceUnits(e){return e=new sA(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}};Z(A.BLOCK_DRAGGER,$,dV);var dG={};dG.BlockDragStrategy=cF,dG.BubbleDragStrategy=uI,dG.CommentDragStrategy=a5,dG.Dragger=dV;var dj=class extends i4{constructor(e,t,n){super(e?e.workspace.id:void 0),this.type=iK.BLOCK_DRAG,e&&(this.blockId=e.id,this.isStart=t,this.blocks=n)}toJson(){let e=super.toJson();if(void 0===this.isStart)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(void 0===this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new dj)).isStart=e.isStart,t.blockId=e.blockId,t.blocks=e.blocks,t}};Z(A.EVENT,iK.BLOCK_DRAG,dj);var dW=class extends lQ{constructor(e,t,n,o){super(e),this.type=iK.BLOCK_FIELD_INTERMEDIATE_CHANGE,this.recordUndo=!1,e&&(this.name=t,this.oldValue=n,this.newValue=o)}toJson(){let e=super.toJson();if(!this.name)throw Error("The changed field name is undefined. Either pass a name to the constructor, or call fromJson.");return e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new dW)).name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,t}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(!(t=t.getBlockById(this.blockId)))throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");e=e?this.newValue:this.oldValue,(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name)}};Z(A.EVENT,iK.BLOCK_FIELD_INTERMEDIATE_CHANGE,dW);var dz=class extends lQ{constructor(e){super(e),this.type=iK.BLOCK_MOVE,e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}toJson(){let e=super.toJson();return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate=`${Math.round(this.oldCoordinate.x)}, ${Math.round(this.oldCoordinate.y)}`),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate=`${Math.round(this.newCoordinate.x)}, ${Math.round(this.newCoordinate.y)}`),this.reason&&(e.reason=this.reason),this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new dz)).oldParentId=e.oldParentId,t.oldInputName=e.oldInputName,e.oldCoordinate&&(n=e.oldCoordinate.split(","),t.oldCoordinate=new sA(Number(n[0]),Number(n[1]))),t.newParentId=e.newParentId,t.newInputName=e.newInputName,e.newCoordinate&&(n=e.newCoordinate.split(","),t.newCoordinate=new sA(Number(n[0]),Number(n[1]))),void 0!==e.reason&&(t.reason=e.reason),void 0!==e.recordUndo&&(t.recordUndo=e.recordUndo),t}recordNew(){let e=this.currentLocation();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}setReason(e){this.reason=e}currentLocation(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var t=e.getBlockById(this.blockId);if(!t)throw Error("The block associated with the block move event could not be found");e={};let n=t.getParent();return n?(e.parentId=n.id,(t=n.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&sA.equals(this.oldCoordinate,this.newCoordinate)}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var n=t.getBlockById(this.blockId);if(n){var o=e?this.newParentId:this.oldParentId,r=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,o){var i=t.getBlockById(o);if(!i)return void console.warn("Can't connect to non-existent block: "+o)}if(n.getParent()&&n.unplug(),e)r=n.getRelativeToSurfaceXY(),n.moveBy(e.x-r.x,e.y-r.y,this.reason);else{let e,o;(!(t=n.outputConnection)||n.previousConnection&&n.previousConnection.isConnected())&&(t=n.previousConnection),n=null==(o=t)?void 0:o.type,r?(n=i.getInput(r))&&(e=n.connection):n===uv.PREVIOUS_STATEMENT&&(e=i.nextConnection),e&&t?t.connect(e):console.warn("Can't connect to non-existent input: "+r)}}else console.warn("Can't move non-existent block: "+this.blockId)}};Z(A.EVENT,iK.BLOCK_MOVE,dz);var dX,dY,dK,dJ,dZ,dq,dQ,d0,d1,d2,d5,d3,d4,d6,d8,d9=class extends i4{constructor(e,t,n){super(e?e.workspace.id:void 0),this.type=iK.BUBBLE_OPEN,e&&(this.blockId=e.id,this.isOpen=t,this.bubbleType=n)}toJson(){let e=super.toJson();if(void 0===this.isOpen)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new d9)).isOpen=e.isOpen,t.bubbleType=e.bubbleType,t.blockId=e.blockId,t}};(e=d8||(d8={})).MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning",Z(A.EVENT,iK.BUBBLE_OPEN,d9);var d7={};d7.BubbleOpen=d9,d7.BubbleType=d8;var he=class extends i3{constructor(e){super(),this.isBlank=!e,e&&(this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=O.getGroup$$module$build$src$core$events$utils(),this.recordUndo=e_())}toJson(){let e=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new he)).commentId=e.commentId,t}static CommentCreateDeleteHelper(e,t){let n=e.getEventWorkspace_();if(t){if(!e.json)throw Error("Encountered a comment event without proper json");tM(e.json,n)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(t=n.getCommentById(e.commentId))?t.dispose():console.warn("Can't delete non-existent comment: "+e.commentId)}}},ht=class extends he{constructor(e,t,n){super(e),this.type=iK.COMMENT_CHANGE,e&&(this.oldContents_=void 0===t?"":t,this.newContents_=void 0===n?"":n)}toJson(){let e=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new ht)).oldContents_=e.oldContents,t.newContents_=e.newContents,t}isNull(){return this.oldContents_===this.newContents_}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){var n=e?this.newContents_:this.oldContents_;if(void 0===n){if(e)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson")}t.setText(n)}else console.warn("Can't change non-existent comment: "+this.commentId)}};Z(A.EVENT,iK.COMMENT_CHANGE,ht);var hn=class extends he{constructor(e,t){super(e),this.newCollapsed=t,this.type=iK.COMMENT_COLLAPSE}toJson(){let e=super.toJson();if(void 0===this.newCollapsed)throw Error("The new collapse value undefined. Either call recordNew, or call fromJson");return e.newCollapsed=this.newCollapsed,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new hn)).newCollapsed=e.newCollapsed,t}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(t=t.getCommentById(this.commentId))?t.setCollapsed(e?!!this.newCollapsed:!this.newCollapsed):console.warn("Can't collapse or uncollapse non-existent comment: "+this.commentId)}};Z(A.EVENT,iK.COMMENT_COLLAPSE,hn);var ho=class extends he{constructor(e){super(e),this.type=iK.COMMENT_CREATE,e&&(this.xml=oz(e),this.json=tN(e,{addCoordinates:!0}))}toJson(){let e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=oQ(this.xml),e.json=this.json,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new ho)).xml=O.textToDom$$module$build$src$core$utils$xml(e.xml),t.json=e.json,t}run(e){he.CommentCreateDeleteHelper(this,e)}};Z(A.EVENT,iK.COMMENT_CREATE,ho);var hr=class extends he{constructor(e){super(e),this.type=iK.COMMENT_DELETE,e&&(this.xml=oz(e),this.json=tN(e,{addCoordinates:!0}))}run(e){he.CommentCreateDeleteHelper(this,!e)}toJson(){let e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=oQ(this.xml),e.json=this.json,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new hr)).xml=O.textToDom$$module$build$src$core$utils$xml(e.xml),t.json=e.json,t}};Z(A.EVENT,iK.COMMENT_DELETE,hr);var hi=class extends i4{constructor(e,t){super(e?e.workspace.id:void 0),this.type=iK.COMMENT_DRAG,e&&(this.commentId=e.id,this.isStart=t)}toJson(){let e=super.toJson();if(void 0===this.isStart)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(void 0===this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.isStart=this.isStart,e.commentId=this.commentId,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new hi)).isStart=e.isStart,t.commentId=e.commentId,t}};Z(A.EVENT,iK.COMMENT_DRAG,hi);var hs=class extends he{constructor(e){super(e),this.type=iK.COMMENT_MOVE,e&&(this.comment_=e,this.oldCoordinate_=e.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setReason(e){this.reason=e}setOldCoordinate(e){this.oldCoordinate_=e}toJson(){let e=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, ${Math.round(this.oldCoordinate_.y)}`,e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new hs),n=e.oldCoordinate.split(","),t.oldCoordinate_=new sA(Number(n[0]),Number(n[1])),n=e.newCoordinate.split(","),t.newCoordinate_=new sA(Number(n[0]),Number(n[1])),t}isNull(){return sA.equals(this.oldCoordinate_,this.newCoordinate_)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(!(e=e?this.newCoordinate_:this.oldCoordinate_))throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");t.moveTo(e)}else console.warn("Can't move non-existent comment: "+this.commentId)}};Z(A.EVENT,iK.COMMENT_MOVE,hs);var hl=class extends he{constructor(e){super(e),this.type=iK.COMMENT_RESIZE,e&&(this.oldSize=e.getSize())}recordCurrentSizeAsNewSize(){if(this.newSize)throw Error("Tried to record the new size of a comment on the same event twice.");var e=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(!(e=e.getCommentById(this.commentId)))throw Error("The comment associated with the comment resize event could not be found");this.newSize=e.getSize()}toJson(){let e=super.toJson();if(!this.oldSize)throw Error("The old comment size is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newSize)throw Error("The new comment size is undefined. Either call recordCurrentSizeAsNewSize, or call fromJson");return e.oldWidth=Math.round(this.oldSize.width),e.oldHeight=Math.round(this.oldSize.height),e.newWidth=Math.round(this.newSize.width),e.newHeight=Math.round(this.newSize.height),e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new hl)).oldSize=new sV(e.oldWidth,e.oldHeight),t.newSize=new sV(e.newWidth,e.newHeight),t}isNull(){return sV.equals(this.oldSize,this.newSize)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(!(e=e?this.newSize:this.oldSize))throw Error("Either oldSize or newSize is undefined. Either pass a comment to the constructor and call recordCurrentSizeAsNewSize, or call fromJson");t.setSize(e)}else console.warn("Can't resize non-existent comment: "+this.commentId)}};Z(A.EVENT,iK.COMMENT_RESIZE,hl);var ha=class extends i4{constructor(e,t,n){super(n),this.type=iK.TOOLBOX_ITEM_SELECT,this.oldItem=null!=e?e:void 0,this.newItem=null!=t?t:void 0}toJson(){let e=super.toJson();return e.oldItem=this.oldItem,e.newItem=this.newItem,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new ha)).oldItem=e.oldItem,t.newItem=e.newItem,t}};Z(A.EVENT,iK.TOOLBOX_ITEM_SELECT,ha);var hu=class extends i3{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.type=iK.FINISHED_LOADING,this.isBlank=!!e,e&&(this.workspaceId=e.id)}};Z(A.EVENT,iK.FINISHED_LOADING,hu),O.BLOCK_CHANGE$$module$build$src$core$events$events=iK.BLOCK_CHANGE,O.BLOCK_CREATE$$module$build$src$core$events$events=iK.BLOCK_CREATE,O.BLOCK_DELETE$$module$build$src$core$events$events=iK.BLOCK_DELETE,t=iK.BLOCK_DRAG,O.BLOCK_MOVE$$module$build$src$core$events$events=iK.BLOCK_MOVE,n=iK.BLOCK_FIELD_INTERMEDIATE_CHANGE,o=iK.BUBBLE_OPEN,r=iK.BLOCK_CHANGE,s=iK.CLICK,l=iK.COMMENT_CHANGE,a=iK.COMMENT_CREATE,u=iK.COMMENT_DELETE,c=iK.COMMENT_MOVE,d=iK.COMMENT_RESIZE,h=iK.COMMENT_DRAG,p=iK.BLOCK_CREATE,f=iK.BLOCK_DELETE,g=iK.FINISHED_LOADING,m=iK.MARKER_MOVE,_=iK.BLOCK_MOVE,b=iK.SELECTED,y=iK.THEME_CHANGE,T=iK.TOOLBOX_ITEM_SELECT,E=iK.TRASHCAN_OPEN,v=iK.UI,C=iK.VAR_CREATE,I=iK.VAR_DELETE,S=iK.VAR_RENAME,w=iK.VIEWPORT_CHANGE,(k={}).Abstract=i3,k.BLOCK_CHANGE=O.BLOCK_CHANGE$$module$build$src$core$events$events,k.BLOCK_CREATE=O.BLOCK_CREATE$$module$build$src$core$events$events,k.BLOCK_DELETE=O.BLOCK_DELETE$$module$build$src$core$events$events,k.BLOCK_DRAG=t,k.BLOCK_FIELD_INTERMEDIATE_CHANGE=n,k.BLOCK_MOVE=O.BLOCK_MOVE$$module$build$src$core$events$events,k.BUBBLE_OPEN=o,k.BUMP_EVENTS=L,k.BlockBase=lQ,k.BlockChange=l0,k.BlockCreate=ue,k.BlockDelete=ca,k.BlockDrag=dj,k.BlockFieldIntermediateChange=dW,k.BlockMove=dz,k.BubbleOpen=d9,k.BubbleType=d8,k.CHANGE=r,k.CLICK=s,k.COMMENT_CHANGE=l,k.COMMENT_CREATE=a,k.COMMENT_DELETE=u,k.COMMENT_DRAG=h,k.COMMENT_MOVE=c,k.COMMENT_RESIZE=d,k.CREATE=p,k.Click=i6,k.ClickTarget=i5,k.CommentBase=he,k.CommentChange=ht,k.CommentCollapse=hn,k.CommentCreate=ho,k.CommentDelete=hr,k.CommentDrag=hi,k.CommentMove=hs,k.CommentResize=hl,k.DELETE=f,k.FINISHED_LOADING=g,k.FinishedLoading=hu,k.MARKER_MOVE=m,k.MOVE=_,k.MarkerMove=cp,k.SELECTED=b,k.Selected=cL,k.THEME_CHANGE=y,k.TOOLBOX_ITEM_SELECT=T,k.TRASHCAN_OPEN=E,k.ThemeChange=un,k.ToolboxItemSelect=ha,k.TrashcanOpen=cJ,k.UI=v,k.UiBase=i4,k.VAR_CREATE=C,k.VAR_DELETE=I,k.VAR_RENAME=S,k.VIEWPORT_CHANGE=w,k.VarBase=lD,k.VarCreate=lP,k.VarDelete=cO,k.VarRename=cR,k.ViewportChange=uo,k.clearPendingUndo=ev,k.disable=O.disable$$module$build$src$core$events$utils,k.disableOrphans=ek,k.enable=O.enable$$module$build$src$core$events$utils,k.filter=eE,k.fire=eb,k.fromJson=eS,k.get=ew,k.getDescendantIds=eI,k.getGroup=O.getGroup$$module$build$src$core$events$utils,k.getRecordUndo=e_,k.isEnabled=eC,k.setGroup=O.setGroup$$module$build$src$core$events$utils,k.setRecordUndo=O.setRecordUndo$$module$build$src$core$events$utils;var hc={};hc.BottomRow=dC,hc.ConstantProvider=db,hc.Drawer=dy,hc.MarkerSvg=dO,hc.PathObject=dR,hc.RenderInfo=dk,hc.Renderer=dx,hc.RightConnectionShape=dS,hc.StatementInput=dI,hc.TopRow=dw;var hd={};hd.Bubble=uS,hd.MiniWorkspaceBubble=uw,hd.TextBubble=uP,hd.TextInputBubble=uA;var hh={};hh.CommentView=a6,hh.RenderedWorkspaceComment=a9,hh.WorkspaceComment=a8;var hp=class extends u7{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(e){return super.getCSS_(e).concat([`${e} .blocklyInsertionMarker>.blocklyPathLight,`,`${e} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"])}},hf=class{constructor(e){this.inlineSteps_=this.steps_="",this.info_=e,this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+"\n"+this.inlineSteps_}drawTopCorner(e){this.steps_+=rS(e.xPos,this.info_.startY);for(let t=0,n;n=e.elements[t];t++)uH.isLeftSquareCorner(n)?this.steps_+=this.highlightConstants_.START_POINT:uH.isLeftRoundedCorner(n)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):uH.isPreviousConnection(n)?this.steps_+=this.notchPaths_.pathLeft:uH.isHat(n)?this.steps_+=this.startPaths_.path(this.RTL_):uH.isSpacer(n)&&0!==n.width&&(this.steps_+=rO("H",n.xPos+n.width-this.highlightOffset));this.steps_+=rO("H",e.xPos+e.width-this.highlightOffset)}drawJaggedEdge_(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+rO("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(e){let t=e.getLastInput();if(this.RTL_){let n=e.height-t.connectionHeight;this.steps_+=rI(t.xPos+t.width-this.highlightOffset,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+rO("v",n)}else this.steps_+=rI(t.xPos+t.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(e){let t=e.getLastInput();if(t)if(this.RTL_){let n=e.height-2*this.insideCornerPaths_.height;this.steps_+=rI(t.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+rO("v",n)+this.insideCornerPaths_.pathBottom(this.RTL_)+rw(e.width-t.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=rI(t.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+rw(e.width-t.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(e){let t=e.xPos+e.width-this.highlightOffset;e instanceof u6&&e.followsStatement&&(this.steps_+=rO("H",t)),this.RTL_&&(this.steps_+=rO("H",t),e.height>this.highlightOffset&&(this.steps_+=rO("V",e.yPos+e.height-this.highlightOffset)))}drawBottomRow(e){if(this.RTL_)this.steps_+=rO("V",e.baseline-this.highlightOffset);else{let t=this.info_.bottomRow.elements[0];uH.isLeftSquareCorner(t)?this.steps_+=rI(e.xPos+this.highlightOffset,e.baseline-this.highlightOffset):uH.isLeftRoundedCorner(t)&&(this.steps_+=rI(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=rI(this.info_.startX,e):(this.steps_+=rI(this.info_.startX+this.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=rO("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,uH.isLeftRoundedCorner(e.elements[0])?this.steps_+=rO("V",this.outsideCornerPaths_.height):this.steps_+=rO("V",e.capline+this.highlightOffset))}drawInlineInput(e){let t=this.highlightOffset,n=e.xPos+e.connectionWidth;var o=e.centerline-e.height/2;let r=e.width-e.connectionWidth,i=o+t;this.RTL_?(o=e.connectionOffsetY-t,e=e.height-(e.connectionOffsetY+e.connectionHeight)+t,this.inlineSteps_+=rI(n-t,i)+rO("v",o)+this.puzzleTabPaths_.pathDown(this.RTL_)+rO("v",e)+rO("h",r)):this.inlineSteps_+=rI(e.xPos+e.width+t,i)+rO("v",e.height)+rO("h",-r)+rI(n,o+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},hg=class extends ct{constructor(e,t){super(e,t),this.highlighter_=new hf(t)}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights();let e=this.block_.pathObject;e.setPath(this.outlinePath_+"\n"+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(e){this.highlighter_.drawJaggedEdge_(e),super.drawJaggedEdge_(e)}drawValueInput_(e){this.highlighter_.drawValueInput(e),super.drawValueInput_(e)}drawStatementInput_(e){this.highlighter_.drawStatementInput(e),super.drawStatementInput_(e)}drawRightSideRow_(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=rO("H",e.xPos+e.width)+rO("V",e.yPos+e.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(e){this.highlighter_.drawInlineInput(e),super.drawInlineInput_(e)}positionInlineInputConnection_(e){let t=e.centerline-e.height/2;if(e.connectionModel){let n=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(e){let t=e.getLastInput();if(null==t?0:t.connectionModel){let n=e.xPos+e.statementEdge+t.notchOffset;n=this.info_.RTL?-1*n:n+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(n,e.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(e){let t=e.getLastInput();if(t&&t.connectionModel){let n=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}}positionNextConnection_(){let e=this.info_.bottomRow;if(e.connection){let t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-n:n)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}},hm=class{constructor(e){this.OFFSET=.5,this.constantProvider=e,this.START_POINT=rS(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){let e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,n=(1-Math.SQRT1_2)*(e+t)-t,o=rS(n,n)+rR("a","0 0,0",e,rv(-n-t,e-n)),r=rR("a","0 0,0",e+t,rv(e+t,e+t)),i=rS(n,-n)+rR("a","0 0,0",e+t,rv(e-n,n+t));return{width:e+t,height:e,pathTop:e=>e?o:"",pathBottom:e=>e?r:i}}makeOutsideCorner(){let e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,n=(1-Math.SQRT1_2)*(e-t)+t,o=rS(n,n)+rR("a","0 0,1",e-t,rv(e-n,-n+t)),r=rS(t,e)+rR("a","0 0,1",e-t,rv(e,-e+t)),i=-n,s=rS(n,i)+rR("a","0 0,1",e-t,rv(-n+t,-i-e));return{height:e,topLeft:e=>e?o:r,bottomLeft:()=>s}}makePuzzleTab(){let e=this.constantProvider.TAB_WIDTH,t=this.constantProvider.TAB_HEIGHT,n=rS(-2,-t+3.4)+rw(-.45*e,-2.1),o=rO("v",2.5)+rS(-(.97*e),2.5)+rC("q",[rv(-(.05*e),10),rv(.3*e,9.5)])+rS(.67*e,-1.9)+rO("v",2.5),r=rO("v",-1.5)+rS(-.92*e,-.5)+rC("q",[rv(-.19*e,-5.5),rv(0,-11)])+rS(.92*e,1),i=rS(-5,t-.7)+rw(.46*e,-2.1);return{width:e,height:t,pathUp:e=>e?n:r,pathDown:e=>e?o:i}}makeNotch(){return{pathLeft:rO("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:rw(5.1,2.6)+rS(-10.2,6.8)+rw(5.1,2.6),height:12,width:10.2}}makeStartHat(){let e=this.constantProvider.START_HAT.height,t=rS(25,-8.7)+rC("c",[rv(29.7,-6.2),rv(57.2,-.5),rv(75,8.7)]),n=rC("c",[rv(17.8,-9.2),rv(45.3,-14.9),rv(75,-8.7)])+rI(100.5,e+.5);return{path:e=>e?t:n}}},h_=class extends uq{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},hb=class extends uQ{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},hy=class extends cl{constructor(e,t){super(e,t),this.renderer_=e}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof cs||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(e,t){this.isInline&&e instanceof O.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new h_(this.constants_,e)),t.hasInlineInput=!0):e instanceof cs?(t.elements.push(new hb(this.constants_,e)),t.hasStatement=!0):e instanceof O.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new uX(this.constants_,e)),t.hasExternalInput=!0):(e instanceof cr||e instanceof ci)&&(t.minHeight=Math.max(t.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),this.isInline||null!==t.align||(t.align=e.align)}addElemSpacing_(){let e=!1;for(let t=0,n;n=this.rows[t];t++)n.hasExternalInput&&(e=!0);for(let n=0,o;o=this.rows[n];n++){var t=o.elements;if(o.elements=[],o.startsWithElemSpacer()&&o.elements.push(new uZ(this.constants_,this.getInRowSpacing_(null,t[0]))),t.length){for(let e=0;e<t.length-1;e++){o.elements.push(t[e]);let n=this.getInRowSpacing_(t[e],t[e+1]);o.elements.push(new uZ(this.constants_,n))}o.elements.push(t[t.length-1]),o.endsWithElemSpacer()&&(t=this.getInRowSpacing_(t[t.length-1],null),e&&o.hasDummyInput&&(t+=this.constants_.TAB_WIDTH),o.elements.push(new uZ(this.constants_,t)))}}}getInRowSpacing_(e,t){if(!e)return t&&uH.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&uH.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&uH.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!uH.isInput(e)&&(!t||uH.isStatementInput(t)))return uH.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:uH.isIcon(e)?2*this.constants_.LARGE_PADDING+1:uH.isHat(e)?this.constants_.NO_PADDING:uH.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:uH.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:uH.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(uH.isInput(e)&&!t){if(uH.isExternalInput(e))return this.constants_.NO_PADDING;if(uH.isInlineInput(e))return this.constants_.LARGE_PADDING;if(uH.isStatementInput(e))return this.constants_.NO_PADDING}if(!uH.isInput(e)&&t&&uH.isInput(t)){if(uH.isField(e)&&e.isEditable){if(uH.isInlineInput(t)||uH.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(uH.isInlineInput(t)||uH.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(uH.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(uH.isIcon(e)&&t&&!uH.isInput(t))return this.constants_.LARGE_PADDING;if(uH.isInlineInput(e)&&t&&uH.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(uH.isLeftSquareCorner(e)&&t){if(uH.isHat(t))return this.constants_.NO_PADDING;if(uH.isPreviousConnection(t))return t.notchOffset;if(uH.isNextConnection(t))return t.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(uH.isLeftRoundedCorner(e)&&t){if(uH.isPreviousConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS;if(uH.isNextConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return uH.isField(e)&&t&&uH.isField(t)&&e.isEditable===t.isEditable||t&&uH.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return uH.isTopRow(e)&&uH.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:uH.isTopRow(e)||uH.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||!e.hasStatement&&t.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(uH.isSpacer(t))return e.yPos+t.height/2;if(uH.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,uH.isNextConnection(t)?e+t.height/2:e-t.height/2;if(uH.isTopRow(e))return uH.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let n=e.yPos;return uH.isField(t)||uH.isIcon(t)?(n+=t.height/2,(e.hasInlineInput||e.hasStatement)&&t.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(n+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):n=uH.isInlineInput(t)?n+t.height/2:n+e.height/2,n}alignRowElements_(){if(this.isInline){var e=0,t=new WeakMap,n=null;for(let o=this.rows.length-1,r;r=this.rows[o];o--)t.set(r,e),uH.isInputRow(r)&&(r.hasStatement&&this.alignStatementRow_(r),n&&n.hasStatement&&r.width<n.width?t.set(r,n.width):e=r.hasStatement?r.width:Math.max(e,r.width),n=r);e=0;for(let o=0,r;r=this.rows[o];o++)r.hasStatement?e=this.getDesiredRowWidth_(r):uH.isSpacer(r)?r.width=Math.max(e,t.get(r)):(n=r.width,0<(e=Math.max(e,t.get(r))-n)&&this.addAlignmentPadding_(r,e),e=r.width)}else super.alignRowElements_()}getDesiredRowWidth_(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(e)}finalize_(){let e=0,t=0;for(let o=0,r;r=this.rows[o];o++){r.yPos=t,r.xPos=this.startX,t+=r.height,e=Math.max(e,r.widthWithConnectedBlocks);var n=t-this.topRow.ascenderHeight;r===this.bottomRow&&n<this.constants_.MIN_BLOCK_HEIGHT&&(n=this.constants_.MIN_BLOCK_HEIGHT-n,this.bottomRow.height+=n,t+=n),this.recordElemPositions_(r)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(n=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,n.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=t+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},hT=class extends cg{constructor(e,t,n){super(e,t,n),this.constants=n,this.colourDark="#000000",this.svgPathDark=e5(sU.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=e5(sU.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}setHighlightPath(e){this.svgPathLight.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(e),this.svgPath.setAttribute("stroke","none")}setStyle(e){this.style=e,this.colourDark=o_("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")}updateShadow_(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(e){super.updateDisabled_(e),e&&this.svgPath.setAttribute("stroke","none")}},hE=class extends cy{constructor(e){super(e),this.highlightConstants=null}init(e,t){super.init(e,t),this.highlightConstants=this.makeHighlightConstants_(),this.highlightConstants.init()}refreshDom(e,t){super.refreshDom(e,t),this.getHighlightConstants().init()}makeConstants_(){return new hp}makeRenderInfo_(e){return new hy(this,e)}makeDrawer_(e,t){return new hg(e,t)}makePathObject(e,t){return new hT(e,t,this.getConstants())}makeHighlightConstants_(){return new hm(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants}};rZ("geras",hE);var hv={};hv.ConstantProvider=hp,hv.Drawer=hg,hv.HighlightConstantProvider=hm,hv.Highlighter=hf,hv.InlineInput=h_,hv.PathObject=hT,hv.RenderInfo=hy,hv.Renderer=hE,hv.StatementInput=hb;var hC=class extends cl{constructor(e,t){super(e,t)}getRenderer(){return this.renderer_}addElemSpacing_(){let e=!1;for(var t=0;t<this.rows.length;t++)if(this.rows[t].hasExternalInput){e=!0;break}for(t=0;t<this.rows.length;t++){let o=this.rows[t];var n=o.elements;if(o.elements=[],o.startsWithElemSpacer()&&o.elements.push(new uZ(this.constants_,this.getInRowSpacing_(null,n[0]))),n.length){for(let e=0;e<n.length-1;e++){o.elements.push(n[e]);let t=this.getInRowSpacing_(n[e],n[e+1]);o.elements.push(new uZ(this.constants_,t))}o.elements.push(n[n.length-1]),o.endsWithElemSpacer()&&(n=this.getInRowSpacing_(n[n.length-1],null),e&&o.hasDummyInput&&(n+=this.constants_.TAB_WIDTH),o.elements.push(new uZ(this.constants_,n)))}}}getInRowSpacing_(e,t){if(!e)return t&&uH.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&uH.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&uH.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!uH.isInput(e)&&!t)return uH.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:uH.isIcon(e)?2*this.constants_.LARGE_PADDING+1:uH.isHat(e)?this.constants_.NO_PADDING:uH.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:uH.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:uH.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(uH.isInput(e)&&!t){if(uH.isExternalInput(e))return this.constants_.NO_PADDING;if(uH.isInlineInput(e))return this.constants_.LARGE_PADDING;if(uH.isStatementInput(e))return this.constants_.NO_PADDING}if(!uH.isInput(e)&&t&&uH.isInput(t)){if(uH.isField(e)&&e.isEditable){if(uH.isInlineInput(t)||uH.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(uH.isInlineInput(t)||uH.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(uH.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(uH.isIcon(e)&&t&&!uH.isInput(t))return this.constants_.LARGE_PADDING;if(uH.isInlineInput(e)&&t&&uH.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(uH.isLeftSquareCorner(e)&&t){if(uH.isHat(t))return this.constants_.NO_PADDING;if(uH.isPreviousConnection(t)||uH.isNextConnection(t))return t.notchOffset}return uH.isLeftRoundedCorner(e)&&t?t.notchOffset-this.constants_.CORNER_RADIUS:uH.isField(e)&&t&&uH.isField(t)&&e.isEditable===t.isEditable||t&&uH.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return uH.isTopRow(e)&&uH.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:uH.isTopRow(e)||uH.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||e.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(uH.isSpacer(t))return e.yPos+t.height/2;if(uH.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,uH.isNextConnection(t)?e+t.height/2:e-t.height/2;if(uH.isTopRow(e))return uH.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let n=e.yPos;return uH.isField(t)&&e.hasStatement?n+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+t.height/2):n+e.height/2}finalize_(){let e=0,t=0;for(var n=0;n<this.rows.length;n++){let r=this.rows[n];r.yPos=t,r.xPos=this.startX,t+=r.height,e=Math.max(e,r.widthWithConnectedBlocks);var o=t-this.topRow.ascenderHeight;r===this.bottomRow&&o<this.constants_.MIN_BLOCK_HEIGHT&&(o=this.constants_.MIN_BLOCK_HEIGHT-o,this.bottomRow.height+=o,t+=o),this.recordElemPositions_(r)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(n=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,n.getHeightWidth().width)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline}},hI=class extends cy{constructor(e){super(e)}makeRenderInfo_(e){return new hC(this,e)}};rZ("thrasos",hI);var hS={};hS.RenderInfo=hC,hS.Renderer=hI;var hw=new up("zelos",{colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},{colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}}),hk=class{constructor(e,t,n){this.id_=e.toolboxitemid||el(),this.level_=(this.parent_=n||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=t,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(e){}},hO=class extends hk{constructor(e,t,n){super(e,t,n),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),"true"===this.toolboxItemDef_.hidden&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(let t=0;t<e.length;t++){let n=e[t];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(n)}}parseCategoryDef_(e){this.name_="name"in e?oE(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),tB(this.htmlDiv_,lf.TREEITEM),tF(this.htmlDiv_,l4.SELECTED,!1),tF(this.htmlDiv_,l4.LEVEL,this.level_+1),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),tB(this.iconDom_,lf.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);let e=this.labelDom_.getAttribute("id");return e&&tF(this.htmlDiv_,l4.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){let e=document.createElement("div"),t=this.cssConfig_.container;return t&&e3(e,t),e}createRowContainer_(){let e=document.createElement("div");var t=this.cssConfig_.row;return t&&e3(e,t),t=`${hO.nestedPadding*this.getLevel()}px`,this.workspace_.RTL?e.style.paddingRight=t:e.style.paddingLeft=t,e}createRowContentsContainer_(){let e=document.createElement("div"),t=this.cssConfig_.rowcontentcontainer;return t&&e3(e,t),e}createIconDom_(){let e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){let t=this.cssConfig_.icon;t&&e3(e,t)}return e.style.display="inline-block",e}createLabelDom_(e){let t=document.createElement("span");return t.setAttribute("id",this.getId()+".label"),t.textContent=e,(e=this.cssConfig_.label)&&e3(t,e),t}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(e){e&&(e=hO.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}getColour_(e){let t=e.categorystyle||e.categoryStyle;if((e=e.colour)&&t)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(t)return this.getColourfromStyle(t);if(e)return this.parseColour(e)}return""}getColourfromStyle(e){var t=this.workspace_.getTheme();if(e&&t){if((t=t.categoryStyles[e])&&t.colour)return this.parseColour(t.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour(e){if(null==(e=oE(e))||""===e)return"";var t=Number(e);return isNaN(t)?(t=op(e))?t:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):ob(t)}openIcon_(e){if(e){var t=this.cssConfig_.closedicon;t&&e4(e,t),(t=this.cssConfig_.openicon)&&e3(e,t)}}closeIcon_(e){if(e){var t=this.cssConfig_.openicon;t&&e4(e,t),(t=this.cssConfig_.closedicon)&&e3(e,t)}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let e=this;for(;e.getParent();)if(!(e=e.getParent()).isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(e){}setSelected(e){if(this.rowDiv_){var t=this.cssConfig_.selected;if(e){let e=this.parseColour(hO.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||e,t&&e3(this.rowDiv_,t)}else this.rowDiv_.style.backgroundColor="",t&&e6(this.rowDiv_,t);tF(this.htmlDiv_,l4.SELECTED,e)}}setDisabled(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",`${e}`),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(e){this.flyoutItems_=[],this.toolboxItemDef_="string"==typeof e?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:tv(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){e8(this.htmlDiv_)}};hO.registrationName="category",hO.nestedPadding=19,hO.borderWidth=8,hO.defaultBackgroundColour="#57e",e1('\n.blocklyTreeRow:not(.blocklyTreeSelected):hover {\n  background-color: rgba(255, 255, 255, .2);\n}\n\n.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {\n  margin: 1px 5px 1px 0;\n}\n\n.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {\n  margin: 1px 0 1px 5px;\n}\n\n.blocklyTreeRow {\n  height: 22px;\n  line-height: 22px;\n  margin-bottom: 3px;\n  padding-right: 8px;\n  white-space: nowrap;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {\n  margin-left: 8px;\n  padding-right: 0;\n}\n\n.blocklyTreeIcon {\n  background-image: url(<<<PATH>>>/sprites.png);\n  height: 16px;\n  vertical-align: middle;\n  visibility: hidden;\n  width: 16px;\n}\n\n.blocklyTreeIconClosed {\n  background-position: -32px -1px;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {\n  background-position: 0 -1px;\n}\n\n.blocklyTreeSelected>.blocklyTreeIconClosed {\n  background-position: -32px -17px;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {\n  background-position: 0 -17px;\n}\n\n.blocklyTreeIconOpen {\n  background-position: -16px -1px;\n}\n\n.blocklyTreeSelected>.blocklyTreeIconOpen {\n  background-position: -16px -17px;\n}\n\n.blocklyTreeLabel {\n  cursor: default;\n  font: 16px sans-serif;\n  padding: 0 3px;\n  vertical-align: middle;\n}\n\n.blocklyToolboxDelete .blocklyTreeLabel {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyTreeSelected .blocklyTreeLabel {\n  color: #fff;\n}\n'),Z(A.TOOLBOX_ITEM,hO.registrationName,hO);var hR=class extends hk{constructor(e,t){super(e,t),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv=null,Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}init(){this.createDom_()}createDom_(){let e=document.createElement("div"),t=this.cssConfig_.container;return t&&e3(e,t),this.htmlDiv=e}getDiv(){return this.htmlDiv}dispose(){e8(this.htmlDiv)}};hR.registrationName="sep",e1('\n.blocklyTreeSeparator {\n  border-bottom: solid #e5e5e5 1px;\n  height: 0;\n  margin: 5px 0;\n}\n\n.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {\n  border-right: solid #e5e5e5 1px;\n  border-bottom: none;\n  height: auto;\n  margin: 0 5px 0 5px;\n  padding: 5px 0;\n  width: 0;\n}\n'),Z(A.TOOLBOX_ITEM,hR.registrationName,hR);var hx=class extends hO{constructor(e,t,n){super(e,t,n),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){let e=super.makeDefaultCssConfig_();return e.contents="blocklyToolboxContents",e}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else{let t=e.contents;if(t){this.flyoutItems_=[],e=!0;for(let n=0;n<t.length;n++){let o=t[n];!et(A.TOOLBOX_ITEM,o.kind)||o.kind.toLowerCase()===hR.registrationName&&e?(this.flyoutItems_.push(o),e=!0):(this.createToolboxItem(o),e=!1)}}}}createToolboxItem(e){let t=e.kind;"CATEGORY"===t.toUpperCase()&&tI(e)&&(t=hx.registrationName),e=new(en(A.TOOLBOX_ITEM,t))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}init(){super.init(),this.setExpanded("true"===this.toolboxItemDef_.expanded||!0===this.toolboxItemDef_.expanded)}createDom_(){super.createDom_();let e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),tB(this.subcategoriesDiv_,lf.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.closeIcon_(this.iconDom_),tF(this.htmlDiv_,l4.EXPANDED,!1),this.htmlDiv_}createIconDom_(){let e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){let t=this.cssConfig_.icon;t&&e3(e,t),e.style.visibility="visible"}return e.style.display="inline-block",e}createSubCategoriesDom_(e){let t=document.createElement("div");t.style.display="none";var n=this.cssConfig_.contents;for(n&&e3(t,n),n=0;n<e.length;n++){let o=e[n];o.init();let r=o.getDiv();if(t.appendChild(r),o.getClickTarget){let e;null==(e=o.getClickTarget())||e.setAttribute("id",o.getId())}}return t}setExpanded(e){if(this.expanded_!==e){if(this.expanded_=e)this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_);else{let e;null==(e=this.parentToolbox_.getFlyout())||e.setVisible(!1),this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)}tF(this.htmlDiv_,l4.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize()}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none";let t=this.getChildToolboxItems();for(let n=0;n<t.length;n++)t[n].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(e){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};hx.registrationName="collapsibleCategory",Z(A.TOOLBOX_ITEM,hx.registrationName,hx);var h$=class extends cK{constructor(e){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.previouslySelectedItem_=this.selectedItem_=this.flyout=null,this.boundEvents_=[],this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout=e.options.horizontalLayout,this.RTL=e.options.RTL,this.contentMap_=Object.create(null),this.toolboxPosition=e.options.toolboxPosition}onShortcut(e){return!1}init(){var e=this.workspace_;let t=e.getParentSvg();this.flyout=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),e9(this.flyout.createDom("svg"),t),this.setVisible(!0),this.flyout.init(e),this.render(this.toolboxDef_),(e=e.getThemeManager()).subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:sf.ComponentWeight.TOOLBOX_WEIGHT,capabilities:[sf.Capability.AUTOHIDEABLE,sf.Capability.DELETE_AREA,sf.Capability.DRAG_TARGET]})}createDom_(e){e=e.getParentSvg();let t=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,tB(this.contentsDiv_,lf.TREE),t.appendChild(this.contentsDiv_),e.parentNode.insertBefore(t,e),this.attachEvents_(t,this.contentsDiv_),t}createContainer_(){let e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),e3(e,"blocklyToolboxDiv"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}createContentsContainer_(){let e=document.createElement("div");return e3(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e}attachEvents_(e,t){e=eX(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),t=eX(t,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(t)}onClick_(e){if(eZ(e)||e.target===this.HtmlDiv)eA().hideChaff(!1);else{var t=e.target.getAttribute("id");t&&(t=this.getToolboxItemById(t)).isSelectable()&&(this.setSelectedItem(t),t.onClick(e)),eA().hideChaff(!0)}eG()}onKeyDown_(e){let t=!1;switch(e.key){case"ArrowDown":t=this.selectNext();break;case"ArrowUp":t=this.selectPrevious();break;case"ArrowLeft":t=this.selectParent();break;case"ArrowRight":t=this.selectChild();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),t=!0);break;default:t=!1}!t&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(t=this.selectedItem_.onKeyDown(e)),t&&e.preventDefault()}createFlyout_(){let e=this.workspace_,t=e.copyOptionsForFlyout();return t.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?ei(A.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):ei(A.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(t)}render(e){this.toolboxDef_=e;for(let e=0;e<this.contents_.length;e++){let t=this.contents_[e];t&&t.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}renderContents_(e){let t=document.createDocumentFragment();for(let n=0;n<e.length;n++)this.createToolboxItem(e[n],t);this.contentsDiv_.appendChild(t)}createToolboxItem(e,t){var n=e.kind;"CATEGORY"===n.toUpperCase()&&tI(e)&&(n=hx.registrationName),(n=en(A.TOOLBOX_ITEM,n.toLowerCase()))&&((e=new n(e,this)).init(),this.addToolboxItem_(e),(n=e.getDiv())&&t.appendChild(n),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}addToolboxItem_(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible()){e=e.getChildToolboxItems();for(let t=0;t<e.length;t++)this.addToolboxItem_(e[t])}}getToolboxItems(){return this.contents_}addStyle(e){e&&this.HtmlDiv&&e3(this.HtmlDiv,e)}removeStyle(e){e&&this.HtmlDiv&&e6(this.HtmlDiv,e)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect();let t=e.top,n=t+e.height,o=e.left;return e=o+e.width,this.toolboxPosition===s3.TOP?new sH(-1e7,n,-1e7,1e7):this.toolboxPosition===s3.BOTTOM?new sH(t,1e7,-1e7,1e7):this.toolboxPosition===s3.LEFT?new sH(-1e7,1e7,-1e7,e):new sH(-1e7,1e7,o,1e7)}wouldDelete(e){return e instanceof cX?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(it(e)&&e.isDeletable()),this.wouldDelete_}onDragEnter(e){this.updateCursorDeleteStyle_(!0)}onDragExit(e){this.updateCursorDeleteStyle_(!1)}onDrop(e){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(e){let t=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(t):this.removeStyle(t)}getToolboxItemById(e){return this.contentMap_[e]||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout}position(){let e=this.workspace_.getMetrics(),t=this.HtmlDiv;t&&(this.horizontalLayout?(t.style.left="0",t.style.height="auto",t.style.width="100%",this.height_=t.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===s3.TOP?t.style.top="0":t.style.bottom="0"):(this.toolboxPosition===s3.RIGHT?t.style.right="0":t.style.left="0",t.style.height="100%",this.width_=t.offsetWidth,this.height_=e.viewHeight),this.flyout.position())}handleToolboxItemResize(){let e=this.workspace_,t=this.HtmlDiv.getBoundingClientRect();e.translate(this.toolboxPosition===s3.LEFT?e.scrollX+t.width:e.scrollX,this.toolboxPosition===s3.TOP?e.scrollY+t.height:e.scrollY),eP(e)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){for(let e=0;e<this.contents_.length;e++){let t=this.contents_[e];t.refreshTheme&&t.refreshTheme()}}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout.show(this.selectedItem_.getContents())}setVisible(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}autoHide(e){!e&&this.flyout&&this.flyout.autoClose&&this.clearSelection()}setSelectedItem(e){let t=this.selectedItem_;(e||t)&&(!e||e.isSelectable())&&(this.shouldDeselectItem_(t,e)&&null!==t&&this.deselectItem_(t),this.shouldSelectItem_(t,e)&&null!==e&&this.selectItem_(t,e),this.updateFlyout_(t,e),this.fireSelectEvent(t,e))}shouldDeselectItem_(e,t){return null!==e&&(!e.isCollapsible()||e!==t)}shouldSelectItem_(e,t){return null!==t&&t!==e}deselectItem_(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),tF(this.contentsDiv_,l4.ACTIVEDESCENDANT,"")}selectItem_(e,t){this.selectedItem_=t,this.previouslySelectedItem_=e,t.setSelected(!0),tF(this.contentsDiv_,l4.ACTIVEDESCENDANT,t.getId())}selectItemByPosition(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e]).isSelectable()&&this.setSelectedItem(e)}updateFlyout_(e,t){t&&(e!==t||t.isCollapsible())&&t.getContents().length?(this.flyout.show(t.getContents()),this.flyout.scrollToStart()):this.flyout.hide()}fireSelectEvent(e,t){let n=e&&e.getName(),o=t&&t.getName();e===t&&(o=null),eb(e=new(ew(iK.TOOLBOX_ITEM_SELECT))(n,o,this.workspace_.id))}selectParent(){return!!this.selectedItem_&&(this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):!!(this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable())&&(this.setSelectedItem(this.selectedItem_.getParent()),!0))}selectChild(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;let e=this.selectedItem_;return e.isExpanded()?this.selectNext():e.toggleExpanded(),!0}selectNext(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[++e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}selectPrevious(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[--e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)eK(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),e8(this.HtmlDiv))}};e1('\n.blocklyToolboxDelete {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyToolboxGrab {\n  cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n/* Category tree in Toolbox. */\n.blocklyToolboxDiv {\n  background-color: #ddd;\n  overflow-x: visible;\n  overflow-y: auto;\n  padding: 4px 0 4px 0;\n  position: absolute;\n  z-index: 70;  /* so blocks go under toolbox when dragging */\n  -webkit-tap-highlight-color: transparent;  /* issue #1345 */\n}\n\n.blocklyToolboxContents {\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n}\n\n.blocklyToolboxContents:focus {\n  outline: none;\n}\n'),Z(A.TOOLBOX,$,h$);var hA=uv.INPUT_VALUE,hN=uv.OUTPUT_VALUE,hM=uv.NEXT_STATEMENT,hL=uv.PREVIOUS_STATEMENT,hD=s3.TOP,hP=s3.BOTTOM,hB=s3.LEFT,hF=s3.RIGHT;c$.prototype.newBlock=function(e,t){return new cc(this,e,t)},cN.prototype.newBlock=function(e,t){return new cX(this,e,t)},c$.prototype.newComment=function(e){return new a8(this,e)},cN.prototype.newComment=function(e){return new a9(this,e)},cN.newTrashcan=function(e){return new cZ(e)},uw.prototype.newWorkspaceSvg=function(e){return new cN(e)},O.Names$$module$build$src$core$names.prototype.populateProcedures=function(e){e=(e=rN(e))[0].concat(e[1]);for(let t=0;t<e.length;t++)this.getName(e[t][0],O.Names$$module$build$src$core$names.NameType.PROCEDURE)};var hU={};hU.ASTNode=ch,hU.BasicCursor=cV,hU.Block=cc,hU.BlockSvg=cX,hU.Blocks=M,hU.COLLAPSED_FIELD_NAME=lE,hU.COLLAPSED_INPUT_NAME=lT,hU.COLLAPSE_CHARS=30,hU.CodeGenerator=O.CodeGenerator$$module$build$src$core$generator,hU.CollapsibleToolboxCategory=hx,hU.ComponentManager=sf,hU.Connection=cu,hU.ConnectionChecker=ck,hU.ConnectionDB=ur,hU.ConnectionType=uv,hU.ContextMenu=aQ,hU.ContextMenuItems=hH,hU.ContextMenuRegistry=a0,hU.Css=sy,hU.Cursor=cH,hU.DELETE_VARIABLE_ID=cw,hU.DeleteArea=cK,hU.DragTarget=cY,hU.DropDownDiv=af,hU.Events=k,hU.Extensions=uR,hU.Field=aF,hU.FieldCheckbox=dH,hU.FieldDropdown=ub,hU.FieldImage=dT,hU.FieldLabel=cn,hU.FieldLabelSerializable=dU,hU.FieldNumber=dF,hU.FieldTextInput=dv,hU.FieldVariable=dB,hU.Flyout=dL,hU.FlyoutButton=cd,hU.FlyoutMetricsManager=dM,hU.Generator=O.CodeGenerator$$module$build$src$core$generator,hU.Gesture=uu,hU.Grid=uc,hU.HorizontalFlyout=dP,hU.INPUT_VALUE=hA,hU.Input=co,hU.InsertionMarkerManager=cm,hU.InsertionMarkerPreviewer=d$,hU.Marker=cU,hU.MarkerManager=ag,hU.Menu=lb,hU.MenuItem=ly,hU.MetricsManager=d_,hU.Msg=O.Msg$$module$build$src$core$msg,hU.NEXT_STATEMENT=hM,hU.Names=O.Names$$module$build$src$core$names,hU.OPPOSITE_TYPE=cI,hU.OUTPUT_VALUE=hN,hU.Options=ug,hU.PREVIOUS_STATEMENT=hL,hU.PROCEDURE_CATEGORY_NAME=d5,hU.Procedures=d3,hU.RENAME_VARIABLE_ID=cS,hU.RenderedConnection=cj,hU.Scrollbar=sY,hU.ScrollbarPair=dm,hU.ShortcutItems=dc,hU.ShortcutRegistry=dn,hU.TOOLBOX_AT_BOTTOM=hP,hU.TOOLBOX_AT_LEFT=hB,hU.TOOLBOX_AT_RIGHT=hF,hU.TOOLBOX_AT_TOP=hD,hU.TabNavigateCursor=cG,hU.Theme=up,hU.ThemeManager=cE,hU.Themes={Classic:uf,Zelos:hw},hU.Toolbox=h$,hU.ToolboxCategory=hO,hU.ToolboxItem=hk,hU.ToolboxSeparator=hR,hU.Tooltip=aN,hU.Touch=so,hU.Trashcan=cZ,hU.UnattachedFieldError=aU,hU.VARIABLE_CATEGORY_NAME=lF,hU.VARIABLE_DYNAMIC_CATEGORY_NAME=cv,hU.VERSION="11.2.2",hU.VariableMap=cx,hU.VariableModel=lB,hU.Variables=lV,hU.VariablesDynamic=cC,hU.VerticalFlyout=dD,hU.WidgetDiv=aK,hU.Workspace=c$,hU.WorkspaceAudio=cA,hU.WorkspaceDragger=ua,hU.WorkspaceSvg=cN,hU.Xml=a7,hU.ZoomControls=lt,hU.blockAnimations=ul,hU.blockRendering=cT,hU.browserEvents=sd,hU.bubbles=hd,hU.bumpObjects=cB,hU.clipboard=ds,hU.comments=hh,hU.common=i2,hU.config=O.config$$module$build$src$core$config,hU.constants={BUMP_DELAY:250,COLLAPSED_FIELD_NAME:lE,COLLAPSED_INPUT_NAME:lT,COMMENT_ANIMATION_DELAY:160,MANUALLY_DISABLED:lv},hU.defineBlocksWithJsonArray=eU,hU.dialog=lM,hU.dragging=dG,hU.fieldRegistry=u_,hU.geras=hv,hU.getMainWorkspace=eA,hU.getSelected=eM,hU.hasBubble=nR,hU.hideChaff=function(e){eA().hideChaff(e)},hU.icons=uF,hU.inject=function(e,t){var n;let o=null;if(o="string"==typeof e?document.getElementById(e)||document.querySelector(e):e,!document.contains(o)&&document!==(null==(n=o)?void 0:n.ownerDocument))throw Error("Error: container is not in current document");e=new ug(t||{}),e3(n=document.createElement("div"),"injectionDiv"),(null==t?0:t.rtl)&&e3(n,"blocklyRTL"),n.tabIndex=0,tF(n,l4.LABEL,O.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL),o.appendChild(n),t=i_(n,e);let r=ib(n,t,e);return iy(r),eN(r),eP(r),n.addEventListener("focusin",function(){eN(r)}),eX(n,"keydown",null,iT),eX(nL(),"keydown",null,iT),(t=oC())&&eX(t,"keydown",null,iT),r},hU.inputs=dA,hU.isCopyable=ii,hU.isDeletable=it,hU.isDraggable=rc,hU.isIcon=rK,hU.isObservable=rA,hU.isPaster=function(e){return void 0!==e.paste},hU.isRenderedElement=function(e){return void 0!==e.getSvgRoot},hU.isSelectable=function(e){return"string"==typeof e.id&&void 0!==e.workspace&&void 0!==e.select&&void 0!==e.unselect},hU.isSerializable=tU,hU.isVariableBackedParameterModel=t1,hU.layers={BLOCK:50,BUBBLE:100},hU.procedures=d3,hU.registry=N,hU.renderManagement=lR,hU.serialization={blocks:lZ,exceptions:lK,priorities:{BLOCKS:50,PROCEDURES:75,VARIABLES:100,WORKSPACE_COMMENTS:25},procedures:dh,registry:ln,variables:df,workspaceComments:lr,workspaces:dg},hU.setLocale=l6,hU.setParentContainer=eD,hU.svgResize=eP,hU.thrasos=hS,hU.uiPosition=s7,hU.utils=u$,hU.zelos=hc,iz();var hH={};return hH.registerCleanup=iS,hH.registerCollapse=ik,hH.registerCollapseExpandBlock=iP,hH.registerComment=iL,hH.registerCommentCreate=iG,hH.registerCommentDelete=iH,hH.registerCommentDuplicate=iV,hH.registerCommentOptions=function(){iV(),iH(),iG()},hH.registerDefaultOptions=iz,hH.registerDelete=iF,hH.registerDeleteAll=iA,hH.registerDisable=iB,hH.registerDuplicate=iM,hH.registerExpand=iO,hH.registerHelp=iU,hH.registerInline=iD,hH.registerRedo=iI,hH.registerUndo=iC,hU.__namespace__=O,hU},"function"==typeof define&&define.amd?define([],o):e.exports=o()}),d("jy87s",function(e,t){var n,o;e.exports,o=function(){var e=e||{Msg:Object.create(null)};return e.Msg.ADD_COMMENT="Add Comment",e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",e.Msg.CHANGE_VALUE_TITLE="Change value:",e.Msg.CLEAN_UP="Clean up Blocks",e.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",e.Msg.COLLAPSE_ALL="Collapse Blocks",e.Msg.COLLAPSE_BLOCK="Collapse Block",e.Msg.COLOUR_BLEND_COLOUR1="colour 1",e.Msg.COLOUR_BLEND_COLOUR2="colour 2",e.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",e.Msg.COLOUR_BLEND_RATIO="ratio",e.Msg.COLOUR_BLEND_TITLE="blend",e.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",e.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",e.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",e.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",e.Msg.COLOUR_RANDOM_TITLE="random colour",e.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",e.Msg.COLOUR_RGB_BLUE="blue",e.Msg.COLOUR_RGB_GREEN="green",e.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",e.Msg.COLOUR_RGB_RED="red",e.Msg.COLOUR_RGB_TITLE="colour with",e.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",e.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",e.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",e.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",e.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",e.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",e.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",e.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",e.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",e.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",e.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",e.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",e.Msg.CONTROLS_IF_MSG_ELSE="else",e.Msg.CONTROLS_IF_MSG_ELSEIF="else if",e.Msg.CONTROLS_IF_MSG_IF="if",e.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",e.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",e.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",e.Msg.CONTROLS_REPEAT_INPUT_DO="do",e.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",e.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",e.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",e.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",e.Msg.DELETE_BLOCK="Delete Block",e.Msg.DELETE_VARIABLE="Delete the '%1' variable",e.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",e.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",e.Msg.DIALOG_CANCEL="Cancel",e.Msg.DIALOG_OK="OK",e.Msg.DISABLE_BLOCK="Disable Block",e.Msg.DUPLICATE_BLOCK="Duplicate",e.Msg.DUPLICATE_COMMENT="Duplicate Comment",e.Msg.ENABLE_BLOCK="Enable Block",e.Msg.EXPAND_ALL="Expand Blocks",e.Msg.EXPAND_BLOCK="Expand Block",e.Msg.EXTERNAL_INPUTS="External Inputs",e.Msg.HELP="Help",e.Msg.INLINE_INPUTS="Inline Inputs",e.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",e.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",e.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",e.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",e.Msg.LISTS_GET_INDEX_FIRST="first",e.Msg.LISTS_GET_INDEX_FROM_END="# from end",e.Msg.LISTS_GET_INDEX_FROM_START="#",e.Msg.LISTS_GET_INDEX_GET="get",e.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",e.Msg.LISTS_GET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg.LISTS_GET_INDEX_LAST="last",e.Msg.LISTS_GET_INDEX_RANDOM="random",e.Msg.LISTS_GET_INDEX_REMOVE="remove",e.Msg.LISTS_GET_INDEX_TAIL="",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",e.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",e.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",e.Msg.LISTS_GET_SUBLIST_END_LAST="to last",e.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",e.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",e.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",e.Msg.LISTS_GET_SUBLIST_TAIL="",e.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",e.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",e.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",e.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",e.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#finding-items-in-a-list",e.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",e.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",e.Msg.LISTS_INLIST="in list",e.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",e.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",e.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg.LISTS_LENGTH_TITLE="length of %1",e.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",e.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",e.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",e.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",e.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",e.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg.LISTS_SET_INDEX_INPUT_TO="as",e.Msg.LISTS_SET_INDEX_INSERT="insert at",e.Msg.LISTS_SET_INDEX_SET="set",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",e.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",e.Msg.LISTS_SORT_ORDER_DESCENDING="descending",e.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",e.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",e.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",e.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",e.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",e.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",e.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",e.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",e.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",e.Msg.LOGIC_BOOLEAN_FALSE="false",e.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",e.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",e.Msg.LOGIC_BOOLEAN_TRUE="true",e.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",e.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",e.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",e.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",e.Msg.LOGIC_NEGATE_TITLE="not %1",e.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",e.Msg.LOGIC_NULL="null",e.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",e.Msg.LOGIC_NULL_TOOLTIP="Returns null.",e.Msg.LOGIC_OPERATION_AND="and",e.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",e.Msg.LOGIC_OPERATION_OR="or",e.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",e.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",e.Msg.LOGIC_TERNARY_CONDITION="test",e.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",e.Msg.LOGIC_TERNARY_IF_FALSE="if false",e.Msg.LOGIC_TERNARY_IF_TRUE="if true",e.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",e.Msg.MATH_ADDITION_SYMBOL="+",e.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",e.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",e.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",e.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",e.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",e.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",e.Msg.MATH_CHANGE_TITLE="change %1 by %2",e.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",e.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",e.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: π (3.141…), e (2.718…), φ (1.618…), sqrt(2) (1.414…), sqrt(½) (0.707…), or ∞ (infinity).",e.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",e.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",e.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",e.Msg.MATH_DIVISION_SYMBOL="÷",e.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",e.Msg.MATH_IS_EVEN="is even",e.Msg.MATH_IS_NEGATIVE="is negative",e.Msg.MATH_IS_ODD="is odd",e.Msg.MATH_IS_POSITIVE="is positive",e.Msg.MATH_IS_PRIME="is prime",e.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",e.Msg.MATH_IS_WHOLE="is whole",e.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",e.Msg.MATH_MODULO_TITLE="remainder of %1 ÷ %2",e.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",e.Msg.MATH_MULTIPLICATION_SYMBOL="×",e.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",e.Msg.MATH_NUMBER_TOOLTIP="A number.",e.Msg.MATH_ONLIST_HELPURL="",e.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",e.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",e.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",e.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",e.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",e.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",e.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",e.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",e.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",e.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",e.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",e.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",e.Msg.MATH_POWER_SYMBOL="^",e.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",e.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",e.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",e.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",e.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",e.Msg.MATH_ROUND_OPERATOR_ROUND="round",e.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",e.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",e.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",e.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",e.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",e.Msg.MATH_SINGLE_OP_ROOT="square root",e.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",e.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",e.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",e.Msg.MATH_SUBTRACTION_SYMBOL="-",e.Msg.MATH_TRIG_ACOS="acos",e.Msg.MATH_TRIG_ASIN="asin",e.Msg.MATH_TRIG_ATAN="atan",e.Msg.MATH_TRIG_COS="cos",e.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",e.Msg.MATH_TRIG_SIN="sin",e.Msg.MATH_TRIG_TAN="tan",e.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",e.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",e.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",e.Msg.NEW_NUMBER_VARIABLE="Create number variable...",e.Msg.NEW_STRING_VARIABLE="Create string variable...",e.Msg.NEW_VARIABLE="Create variable...",e.Msg.NEW_VARIABLE_TITLE="New variable name:",e.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",e.Msg.ORDINAL_NUMBER_SUFFIX="",e.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",e.Msg.PROCEDURES_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",e.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",e.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CALL_DISABLED_DEF_WARNING="Can't run the user-defined function '%1' because the definition block is disabled.",e.Msg.PROCEDURES_CREATE_DO="Create '%1'",e.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",e.Msg.PROCEDURES_DEFNORETURN_DO="",e.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",e.Msg.PROCEDURES_DEFNORETURN_TITLE="to",e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",e.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFRETURN_RETURN="return",e.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",e.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",e.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",e.Msg.PROCEDURES_IFRETURN_HELPURL="https://c2.com/cgi/wiki?GuardClause",e.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",e.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",e.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",e.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",e.Msg.REDO="Redo",e.Msg.REMOVE_COMMENT="Remove Comment",e.Msg.RENAME_VARIABLE="Rename variable...",e.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",e.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_APPEND_TITLE="to %1 append text %2",e.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",e.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",e.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",e.Msg.TEXT_CHARAT_FIRST="get first letter",e.Msg.TEXT_CHARAT_FROM_END="get letter # from end",e.Msg.TEXT_CHARAT_FROM_START="get letter #",e.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg.TEXT_CHARAT_LAST="get last letter",e.Msg.TEXT_CHARAT_RANDOM="get random letter",e.Msg.TEXT_CHARAT_TAIL="",e.Msg.TEXT_CHARAT_TITLE="in text %1 %2",e.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",e.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",e.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",e.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",e.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",e.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",e.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",e.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",e.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",e.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",e.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",e.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",e.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",e.Msg.TEXT_GET_SUBSTRING_TAIL="",e.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",e.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",e.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",e.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",e.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",e.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",e.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",e.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",e.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",e.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_LENGTH_TITLE="length of %1",e.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",e.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg.TEXT_PRINT_TITLE="print %1",e.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",e.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",e.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",e.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",e.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",e.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",e.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",e.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",e.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",e.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",e.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",e.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",e.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",e.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",e.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",e.Msg.TODAY="Today",e.Msg.UNDO="Undo",e.Msg.UNNAMED_KEY="unnamed",e.Msg.VARIABLES_DEFAULT_NAME="item",e.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",e.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",e.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",e.Msg.VARIABLES_SET="set %1 to %2",e.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",e.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",e.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",e.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER="A variable named '%1' already exists as a parameter in the procedure '%2'.",e.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",e.Msg.CONTROLS_FOREACH_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_FOR_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=e.Msg.CONTROLS_IF_MSG_ELSEIF,e.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=e.Msg.CONTROLS_IF_MSG_ELSE,e.Msg.CONTROLS_IF_IF_TITLE_IF=e.Msg.CONTROLS_IF_MSG_IF,e.Msg.CONTROLS_IF_MSG_THEN=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.LISTS_CREATE_WITH_ITEM_TITLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.MATH_CHANGE_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.PROCEDURES_DEFRETURN_COMMENT=e.Msg.PROCEDURES_DEFNORETURN_COMMENT,e.Msg.PROCEDURES_DEFRETURN_DO=e.Msg.PROCEDURES_DEFNORETURN_DO,e.Msg.PROCEDURES_DEFRETURN_PROCEDURE=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,e.Msg.PROCEDURES_DEFRETURN_TITLE=e.Msg.PROCEDURES_DEFNORETURN_TITLE,e.Msg.TEXT_APPEND_VARIABLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.COLOUR_HUE="20",e.Msg.LISTS_HUE="260",e.Msg.LOGIC_HUE="210",e.Msg.LOOPS_HUE="120",e.Msg.MATH_HUE="230",e.Msg.PROCEDURES_HUE="290",e.Msg.TEXTS_HUE="160",e.Msg.VARIABLES_DYNAMIC_HUE="310",e.Msg.VARIABLES_HUE="330",e.Msg},"function"==typeof define&&define.amd?define([],o):e.exports=o()}),d("9cjru",function(e,t){e.exports=c("9R5n6")}),d("9R5n6",function(e,t){var n,o;e.exports,o=function(e){var t=e.__namespace__,n=t.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]);t.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter",{customContextMenu:function(e){if(this.isInFlyout){var n,o;("variables_get_dynamic"===this.type||"variables_get_reporter_dynamic"===this.type)&&(i={text:t.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:(n=this,function(){let e=n.workspace,o=n.getField("VAR").getVariable();t.renameVariable$$module$build$src$core$variables(e,o)})},s=this.getField("VAR").getText(),s={text:t.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",s),enabled:!0,callback:(o=this,function(){let e=o.workspace,t=o.getField("VAR").getVariable();e.deleteVariableById(t.getId()),e.refreshToolboxSelection()})},e.unshift(i),e.unshift(s))}else{if("variables_get_dynamic"===this.type)var r="variables_set_dynamic",i=t.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else r="variables_get_dynamic",i=t.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var s=this.getField("VAR");r={type:r,fields:{VAR:s.saveState(!0)}},e.push({enabled:0<this.workspace.remainingCapacity(),text:i.replace("%1",s.getText()),callback:t.callbackFactory$$module$build$src$core$contextmenu(this,r)})}},onchange:function(e){e=this.getFieldValue("VAR"),e=t.getVariable$$module$build$src$core$variables(this.workspace,e),"variables_get_dynamic"===this.type?this.outputConnection.setCheck(e.type):this.getInput("VALUE").connection.setCheck(e.type)}}),t.defineBlocks$$module$build$src$core$common(n);var o=t.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);t.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter",{customContextMenu:function(e){if(this.isInFlyout){var n,o;("variables_get"===this.type||"variables_get_reporter"===this.type)&&(i={text:t.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:(n=this,function(){let e=n.workspace,o=n.getField("VAR").getVariable();t.renameVariable$$module$build$src$core$variables(e,o)})},s=this.getField("VAR").getText(),s={text:t.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",s),enabled:!0,callback:(o=this,function(){let e=o.workspace,t=o.getField("VAR").getVariable();e.deleteVariableById(t.getId()),e.refreshToolboxSelection()})},e.unshift(i),e.unshift(s))}else{if("variables_get"===this.type)var r="variables_set",i=t.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else r="variables_get",i=t.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var s=this.getField("VAR");r={type:r,fields:{VAR:s.saveState(!0)}},e.push({enabled:0<this.workspace.remainingCapacity(),text:i.replace("%1",s.getText()),callback:t.callbackFactory$$module$build$src$core$contextmenu(this,r)})}}}),t.defineBlocks$$module$build$src$core$common(o);var r=t.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]);r.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);let e=e=>{let n=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+e]});return n.setValidator(function(t){let n=this.getValue();(t="FROM_START"===t||"FROM_END"===t)!=("FROM_START"===n||"FROM_END"===n)&&this.getSourceBlock().updateAt_(e,t)}),n};this.appendDummyInput("WHERE1_INPUT").appendField(e(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(e(2),"WHERE2"),this.appendDummyInput("AT2"),t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){let e=t.createElement$$module$build$src$core$utils$xml("mutation");var n=this.getInput("AT1")instanceof t.ValueInput$$module$build$src$core$inputs$value_input;return e.setAttribute("at1",`${n}`),n=this.getInput("AT2")instanceof t.ValueInput$$module$build$src$core$inputs$value_input,e.setAttribute("at2",`${n}`),e},domToMutation:function(e){let t="true"===e.getAttribute("at1");e="true"===e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(e,n){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),n?(this.appendValueInput("AT"+e).setCheck("Number"),t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e),2===e&&t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL)),1===e&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT"))}},r.text_changeCase={init:function(){let e=[[t.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[t.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[t.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(t.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:e}),"CASE"),this.setOutput(!0,"String"),this.setTooltip(t.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}},r.text_trim={init:function(){let e=[[t.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[t.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[t.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(t.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:e}),"MODE"),this.setOutput(!0,"String"),this.setTooltip(t.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}},r.text_print={init:function(){this.jsonInit({message0:t.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:t.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:t.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};var i={updateType_:function(e){this.outputConnection.setCheck("NUMBER"===e?"Number":"String")},mutationToDom:function(){let e=t.createElement$$module$build$src$core$utils$xml("mutation");return e.setAttribute("type",this.getFieldValue("TYPE")),e},domToMutation:function(e){this.updateType_(e.getAttribute("type"))}};r.text_prompt_ext=Object.assign({},i,{init:function(){var e=[[t.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[t.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(t.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),(e=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:e})).setValidator(e=>{this.updateType_(e)}),this.appendValueInput("TEXT").appendField(e,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(()=>"TEXT"===this.getFieldValue("TYPE")?t.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:t.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),r.text_prompt=Object.assign({},i,{init:function(){this.mixin(s);var e=[[t.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[t.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(t.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),(e=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:e})).setValidator(e=>{this.updateType_(e)}),this.appendDummyInput().appendField(e,"TYPE").appendField(this.newQuote_(!0)).appendField(t.fromJson$$module$build$src$core$field_registry({type:"field_input",text:""}),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(()=>"TEXT"===this.getFieldValue("TYPE")?t.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:t.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),r.text_count={init:function(){this.jsonInit({message0:t.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:t.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:t.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}},r.text_replace={init:function(){this.jsonInit({message0:t.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:t.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:t.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}},r.text_reverse={init:function(){this.jsonInit({message0:t.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:t.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:t.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};var s={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(e){for(let t=0,n;n=this.inputList[t];t++)for(let t=0,o;o=n.fieldRow[t];t++)if(e===o.name){n.insertFieldAt(t,this.newQuote_(!0)),n.insertFieldAt(t+2,this.newQuote_(!1));return}console.warn('field named "'+e+'" not found in '+this.toDevString())},newQuote_:function(e){return e=this.RTL?!e:e,t.fromJson$$module$build$src$core$field_registry({type:"field_image",src:e?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,height:this.QUOTE_IMAGE_HEIGHT,alt:e?"“":"”"})}};t.register$$module$build$src$core$extensions("text_append_tooltip",t.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}","VAR")),t.register$$module$build$src$core$extensions("text_indexOf_tooltip",function(){this.setTooltip(()=>t.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))}),t.register$$module$build$src$core$extensions("text_quotes",function(){this.mixin(s),this.quoteField_("TEXT")}),t.registerMixin$$module$build$src$core$extensions("quote_image_mixin",s),t.registerMutator$$module$build$src$core$extensions("text_join_mutator",{itemCount_:0,mutationToDom:function(){let e=t.createElement$$module$build$src$core$utils$xml("mutation");return e.setAttribute("items",`${this.itemCount_}`),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(e){this.itemCount_=e.itemCount,this.updateShape_()},decompose:function(e){let t=e.newBlock("text_create_join_container");t.initSvg();let n=t.getInput("STACK").connection;for(let t=0;t<this.itemCount_;t++){let t=e.newBlock("text_create_join_item");t.initSvg(),n.connect(t.previousConnection),n=t.nextConnection}return t},compose:function(e){var t=e.getInputTargetBlock("STACK");for(e=[];t;)t.isInsertionMarker()||e.push(t.valueConnection_),t=t.getNextBlock();for(t=0;t<this.itemCount_;t++){let n=this.getInput("ADD"+t).connection.targetConnection;n&&!e.includes(n)&&n.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),t=0;t<this.itemCount_;t++){let n;null==(n=e[t])||n.reconnect(this,"ADD"+t)}},saveConnections:function(e){e=e.getInputTargetBlock("STACK");let t=0;for(;e;){if(e.isInsertionMarker()){e=e.getNextBlock();continue}let n=this.getInput("ADD"+t);e.valueConnection_=n&&n.connection.targetConnection,e=e.getNextBlock(),t++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){let n=this.appendValueInput("ADD"+e).setAlign(t.Align$$module$build$src$core$inputs$align.RIGHT);0===e&&n.appendField(t.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(e=this.itemCount_;this.getInput("ADD"+e);e++)this.removeInput("ADD"+e)}},function(){this.mixin(s),this.itemCount_=2,this.updateShape_(),this.setMutator(new t.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"],this))}),t.registerMutator$$module$build$src$core$extensions("text_charAt_mutator",{isAt_:!1,mutationToDom:function(){let e=t.createElement$$module$build$src$core$utils$xml("mutation");return e.setAttribute("at",`${this.isAt_}`),e},domToMutation:function(e){e="false"!==e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(e){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),e&&(this.appendValueInput("AT").setCheck("Number"),t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)),t.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(t.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL)),this.isAt_=e}},function(){this.getField("WHERE").setValidator(function(e){e="FROM_START"===e||"FROM_END"===e;let t=this.getSourceBlock();e!==t.isAt_&&t.updateAt_(e)}),this.updateAt_(!0),this.setTooltip(()=>{var e=this.getFieldValue("WHERE");let n=t.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;return("FROM_START"===e||"FROM_END"===e)&&(e="FROM_START"===e?t.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:t.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(n+="  "+e.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),n})}),t.defineBlocks$$module$build$src$core$common(r);var l={},a={setStatements_:function(e){this.hasStatements_!==e&&(e?(this.appendStatementInput("STACK").appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=e)},updateParams_:function(){let e="";this.arguments_.length&&(e=t.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),t.disable$$module$build$src$core$events$utils();try{this.setFieldValue(e,"PARAMS")}finally{t.enable$$module$build$src$core$events$utils()}},mutationToDom:function(e){let n=t.createElement$$module$build$src$core$utils$xml("mutation");e&&n.setAttribute("name",this.getFieldValue("NAME"));for(let o=0;o<this.argumentVarModels_.length;o++){let r=t.createElement$$module$build$src$core$utils$xml("arg"),i=this.argumentVarModels_[o];r.setAttribute("name",i.name),r.setAttribute("varid",i.getId()),e&&this.paramIds_&&r.setAttribute("paramId",this.paramIds_[o]),n.appendChild(r)}return this.hasStatements_||n.setAttribute("statements","false"),n},domToMutation:function(e){this.arguments_=[],this.argumentVarModels_=[];for(let o=0,r;r=e.childNodes[o];o++)if("arg"===r.nodeName.toLowerCase()){var n=r;let e=n.getAttribute("name");n=n.getAttribute("varid")||n.getAttribute("varId"),this.arguments_.push(e),null!==(n=t.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,n,e,""))?this.argumentVarModels_.push(n):console.log(`Failed to create a variable named "${e}", ignoring.`)}this.updateParams_(),t.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_("false"!==e.getAttribute("statements"))},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;let e=Object.create(null);if(this.argumentVarModels_.length){e.params=[];for(let t=0;t<this.argumentVarModels_.length;t++)e.params.push({name:this.argumentVarModels_[t].name,id:this.argumentVarModels_[t].getId()})}return this.hasStatements_||(e.hasStatements=!1),e},loadExtraState:function(e){if(this.arguments_=[],this.argumentVarModels_=[],e.params)for(let o=0;o<e.params.length;o++){var n=e.params[o];n=t.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,n.id,n.name,""),this.arguments_.push(n.name),this.argumentVarModels_.push(n)}this.updateParams_(),t.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(!1!==e.hasStatements)},decompose:function(e){let n=t.createElement$$module$build$src$core$utils$xml("block");n.setAttribute("type","procedures_mutatorcontainer");var o=t.createElement$$module$build$src$core$utils$xml("statement");o.setAttribute("name","STACK"),n.appendChild(o);for(let e=0;e<this.arguments_.length;e++){let n=t.createElement$$module$build$src$core$utils$xml("block");n.setAttribute("type","procedures_mutatorarg");var r=t.createElement$$module$build$src$core$utils$xml("field");r.setAttribute("name","NAME");let i=t.createTextNode$$module$build$src$core$utils$xml(this.arguments_[e]);r.appendChild(i),n.appendChild(r),r=t.createElement$$module$build$src$core$utils$xml("next"),n.appendChild(r),o.appendChild(n),o=r}return e=t.domToBlock$$module$build$src$core$xml(n,e),"procedures_defreturn"===this.type?e.setFieldValue(this.hasStatements_,"STATEMENTS"):e.removeInput("STATEMENT_INPUT"),t.mutateCallers$$module$build$src$core$procedures(this),e},compose:function(e){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let n=e.getInputTargetBlock("STACK");for(;n&&!n.isInsertionMarker();){var o,r=n.getFieldValue("NAME");this.arguments_.push(r),r=this.workspace.getVariable(r,""),this.argumentVarModels_.push(r),this.paramIds_.push(n.id),n=n.nextConnection&&n.nextConnection.targetBlock()}this.updateParams_(),t.mutateCallers$$module$build$src$core$procedures(this),null!==(e=e.getFieldValue("STATEMENTS"))&&(e="TRUE"===e,this.hasStatements_!==e)&&(e?(this.setStatements_(!0),null==(o=this.statementConnection_)||o.reconnect(this,"STACK"),this.statementConnection_=null):(o=this.getInput("STACK").connection,(this.statementConnection_=o.targetConnection)&&((o=o.targetBlock()).unplug(),o.bumpNeighbours()),this.setStatements_(!1)))},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(e,n){var o=this.workspace.getVariableById(e);if(""===o.type){o=o.name,n=this.workspace.getVariableById(n);var r=!1;for(let t=0;t<this.argumentVarModels_.length;t++)this.argumentVarModels_[t].getId()===e&&(this.arguments_[t]=n.name,this.argumentVarModels_[t]=n,r=!0);r&&(this.displayRenamedVar_(o,n.name),t.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(e){let n=e.name,o=!1,r;for(let t=0;t<this.argumentVarModels_.length;t++)this.argumentVarModels_[t].getId()===e.getId()&&(r=this.arguments_[t],this.arguments_[t]=n,o=!0);o&&(this.displayRenamedVar_(r,n),t.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(e,n){this.updateParams_();var o=this.getIcon(t.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(o&&o.bubbleIsVisible()){o=o.getWorkspace().getAllBlocks(!1);for(let r=0,i;i=o[r];r++)"procedures_mutatorarg"===i.type&&t.Names$$module$build$src$core$names.equals(e,i.getFieldValue("NAME"))&&i.setFieldValue(n,"NAME")}},customContextMenu:function(e){if(!this.isInFlyout){var n=this.getFieldValue("NAME"),o={type:this.callType_,extraState:{name:n,params:this.arguments_}};if(e.push({enabled:!0,text:t.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1",n),callback:t.callbackFactory$$module$build$src$core$contextmenu(this,o)}),!this.isCollapsed())for(n=0;n<this.argumentVarModels_.length;n++){let r={type:"variables_get",fields:{VAR:{name:(o=this.argumentVarModels_[n]).name,id:o.getId(),type:o.type}}};e.push({enabled:!0,text:t.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",o.name),callback:t.callbackFactory$$module$build$src$core$contextmenu(this,r)})}}}};l.procedures_defnoreturn=Object.assign({},a,{init:function(){var e=t.findLegalName$$module$build$src$core$procedures("",this);(e=t.fromJson$$module$build$src$core$field_registry({type:"field_input",text:e})).setValidator(t.rename$$module$build$src$core$procedures),e.setSpellcheck(!1),this.appendDummyInput().appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.setMutator(new t.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&t.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),l.procedures_defreturn=Object.assign({},a,{init:function(){var e=t.findLegalName$$module$build$src$core$procedures("",this);(e=t.fromJson$$module$build$src$core$field_registry({type:"field_input",text:e})).setValidator(t.rename$$module$build$src$core$procedures),e.setSpellcheck(!1),this.appendDummyInput().appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(t.Align$$module$build$src$core$inputs$align.RIGHT).appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new t.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"}),l.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField(t.fromJson$$module$build$src$core$field_registry({type:"field_checkbox",checked:!0}),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}},l.procedures_mutatorarg={init:function(){let e=t.fromJson$$module$build$src$core$field_registry({type:"field_input",text:t.DEFAULT_ARG$$module$build$src$core$procedures});e.setValidator(this.validator_),e.oldShowEditorFn_=e.showEditor_,e.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(e,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,e.onFinishEditing_=this.deleteIntermediateVars_,e.createdVariables_=[],e.onFinishEditing_("x")},validator_:function(e){var t=this.getSourceBlock();let n=t.workspace.getRootWorkspace();if(!(e=e.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;let o=(t.workspace.targetWorkspace||t.workspace).getAllBlocks(!1),r=e.toLowerCase();for(let e=0;e<o.length;e++){if(o[e].id===this.getSourceBlock().id)continue;let t=o[e].getFieldValue("NAME");if(t&&t.toLowerCase()===r)return null}return t.isInFlyout||((t=n.getVariable(e,""))&&t.name!==e&&n.renameVariableById(t.getId(),e),t||(t=n.createVariable(e,""))&&this.createdVariables_&&this.createdVariables_.push(t)),e},deleteIntermediateVars_:function(e){let t=this.getSourceBlock().workspace.getRootWorkspace();if(t)for(let n=0;n<this.createdVariables_.length;n++){let o=this.createdVariables_[n];o.name!==e&&t.deleteVariableById(o.getId())}}};var u="DISABLED_PROCEDURE_DEFINITION",c={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(e,n){t.Names$$module$build$src$core$names.equals(e,this.getProcedureCall())&&(this.setFieldValue(n,"NAME"),this.setTooltip((this.outputConnection?t.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:t.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",n)))},setProcedureParameters_:function(e,n){var o=t.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);if((o=(o=o&&o.getIcon(t.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&o.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),e.join("\n")===this.arguments_.join("\n"))this.quarkIds_=n;else{if(n.length!==e.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);for(let e=0;e<this.arguments_.length;e++){var r=this.getInput("ARG"+e);r&&(r=r.connection.targetConnection,this.quarkConnections_[this.quarkIds_[e]]=r,o&&r&&!n.includes(this.quarkIds_[e])&&(r.disconnect(),r.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(e),this.argumentVarModels_=[],e=0;e<this.arguments_.length;e++)o=t.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[e],""),this.argumentVarModels_.push(o);if(this.updateShape_(),this.quarkIds_=n){for(n=0;n<this.arguments_.length;n++)if((e=this.quarkIds_[n])in this.quarkConnections_){let t;(null==(t=this.quarkConnections_[e])?0:t.reconnect(this,"ARG"+n))||delete this.quarkConnections_[e]}}}},updateShape_:function(){for(var e=0;e<this.arguments_.length;e++){var n=this.getField("ARGNAME"+e);if(n){t.disable$$module$build$src$core$events$utils();try{n.setValue(this.arguments_[e])}finally{t.enable$$module$build$src$core$events$utils()}}else n=t.fromJson$$module$build$src$core$field_registry({type:"field_label",text:this.arguments_[e]}),this.appendValueInput("ARG"+e).setAlign(t.Align$$module$build$src$core$inputs$align.RIGHT).appendField(n,"ARGNAME"+e)}for(e=this.arguments_.length;this.getInput("ARG"+e);e++)this.removeInput("ARG"+e);(e=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||e.appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"):this.getField("WITH")&&e.removeField("WITH"))},mutationToDom:function(){let e=t.createElement$$module$build$src$core$utils$xml("mutation");e.setAttribute("name",this.getProcedureCall());for(let n=0;n<this.arguments_.length;n++){let o=t.createElement$$module$build$src$core$utils$xml("arg");o.setAttribute("name",this.arguments_[n]),e.appendChild(o)}return e},domToMutation:function(e){var t=e.getAttribute("name");this.renameProcedure(this.getProcedureCall(),t),t=[];let n=[];for(let o=0,r;r=e.childNodes[o];o++)"arg"===r.nodeName.toLowerCase()&&(t.push(r.getAttribute("name")),n.push(r.getAttribute("paramId")));this.setProcedureParameters_(t,n)},saveExtraState:function(){let e=Object.create(null);return e.name=this.getProcedureCall(),this.arguments_.length&&(e.params=this.arguments_),e},loadExtraState:function(e){if(this.renameProcedure(this.getProcedureCall(),e.name),e=e.params){let t=[];t.length=e.length,t.fill(null),this.setProcedureParameters_(e,t)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(e){if(this.workspace&&!this.workspace.isFlyout&&e.recordUndo)if(e.type===t.BLOCK_CREATE$$module$build$src$core$events$events&&e.ids.includes(this.id)){var n=this.getProcedureCall(),o=t.getDefinition$$module$build$src$core$procedures(n,this.workspace);if(o&&(o.type!==this.defType_||JSON.stringify(o.getVars())!==JSON.stringify(this.arguments_))&&(o=null),o)o.isEnabled()||(this.setDisabledReason(!0,u),this.setWarningText(t.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",n)));else{t.setGroup$$module$build$src$core$events$utils(e.group),e=t.createElement$$module$build$src$core$utils$xml("xml"),(n=t.createElement$$module$build$src$core$utils$xml("block")).setAttribute("type",this.defType_);var r=(o=this.getRelativeToSurfaceXY()).y+2*t.config$$module$build$src$core$config.snapRadius;n.setAttribute("x",`${o.x+t.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`),n.setAttribute("y",`${r}`),o=this.mutationToDom(),n.appendChild(o),(o=t.createElement$$module$build$src$core$utils$xml("field")).setAttribute("name","NAME"),r=this.getProcedureCall();let i=t.findLegalName$$module$build$src$core$procedures(r,this);r!==i&&this.renameProcedure(r,i),o.appendChild(t.createTextNode$$module$build$src$core$utils$xml(r)),n.appendChild(o),e.appendChild(n),t.domToWorkspace$$module$build$src$core$xml(e,this.workspace),t.setGroup$$module$build$src$core$events$utils(!1)}}else e.type===t.BLOCK_DELETE$$module$build$src$core$events$events?(n=this.getProcedureCall(),t.getDefinition$$module$build$src$core$procedures(n,this.workspace)||(t.setGroup$$module$build$src$core$events$utils(e.group),this.dispose(!0),t.setGroup$$module$build$src$core$events$utils(!1))):e.type===t.BLOCK_CHANGE$$module$build$src$core$events$events&&"disabled"===e.element&&(n=this.getProcedureCall(),(r=t.getDefinition$$module$build$src$core$procedures(n,this.workspace))&&r.id===e.blockId&&((o=t.getGroup$$module$build$src$core$events$utils())&&console.log("Saw an existing group while responding to a definition change"),t.setGroup$$module$build$src$core$events$utils(e.group),e=r.isEnabled(),this.setDisabledReason(!e,u),this.setWarningText(e?null:t.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",n)),t.setGroup$$module$build$src$core$events$utils(o)))},customContextMenu:function(e){if(this.workspace.isMovable()){var n=this.getProcedureCall(),o=this.workspace;e.push({enabled:!0,text:t.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){let e=t.getDefinition$$module$build$src$core$procedures(n,o);e&&(o.centerOnBlock(e.id),t.setSelected$$module$build$src$core$common(e))}})}}};l.procedures_callnoreturn=Object.assign({},c,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(t.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defnoreturn"}),l.procedures_callreturn=Object.assign({},c,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(t.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defreturn"}),l.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(t.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(t.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){let e=t.createElement$$module$build$src$core$utils$xml("mutation");return e.setAttribute("value",String(Number(this.hasReturnValue_))),e},domToMutation:function(e){this.hasReturnValue_="1"===e.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(e){if(!(this.workspace.isDragging&&this.workspace.isDragging()||e.type!==t.BLOCK_MOVE$$module$build$src$core$events$events&&e.type!==t.BLOCK_CREATE$$module$build$src$core$events$events)){e=!1;var n=this;do{if(this.FUNCTION_TYPES.includes(n.type)){e=!0;break}n=n.getSurroundParent()}while(n)if(e?("procedures_defnoreturn"===n.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!==n.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(t.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING),!this.isInFlyout)try{t.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!e,"UNPARENTED_IFRETURN")}finally{t.setRecordUndo$$module$build$src$core$events$utils(!0)}}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},t.defineBlocks$$module$build$src$core$common(l);var d=t.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["π","PI"],["e","E"],["φ","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(½)","SQRT1_2"],["∞","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);t.register$$module$build$src$core$extensions("math_op_tooltip",t.buildTooltipForDropdown$$module$build$src$core$extensions("OP",{ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"})),t.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator",{mutationToDom:function(){let e=t.createElement$$module$build$src$core$utils$xml("mutation"),n="DIVISIBLE_BY"===this.getFieldValue("PROPERTY");return e.setAttribute("divisor_input",String(n)),e},domToMutation:function(e){e="true"===e.getAttribute("divisor_input"),this.updateShape_(e)},updateShape_:function(e){let t=this.getInput("DIVISOR");e?t||this.appendValueInput("DIVISOR").setCheck("Number"):t&&this.removeInput("DIVISOR")}},function(){this.getField("PROPERTY").setValidator(function(e){e="DIVISIBLE_BY"===e,this.getSourceBlock().updateShape_(e)})}),t.register$$module$build$src$core$extensions("math_change_tooltip",t.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}","VAR")),t.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator",{updateType_:function(e){"MODE"===e?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){let e=t.createElement$$module$build$src$core$utils$xml("mutation");return e.setAttribute("op",this.getFieldValue("OP")),e},domToMutation:function(e){if(null===(e=e.getAttribute("op")))throw TypeError("xmlElement had no op attribute");this.updateType_(e)}},function(){this.getField("OP").setValidator((function(e){this.updateType_(e)}).bind(this))}),t.defineBlocks$$module$build$src$core$common(d);var h=t.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]);t.register$$module$build$src$core$extensions("controls_whileUntil_tooltip",t.buildTooltipForDropdown$$module$build$src$core$extensions("MODE",{WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"})),t.register$$module$build$src$core$extensions("controls_flow_tooltip",t.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW",{BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"})),t.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock",{customContextMenu:function(e){if(!this.isInFlyout){var n=this.getField("VAR"),o=n.getVariable().name;this.isCollapsed()||null===o||(n={type:"variables_get",fields:{VAR:n.saveState(!0)}},e.push({enabled:!0,text:t.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",o),callback:t.callbackFactory$$module$build$src$core$contextmenu(this,n)}))}}}),t.register$$module$build$src$core$extensions("controls_for_tooltip",t.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),t.register$$module$build$src$core$extensions("controls_forEach_tooltip",t.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));var p=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]);t.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check",{getSurroundLoop:function(){let e=this;do{if(p.has(e.type))return e;e=e.getSurroundParent()}while(e)return null},onchange:function(e){let n=this.workspace;if(n.isDragging&&!n.isDragging()&&(e.type===t.BLOCK_MOVE$$module$build$src$core$events$events||e.type===t.BLOCK_CREATE$$module$build$src$core$events$events)&&(e=!!this.getSurroundLoop(),this.setWarningText(e?null:t.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout))try{t.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!e,"CONTROL_FLOW_NOT_IN_LOOP")}finally{t.setRecordUndo$$module$build$src$core$events$utils(!0)}}}),t.defineBlocks$$module$build$src$core$common(h);var f=t.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["≠","NEQ"],["‏<","LT"],["‏≤","LTE"],["‏>","GT"],["‏≥","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);t.register$$module$build$src$core$extensions("logic_op_tooltip",t.buildTooltipForDropdown$$module$build$src$core$extensions("OP",{EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"})),t.registerMutator$$module$build$src$core$extensions("controls_if_mutator",{elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;let e=t.createElement$$module$build$src$core$utils$xml("mutation");return this.elseifCount_&&e.setAttribute("elseif",String(this.elseifCount_)),this.elseCount_&&e.setAttribute("else","1"),e},domToMutation:function(e){this.elseifCount_=parseInt(e.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(e.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;let e=Object.create(null);return this.elseifCount_&&(e.elseIfCount=this.elseifCount_),this.elseCount_&&(e.hasElse=!0),e},loadExtraState:function(e){this.elseifCount_=e.elseIfCount||0,this.elseCount_=+!!e.hasElse,this.updateShape_()},decompose:function(e){let t=e.newBlock("controls_if_if");t.initSvg();let n=t.nextConnection;for(let t=1;t<=this.elseifCount_;t++){let t=e.newBlock("controls_if_elseif");t.initSvg(),n.connect(t.previousConnection),n=t.nextConnection}return this.elseCount_&&((e=e.newBlock("controls_if_else")).initSvg(),n.connect(e.previousConnection)),t},compose:function(e){e=e.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;let t=[null],n=[null],o=null;for(;e;){if(!e.isInsertionMarker())switch(e.type){case"controls_if_elseif":this.elseifCount_++,t.push(e.valueConnection_),n.push(e.statementConnection_);break;case"controls_if_else":this.elseCount_++,o=e.statementConnection_;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(t,n,o)},saveConnections:function(e){e=e.nextConnection.targetBlock();let t=1;for(;e;){if(!e.isInsertionMarker())switch(e.type){case"controls_if_elseif":var n=this.getInput("IF"+t);let o=this.getInput("DO"+t);e.valueConnection_=n&&n.connection.targetConnection,e.statementConnection_=o&&o.connection.targetConnection,t++;break;case"controls_if_else":n=this.getInput("ELSE"),e.statementConnection_=n&&n.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.getNextBlock()}},rebuildShape_:function(){let e=[null],t=[null],n=null;this.getInput("ELSE")&&(n=this.getInput("ELSE").connection.targetConnection);for(let n=1;this.getInput("IF"+n);n++){let o=this.getInput("IF"+n),r=this.getInput("DO"+n);e.push(o.connection.targetConnection),t.push(r.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(e,t,n)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var e=1;this.getInput("IF"+e);e++)this.removeInput("IF"+e),this.removeInput("DO"+e);for(e=1;e<=this.elseifCount_;e++)this.appendValueInput("IF"+e).setCheck("Boolean").appendField(t.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+e).appendField(t.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(t.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(e,t,n){for(let n=1;n<=this.elseifCount_;n++){let o,r;null==(o=e[n])||o.reconnect(this,"IF"+n),null==(r=t[n])||r.reconnect(this,"DO"+n)}null==n||n.reconnect(this,"ELSE")}},null,["controls_if_elseif","controls_if_else"]),t.register$$module$build$src$core$extensions("controls_if_tooltip",function(){this.setTooltip((function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?t.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?t.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?t.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4:"":t.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1}).bind(this))});var g={onchange:function(e){this.prevBlocks_||(this.prevBlocks_=[null,null]);var n=this.getInputTargetBlock("A");let o=this.getInputTargetBlock("B");n&&o&&!this.workspace.connectionChecker.doTypeChecks(n.outputConnection,o.outputConnection)&&(t.setGroup$$module$build$src$core$events$utils(e.group),(e=this.prevBlocks_[0])!==n&&(n.unplug(),!e||e.isDisposed()||e.isShadow()||this.getInput("A").connection.connect(e.outputConnection)),(n=this.prevBlocks_[1])!==o&&(o.unplug(),!n||n.isDisposed()||n.isShadow()||this.getInput("B").connection.connect(n.outputConnection)),this.bumpNeighbours(),t.setGroup$$module$build$src$core$events$utils(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}};t.register$$module$build$src$core$extensions("logic_compare",function(){this.mixin(g)}),t.registerMixin$$module$build$src$core$extensions("logic_ternary",{prevParentConnection_:null,onchange:function(e){let n=this.getInputTargetBlock("THEN"),o=this.getInputTargetBlock("ELSE"),r=this.outputConnection.targetConnection;if((n||o)&&r)for(let i=0;2>i;i++){let s=1===i?n:o;s&&!s.workspace.connectionChecker.doTypeChecks(s.outputConnection,r)&&(t.setGroup$$module$build$src$core$events$utils(e.group),r===this.prevParentConnection_?(this.unplug(),r.getSourceBlock().bumpNeighbours()):(s.unplug(),s.bumpNeighbours()),t.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=r}}),t.defineBlocks$$module$build$src$core$common(f);var m=t.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]);m.lists_create_with={init:function(){this.setHelpUrl(t.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new t.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"],this)),this.setTooltip(t.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){let e=t.createElement$$module$build$src$core$utils$xml("mutation");return e.setAttribute("items",String(this.itemCount_)),e},domToMutation:function(e){if(!(e=e.getAttribute("items")))throw TypeError("element did not have items");this.itemCount_=parseInt(e,10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(e){this.itemCount_=e.itemCount,this.updateShape_()},decompose:function(e){let t=e.newBlock("lists_create_with_container");t.initSvg();let n=t.getInput("STACK").connection;for(let t=0;t<this.itemCount_;t++){let t=e.newBlock("lists_create_with_item");if(t.initSvg(),!t.previousConnection)throw Error("itemBlock has no previousConnection");n.connect(t.previousConnection),n=t.nextConnection}return t},compose:function(e){var t=e.getInputTargetBlock("STACK");for(e=[];t;)t.isInsertionMarker()||e.push(t.valueConnection_),t=t.getNextBlock();for(t=0;t<this.itemCount_;t++){let n=this.getInput("ADD"+t).connection.targetConnection;n&&!e.includes(n)&&n.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),t=0;t<this.itemCount_;t++){let n;null==(n=e[t])||n.reconnect(this,"ADD"+t)}},saveConnections:function(e){e=e.getInputTargetBlock("STACK");let t=0;for(;e;){if(e.isInsertionMarker()){e=e.getNextBlock();continue}let n=this.getInput("ADD"+t);e.valueConnection_=null==n?void 0:n.connection.targetConnection,e=e.getNextBlock(),t++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(t.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){let n=this.appendValueInput("ADD"+e).setAlign(t.Align$$module$build$src$core$inputs$align.RIGHT);0===e&&n.appendField(t.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(e=this.itemCount_;this.getInput("ADD"+e);e++)this.removeInput("ADD"+e)}},m.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(t.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(t.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},m.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(t.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(t.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},m.lists_indexOf={init:function(){var e=[[t.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,"FIRST"],[t.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,"LAST"]];if(this.setHelpUrl(t.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(t.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST),!(e=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:e})))throw Error("field_dropdown not found");this.appendValueInput("FIND").appendField(e,"END"),this.setInputsInline(!0),this.setTooltip(()=>t.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))}},m.lists_getIndex={init:function(){var e=[[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,"GET"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),(e=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:e})).setValidator(function(e){e="REMOVE"===e,this.getSourceBlock().updateStatement_(e)}),this.appendValueInput("VALUE").setCheck("Array").appendField(t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(e,"MODE").appendField("","SPACE"),(e=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS})).setValidator(function(e){let t=this.getValue();(e="FROM_START"===e||"FROM_END"===e)!=("FROM_START"===t||"FROM_END"===t)&&this.getSourceBlock().updateAt_(e)}),this.appendDummyInput().appendField(e,"WHERE"),this.appendDummyInput("AT"),t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0),this.setTooltip(()=>{let e=this.getFieldValue("MODE"),n=this.getFieldValue("WHERE"),o="";switch(e+" "+n){case"GET FROM_START":case"GET FROM_END":o=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":o=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":o=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":o=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":o=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":o=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":o=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":o=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":o=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":o=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":o=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":o=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return("FROM_START"===n||"FROM_END"===n)&&(o+="  "+("FROM_START"===n?t.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:t.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),o})},mutationToDom:function(){let e=t.createElement$$module$build$src$core$utils$xml("mutation");e.setAttribute("statement",String(!this.outputConnection));let n=this.getInput("AT")instanceof t.ValueInput$$module$build$src$core$inputs$value_input;return e.setAttribute("at",String(n)),e},domToMutation:function(e){let t="true"===e.getAttribute("statement");this.updateStatement_(t),e="false"!==e.getAttribute("at"),this.updateAt_(e)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(e){e.isStatement?this.updateStatement_(!0):"string"==typeof e&&this.domToMutation(t.textToDom$$module$build$src$core$utils$xml(e))},updateStatement_:function(e){!this.outputConnection!==e&&(this.unplug(!0,!0),e?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},m.lists_setIndex={init:function(){var e=[[t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,"SET"],[t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST),e=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:e}),this.appendDummyInput().appendField(e,"MODE").appendField("","SPACE"),(e=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS})).setValidator(function(e){let t=this.getValue();(e="FROM_START"===e||"FROM_END"===e)!=("FROM_START"===t||"FROM_END"===t)&&this.getSourceBlock().updateAt_(e)}),this.appendDummyInput().appendField(e,"WHERE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0),this.setTooltip(()=>{let e=this.getFieldValue("MODE"),n=this.getFieldValue("WHERE"),o="";switch(e+" "+n){case"SET FROM_START":case"SET FROM_END":o=t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":o=t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":o=t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":o=t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":o=t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":o=t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":o=t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":o=t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return("FROM_START"===n||"FROM_END"===n)&&(o+="  "+t.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),o})},mutationToDom:function(){let e=t.createElement$$module$build$src$core$utils$xml("mutation"),n=this.getInput("AT")instanceof t.ValueInput$$module$build$src$core$inputs$value_input;return e.setAttribute("at",String(n)),e},domToMutation:function(e){e="false"!==e.getAttribute("at"),this.updateAt_(e)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO")}},m.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);let e=e=>{let n=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+e]});return n.setValidator(function(t){let n=this.getValue();(t="FROM_START"===t||"FROM_END"===t)!=("FROM_START"===n||"FROM_END"===n)&&this.getSourceBlock().updateAt_(e,t)}),n};this.appendDummyInput("WHERE1_INPUT").appendField(e(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(e(2),"WHERE2"),this.appendDummyInput("AT2"),t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){let e=t.createElement$$module$build$src$core$utils$xml("mutation");var n=this.getInput("AT1")instanceof t.ValueInput$$module$build$src$core$inputs$value_input;return e.setAttribute("at1",String(n)),n=this.getInput("AT2")instanceof t.ValueInput$$module$build$src$core$inputs$value_input,e.setAttribute("at2",String(n)),e},domToMutation:function(e){let t="true"===e.getAttribute("at1");e="true"===e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(e,n){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),n?(this.appendValueInput("AT"+e).setCheck("Number"),t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e),1===e&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT")),t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},m.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},m.lists_split={init:function(){let e=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:[[t.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[t.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]]});if(!e)throw Error("field_dropdown not found");e.setValidator(e=>{this.updateType_(e)}),this.setHelpUrl(t.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(e,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(t.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(()=>{let e=this.getFieldValue("MODE");if("SPLIT"===e)return t.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"===e)return t.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+e)})},updateType_:function(e){if(this.getFieldValue("MODE")!==e){let e=this.getInput("INPUT").connection;e.setShadowDom(null);let t=e.targetBlock();t&&(e.disconnect(),t.isShadow()?t.dispose(!1):this.bumpNeighbours())}"SPLIT"===e?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){let e=t.createElement$$module$build$src$core$utils$xml("mutation");return e.setAttribute("mode",this.getFieldValue("MODE")),e},domToMutation:function(e){this.updateType_(e.getAttribute("mode"))},saveExtraState:function(){return{mode:this.getFieldValue("MODE")}},loadExtraState:function(e){this.updateType_(e.mode)}},t.defineBlocks$$module$build$src$core$common(m);var _={blocks:Object.assign({},m,f,h,d,l,r,o,n),lists:{blocks:m},logic:{blocks:f},loops:{blocks:h,loopTypes:p},math:{blocks:d},procedures:{blocks:l},texts:{blocks:r},variables:{blocks:o},variablesDynamic:{blocks:n}};return _.__namespace__=t,_},"function"==typeof define&&define.amd?define(["./blockly_compressed.js"],o):e.exports=o(c("8GNui"))}),d("asGCo",function(e,t){var n,o;e.exports,o=function(e){var t,n,o=e.__namespace__,r=function(e,t){let o=0,r="",i,s;t.STATEMENT_PREFIX&&(r+=t.injectId(t.STATEMENT_PREFIX,e));do s=t.valueToCode(e,"IF"+o,n.NONE)||"False",i=t.statementToCode(e,"DO"+o)||t.PASS,t.STATEMENT_SUFFIX&&(i=t.prefixLines(t.injectId(t.STATEMENT_SUFFIX,e),t.INDENT)+i),r+=(0===o?"if ":"elif ")+s+":\n"+i,o++;while(e.getInput("IF"+o))return(e.getInput("ELSE")||t.STATEMENT_SUFFIX)&&(i=e.getInput("ELSE")&&t.statementToCode(e,"ELSE")||t.PASS,t.STATEMENT_SUFFIX&&(i=t.prefixLines(t.injectId(t.STATEMENT_SUFFIX,e),t.INDENT)+i),r+="else:\n"+i),r},i=function(e,t){let r;r=e.getField("TIMES")?String(parseInt(e.getFieldValue("TIMES"),10)):t.valueToCode(e,"TIMES",n.NONE)||"0",r=o.isNumber$$module$build$src$core$utils$string(r)?parseInt(r,10):"int("+r+")";let i=t.statementToCode(e,"DO");return i=t.addLoopTrap(i,e)||t.PASS,"for "+t.nameDB_.getDistinctName("count",o.NameType$$module$build$src$core$names.VARIABLE)+" in range("+r+"):\n"+i},s=function(e,t){let o,r=e.getFieldValue("OP");if("NEG"===r)return["-"+(o=t.valueToCode(e,"NUM",n.UNARY_SIGN)||"0"),n.UNARY_SIGN];switch(t.definitions_.import_math="import math",e="SIN"===r||"COS"===r||"TAN"===r?t.valueToCode(e,"NUM",n.MULTIPLICATIVE)||"0":t.valueToCode(e,"NUM",n.NONE)||"0",r){case"ABS":o="math.fabs("+e+")";break;case"ROOT":o="math.sqrt("+e+")";break;case"LN":o="math.log("+e+")";break;case"LOG10":o="math.log10("+e+")";break;case"EXP":o="math.exp("+e+")";break;case"POW10":o="math.pow(10,"+e+")";break;case"ROUND":o="round("+e+")";break;case"ROUNDUP":o="math.ceil("+e+")";break;case"ROUNDDOWN":o="math.floor("+e+")";break;case"SIN":o="math.sin("+e+" / 180.0 * math.pi)";break;case"COS":o="math.cos("+e+" / 180.0 * math.pi)";break;case"TAN":o="math.tan("+e+" / 180.0 * math.pi)"}if(o)return[o,n.FUNCTION_CALL];switch(r){case"ASIN":o="math.asin("+e+") / math.pi * 180";break;case"ACOS":o="math.acos("+e+") / math.pi * 180";break;case"ATAN":o="math.atan("+e+") / math.pi * 180";break;default:throw Error("Unknown math operator: "+r)}return[o,n.MULTIPLICATIVE]},l=function(e,t){var r=[],i=e.workspace,s=o.allUsedVarModels$$module$build$src$core$variables(i)||[];for(var l of s)s=l.name,e.getVars().includes(s)||r.push(t.getVariableName(s));for(l=0,i=o.allDeveloperVariables$$module$build$src$core$variables(i);l<i.length;l++)r.push(t.nameDB_.getName(i[l],o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));i=r.length?t.INDENT+"global "+r.join(", ")+"\n":"",r=t.getProcedureName(e.getFieldValue("NAME")),l="",t.STATEMENT_PREFIX&&(l+=t.injectId(t.STATEMENT_PREFIX,e)),t.STATEMENT_SUFFIX&&(l+=t.injectId(t.STATEMENT_SUFFIX,e)),l&&(l=t.prefixLines(l,t.INDENT)),s="",t.INFINITE_LOOP_TRAP&&(s=t.prefixLines(t.injectId(t.INFINITE_LOOP_TRAP,e),t.INDENT));let a="";e.getInput("STACK")&&(a=t.statementToCode(e,"STACK"));let u="";e.getInput("RETURN")&&(u=t.valueToCode(e,"RETURN",n.NONE)||"");let c="";a&&u&&(c=l),u?u=t.INDENT+"return "+u+"\n":a||(a=t.PASS);let d=[],h=e.getVars();for(let e=0;e<h.length;e++)d[e]=t.getVariableName(h[e]);return i="def "+r+"("+d.join(", ")+"):\n"+i+l+s+a+c+u,i=t.scrub_(e,i),t.definitions_["%"+r]=i,null},a=function(e,t){var o=t.provideFunction_("text_prompt",`
def ${t.FUNCTION_NAME_PLACEHOLDER_}(msg):
  try:
    return raw_input(msg)
  except NameError:
    return input(msg)
`);return o=o+"("+(t=e.getField("TEXT")?t.quote_(e.getFieldValue("TEXT")):t.valueToCode(e,"TEXT",n.NONE)||"''")+")","NUMBER"===e.getFieldValue("TYPE")&&(o="float("+o+")"),[o,n.FUNCTION_CALL]},u=function(e,t){return[t.getVariableName(e.getFieldValue("VAR")),n.ATOMIC]},c=function(e,t){let o=t.valueToCode(e,"VALUE",n.NONE)||"0";return t.getVariableName(e.getFieldValue("VAR"))+" = "+o+"\n"};(t=n||(n={}))[t.ATOMIC=0]="ATOMIC",t[t.COLLECTION=1]="COLLECTION",t[t.STRING_CONVERSION=1]="STRING_CONVERSION",t[t.MEMBER=2.1]="MEMBER",t[t.FUNCTION_CALL=2.2]="FUNCTION_CALL",t[t.EXPONENTIATION=3]="EXPONENTIATION",t[t.UNARY_SIGN=4]="UNARY_SIGN",t[t.BITWISE_NOT=4]="BITWISE_NOT",t[t.MULTIPLICATIVE=5]="MULTIPLICATIVE",t[t.ADDITIVE=6]="ADDITIVE",t[t.BITWISE_SHIFT=7]="BITWISE_SHIFT",t[t.BITWISE_AND=8]="BITWISE_AND",t[t.BITWISE_XOR=9]="BITWISE_XOR",t[t.BITWISE_OR=10]="BITWISE_OR",t[t.RELATIONAL=11]="RELATIONAL",t[t.LOGICAL_NOT=12]="LOGICAL_NOT",t[t.LOGICAL_AND=13]="LOGICAL_AND",t[t.LOGICAL_OR=14]="LOGICAL_OR",t[t.CONDITIONAL=15]="CONDITIONAL",t[t.LAMBDA=16]="LAMBDA",t[t.NONE=99]="NONE";var d=class extends o.CodeGenerator$$module$build$src$core$generator{constructor(e="Python"){for(let t in super(e),this.ORDER_OVERRIDES=[[n.FUNCTION_CALL,n.MEMBER],[n.FUNCTION_CALL,n.FUNCTION_CALL],[n.MEMBER,n.MEMBER],[n.MEMBER,n.FUNCTION_CALL],[n.LOGICAL_NOT,n.LOGICAL_NOT],[n.LOGICAL_AND,n.LOGICAL_AND],[n.LOGICAL_OR,n.LOGICAL_OR]],this.PASS="",this.isInitialized=!1,n)"string"!=typeof(e=n[t])&&(this["ORDER_"+t]=e);this.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip")}init(e){super.init(e),this.PASS=this.INDENT+"pass\n",this.nameDB_?this.nameDB_.reset():this.nameDB_=new o.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(e.getVariableMap()),this.nameDB_.populateVariables(e),this.nameDB_.populateProcedures(e);let t=[];var n=o.allDeveloperVariables$$module$build$src$core$variables(e);for(let e=0;e<n.length;e++)t.push(this.nameDB_.getName(n[e],o.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE)+" = None");for(n=0,e=o.allUsedVarModels$$module$build$src$core$variables(e);n<e.length;n++)t.push(this.getVariableName(e[n].getId())+" = None");this.definitions_.variables=t.join("\n"),this.isInitialized=!0}finish(e){let t=[],n=[];for(let e in this.definitions_){let o=this.definitions_[e];o.match(/^(from\s+\S+\s+)?import\s+\S+/)?t.push(o):n.push(o)}return e=super.finish(e),this.isInitialized=!1,this.nameDB_.reset(),(t.join("\n")+"\n\n"+n.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+e}scrubNakedValue(e){return e+"\n"}quote_(e){e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n");let t="'";return e.includes("'")&&(e.includes('"')?e=e.replace(/'/g,"\\'"):t='"'),t+e+t}multiline_quote_(e){return e.split(/\n/g).map(this.quote_).join(" + '\\n' + \n")}scrub_(e,t,n=!1){let r="";if(!e.outputConnection||!e.outputConnection.targetConnection){var i=e.getCommentText();i&&(i=o.wrap$$module$build$src$core$utils$string(i,this.COMMENT_WRAP-3),r+=this.prefixLines(i+"\n","# "));for(let t=0;t<e.inputList.length;t++)e.inputList[t].type===o.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(i=e.inputList[t].connection.targetBlock())&&(i=this.allNestedComments(i))&&(r+=this.prefixLines(i,"# "))}return e=e.nextConnection&&e.nextConnection.targetBlock(),r+t+(n=n?"":this.blockToCode(e))}getAdjustedInt(e,t,r=0,i=!1){e.workspace.options.oneBasedIndex&&r--;let s=e.workspace.options.oneBasedIndex?"1":"0";return e=this.valueToCode(e,t,r?n.ADDITIVE:n.NONE)||s,o.isNumber$$module$build$src$core$utils$string(e)?(e=parseInt(e,10)+r,i&&(e=-e)):(e=0<r?"int("+e+" + "+r+")":0>r?"int("+e+" - "+-r+")":"int("+e+")",i&&(e="-"+e)),e}},h={};h.Order=n,h.PythonGenerator=d;var p={};p.lists_create_empty=function(e,t){return["[]",n.ATOMIC]},p.lists_create_with=function(e,t){let o=Array(e.itemCount_);for(let r=0;r<e.itemCount_;r++)o[r]=t.valueToCode(e,"ADD"+r,n.NONE)||"None";return["["+o.join(", ")+"]",n.ATOMIC]},p.lists_getIndex=function(e,t){let o=e.getFieldValue("MODE")||"GET",r=e.getFieldValue("WHERE")||"FROM_START";var i=t.valueToCode(e,"VALUE","RANDOM"===r?n.NONE:n.MEMBER)||"[]";switch(r){case"FIRST":if("GET"===o)return[i+"[0]",n.MEMBER];if("GET_REMOVE"===o)return[i+".pop(0)",n.FUNCTION_CALL];if("REMOVE"===o)return i+".pop(0)\n";break;case"LAST":if("GET"===o)return[i+"[-1]",n.MEMBER];if("GET_REMOVE"===o)return[i+".pop()",n.FUNCTION_CALL];if("REMOVE"===o)return i+".pop()\n";break;case"FROM_START":if(e=t.getAdjustedInt(e,"AT"),"GET"===o)return[i+"["+e+"]",n.MEMBER];if("GET_REMOVE"===o)return[i+".pop("+e+")",n.FUNCTION_CALL];if("REMOVE"===o)return i+".pop("+e+")\n";break;case"FROM_END":if(e=t.getAdjustedInt(e,"AT",1,!0),"GET"===o)return[i+"["+e+"]",n.MEMBER];if("GET_REMOVE"===o)return[i+".pop("+e+")",n.FUNCTION_CALL];if("REMOVE"===o)return i+".pop("+e+")\n";break;case"RANDOM":if(t.definitions_.import_random="import random","GET"===o)return["random.choice("+i+")",n.FUNCTION_CALL];if(i=t.provideFunction_("lists_remove_random_item",`
def ${t.FUNCTION_NAME_PLACEHOLDER_}(myList):
  x = int(random.random() * len(myList))
  return myList.pop(x)
`)+"("+i+")","GET_REMOVE"===o)return[i,n.FUNCTION_CALL];if("REMOVE"===o)return i+"\n"}throw Error("Unhandled combination (lists_getIndex).")},p.lists_getSublist=function(e,t){let r=t.valueToCode(e,"LIST",n.MEMBER)||"[]";var i=e.getFieldValue("WHERE1");let s=e.getFieldValue("WHERE2");switch(i){case"FROM_START":0===(i=t.getAdjustedInt(e,"AT1"))&&(i="");break;case"FROM_END":i=t.getAdjustedInt(e,"AT1",1,!0);break;case"FIRST":i="";break;default:throw Error("Unhandled option (lists_getSublist)")}switch(s){case"FROM_START":e=t.getAdjustedInt(e,"AT2",1);break;case"FROM_END":e=t.getAdjustedInt(e,"AT2",0,!0),o.isNumber$$module$build$src$core$utils$string(String(e))?0===e&&(e=""):(t.definitions_.import_sys="import sys",e+=" or sys.maxsize");break;case"LAST":e="";break;default:throw Error("Unhandled option (lists_getSublist)")}return[r+"["+i+" : "+e+"]",n.MEMBER]},p.lists_indexOf=function(e,t){let o=t.valueToCode(e,"FIND",n.NONE)||"[]",r=t.valueToCode(e,"VALUE",n.NONE)||"''",i=" -1",s="",l=" - 1";return e.workspace.options.oneBasedIndex&&(i=" 0",s=" + 1",l=""),[("FIRST"===e.getFieldValue("END")?t.provideFunction_("first_index",`
def ${t.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):
  try: index = my_list.index(elem)${s}
  except: index =${i}
  return index
`):t.provideFunction_("last_index",`
def ${t.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):
  try: index = len(my_list) - my_list[::-1].index(elem)${l}
  except: index =${i}
  return index
`))+"("+r+", "+o+")",n.FUNCTION_CALL]},p.lists_isEmpty=function(e,t){return["not len("+(t.valueToCode(e,"VALUE",n.NONE)||"[]")+")",n.LOGICAL_NOT]},p.lists_length=function(e,t){return["len("+(t.valueToCode(e,"VALUE",n.NONE)||"[]")+")",n.FUNCTION_CALL]},p.lists_repeat=function(e,t){return["["+(t.valueToCode(e,"ITEM",n.NONE)||"None")+"] * "+(e=t.valueToCode(e,"NUM",n.MULTIPLICATIVE)||"0"),n.MULTIPLICATIVE]},p.lists_reverse=function(e,t){return["list(reversed("+(t.valueToCode(e,"LIST",n.NONE)||"[]")+"))",n.FUNCTION_CALL]},p.lists_setIndex=function(e,t){let r=t.valueToCode(e,"LIST",n.MEMBER)||"[]",i=e.getFieldValue("MODE")||"GET";var s=e.getFieldValue("WHERE")||"FROM_START";let l=t.valueToCode(e,"TO",n.NONE)||"None";switch(s){case"FIRST":if("SET"===i)return r+"[0] = "+l+"\n";if("INSERT"===i)return r+".insert(0, "+l+")\n";break;case"LAST":if("SET"===i)return r+"[-1] = "+l+"\n";if("INSERT"===i)return r+".append("+l+")\n";break;case"FROM_START":if(t=t.getAdjustedInt(e,"AT"),"SET"===i)return r+"["+t+"] = "+l+"\n";if("INSERT"===i)return r+".insert("+t+", "+l+")\n";break;case"FROM_END":if(t=t.getAdjustedInt(e,"AT",1,!0),"SET"===i)return r+"["+t+"] = "+l+"\n";if("INSERT"===i)return r+".insert("+t+", "+l+")\n";break;case"RANDOM":if(t.definitions_.import_random="import random",r.match(/^\w+$/)?e="":(s=(e=t.nameDB_.getDistinctName("tmp_list",o.NameType$$module$build$src$core$names.VARIABLE))+" = "+r+"\n",r=e,e=s),e+=(t=t.nameDB_.getDistinctName("tmp_x",o.NameType$$module$build$src$core$names.VARIABLE))+" = int(random.random() * len("+r+"))\n","SET"===i)return e+(r+"["+t+"] = ")+l+"\n";if("INSERT"===i)return e+(r+".insert("+t+", ")+l+")\n"}throw Error("Unhandled combination (lists_setIndex).")},p.lists_sort=function(e,t){let o=t.valueToCode(e,"LIST",n.NONE)||"[]",r=e.getFieldValue("TYPE");return e="1"===e.getFieldValue("DIRECTION")?"False":"True",[t.provideFunction_("lists_sort",`
def ${t.FUNCTION_NAME_PLACEHOLDER_}(my_list, type, reverse):
  def try_float(s):
    try:
      return float(s)
    except:
      return 0
  key_funcs = {
    "NUMERIC": try_float,
    "TEXT": str,
    "IGNORE_CASE": lambda s: str(s).lower()
  }
  key_func = key_funcs[type]
  list_cpy = list(my_list)
  return sorted(list_cpy, key=key_func, reverse=reverse)
`)+"("+o+', "'+r+'", '+e+")",n.FUNCTION_CALL]},p.lists_split=function(e,t){var o=e.getFieldValue("MODE");if("SPLIT"===o)e=(o=t.valueToCode(e,"INPUT",n.MEMBER)||"''")+".split("+(e=t.valueToCode(e,"DELIM",n.NONE))+")";else if("JOIN"===o)o=t.valueToCode(e,"INPUT",n.NONE)||"[]",e=(t.valueToCode(e,"DELIM",n.MEMBER)||"''")+".join("+o+")";else throw Error("Unknown mode: "+o);return[e,n.FUNCTION_CALL]};var f={};f.controls_if=r,f.controls_ifelse=r,f.logic_boolean=function(e,t){return["TRUE"===e.getFieldValue("BOOL")?"True":"False",n.ATOMIC]},f.logic_compare=function(e,t){let o={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],r=n.RELATIONAL;return[(t.valueToCode(e,"A",r)||"0")+" "+o+" "+(e=t.valueToCode(e,"B",r)||"0"),r]},f.logic_negate=function(e,t){return["not "+(t.valueToCode(e,"BOOL",n.LOGICAL_NOT)||"True"),n.LOGICAL_NOT]},f.logic_null=function(e,t){return["None",n.ATOMIC]},f.logic_operation=function(e,t){let o="AND"===e.getFieldValue("OP")?"and":"or",r="and"===o?n.LOGICAL_AND:n.LOGICAL_OR,i=t.valueToCode(e,"A",r);return e=t.valueToCode(e,"B",r),i||e?(t="and"===o?"True":"False",i||(i=t),e||(e=t)):e=i="False",[i+" "+o+" "+e,r]},f.logic_ternary=function(e,t){let o=t.valueToCode(e,"IF",n.CONDITIONAL)||"False";return[(t.valueToCode(e,"THEN",n.CONDITIONAL)||"None")+" if "+o+" else "+(e=t.valueToCode(e,"ELSE",n.CONDITIONAL)||"None"),n.CONDITIONAL]};var g={};g.controls_flow_statements=function(e,t){let n="";if(t.STATEMENT_PREFIX&&(n+=t.injectId(t.STATEMENT_PREFIX,e)),t.STATEMENT_SUFFIX&&(n+=t.injectId(t.STATEMENT_SUFFIX,e)),t.STATEMENT_PREFIX){let o=e.getSurroundLoop();o&&!o.suppressPrefixSuffix&&(n+=t.injectId(t.STATEMENT_PREFIX,o))}switch(e.getFieldValue("FLOW")){case"BREAK":return n+"break\n";case"CONTINUE":return n+"continue\n"}throw Error("Unknown flow statement.")},g.controls_for=function(e,t){let r=t.getVariableName(e.getFieldValue("VAR"));var i=t.valueToCode(e,"FROM",n.NONE)||"0",s=t.valueToCode(e,"TO",n.NONE)||"0",l=t.valueToCode(e,"BY",n.NONE)||"1";let a=t.statementToCode(e,"DO");a=t.addLoopTrap(a,e)||t.PASS;let u="";e=function(){return t.provideFunction_("upRange",`
def ${t.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):
  while start <= stop:
    yield start
    start += abs(step)
`)};let c=function(){return t.provideFunction_("downRange",`
def ${t.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):
  while start >= stop:
    yield start
    start -= abs(step)
`)};if(o.isNumber$$module$build$src$core$utils$string(i)&&o.isNumber$$module$build$src$core$utils$string(s)&&o.isNumber$$module$build$src$core$utils$string(l))i=Number(i),s=Number(s),l=Math.abs(Number(l)),0==i%1&&0==s%1&&0==l%1?(i<=s?(s++,e=0===i&&1===l?s:i+", "+s,1!==l&&(e+=", "+l)):e=i+", "+--s+", -"+l,e="range("+e+")"):e=(i<s?e():c())+("("+i+", "+s+", "+l)+")";else{let n=function(e,n){return o.isNumber$$module$build$src$core$utils$string(e)?e=String(Number(e)):e.match(/^\w+$/)||(n=t.nameDB_.getDistinctName(r+n,o.NameType$$module$build$src$core$names.VARIABLE),u+=n+" = "+e+"\n",e=n),e};i=n(i,"_start"),s=n(s,"_end"),l=n(l,"_inc"),e="number"==typeof i&&"number"==typeof s?(i<s?e():c())+("("+i+", "+s+", "+l)+")":"("+i+" <= "+s+") and "+e()+"("+i+", "+s+", "+l+") or "+c()+"("+i+", "+s+", "+l+")"}return u+="for "+r+" in "+e+":\n"+a},g.controls_forEach=function(e,t){let o=t.getVariableName(e.getFieldValue("VAR")),r=t.valueToCode(e,"LIST",n.RELATIONAL)||"[]",i=t.statementToCode(e,"DO");return"for "+o+" in "+r+":\n"+(i=t.addLoopTrap(i,e)||t.PASS)},g.controls_repeat=i,g.controls_repeat_ext=i,g.controls_whileUntil=function(e,t){let o="UNTIL"===e.getFieldValue("MODE"),r=t.valueToCode(e,"BOOL",o?n.LOGICAL_NOT:n.NONE)||"False",i=t.statementToCode(e,"DO");return i=t.addLoopTrap(i,e)||t.PASS,o&&(r="not "+r),"while "+r+":\n"+i};var m={};m.math_arithmetic=function(e,t){var o={ADD:[" + ",n.ADDITIVE],MINUS:[" - ",n.ADDITIVE],MULTIPLY:[" * ",n.MULTIPLICATIVE],DIVIDE:[" / ",n.MULTIPLICATIVE],POWER:[" ** ",n.EXPONENTIATION]}[e.getFieldValue("OP")];let r=o[0];return o=o[1],[(t.valueToCode(e,"A",o)||"0")+r+(e=t.valueToCode(e,"B",o)||"0"),o]},m.math_atan2=function(e,t){t.definitions_.import_math="import math";let o=t.valueToCode(e,"X",n.NONE)||"0";return["math.atan2("+(t.valueToCode(e,"Y",n.NONE)||"0")+", "+o+") / math.pi * 180",n.MULTIPLICATIVE]},m.math_change=function(e,t){t.definitions_.from_numbers_import_Number="from numbers import Number";let o=t.valueToCode(e,"DELTA",n.ADDITIVE)||"0";return(e=t.getVariableName(e.getFieldValue("VAR")))+" = ("+e+" if isinstance("+e+", Number) else 0) + "+o+"\n"},m.math_constant=function(e,t){let o={PI:["math.pi",n.MEMBER],E:["math.e",n.MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",n.MULTIPLICATIVE],SQRT2:["math.sqrt(2)",n.MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",n.MEMBER],INFINITY:["float('inf')",n.ATOMIC]};return"INFINITY"!==(e=e.getFieldValue("CONSTANT"))&&(t.definitions_.import_math="import math"),o[e]},m.math_constrain=function(e,t){let o=t.valueToCode(e,"VALUE",n.NONE)||"0";return["min(max("+o+", "+(t.valueToCode(e,"LOW",n.NONE)||"0")+"), "+(e=t.valueToCode(e,"HIGH",n.NONE)||"float('inf')")+")",n.FUNCTION_CALL]},m.math_modulo=function(e,t){return[(t.valueToCode(e,"DIVIDEND",n.MULTIPLICATIVE)||"0")+" % "+(e=t.valueToCode(e,"DIVISOR",n.MULTIPLICATIVE)||"0"),n.MULTIPLICATIVE]},m.math_number=function(e,t){return 1/0===(e=Number(e.getFieldValue("NUM")))?['float("inf")',n.FUNCTION_CALL]:-1/0===e?['-float("inf")',n.UNARY_SIGN]:[String(e),0>e?n.UNARY_SIGN:n.ATOMIC]},m.math_number_property=function(e,t){var o={EVEN:[" % 2 == 0",n.MULTIPLICATIVE,n.RELATIONAL],ODD:[" % 2 == 1",n.MULTIPLICATIVE,n.RELATIONAL],WHOLE:[" % 1 == 0",n.MULTIPLICATIVE,n.RELATIONAL],POSITIVE:[" > 0",n.RELATIONAL,n.RELATIONAL],NEGATIVE:[" < 0",n.RELATIONAL,n.RELATIONAL],DIVISIBLE_BY:[null,n.MULTIPLICATIVE,n.RELATIONAL],PRIME:[null,n.NONE,n.FUNCTION_CALL]};let r=e.getFieldValue("PROPERTY"),[i,s,l]=o[r];if(o=t.valueToCode(e,"NUMBER_TO_CHECK",s)||"0","PRIME"===r)t.definitions_.import_math="import math",t.definitions_.from_numbers_import_Number="from numbers import Number",e=t.provideFunction_("math_isPrime",`
def ${t.FUNCTION_NAME_PLACEHOLDER_}(n):
  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  # If n is not a number but a string, try parsing it.
  if not isinstance(n, Number):
    try:
      n = float(n)
    except:
      return False
  if n == 2 or n == 3:
    return True
  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.
  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:
    return False
  # Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for x in range(6, int(math.sqrt(n)) + 2, 6):
    if n % (x - 1) == 0 or n % (x + 1) == 0:
      return False
  return True
`)+"("+o+")";else if("DIVISIBLE_BY"===r){if("0"===(e=t.valueToCode(e,"DIVISOR",n.MULTIPLICATIVE)||"0"))return["False",n.ATOMIC];e=o+" % "+e+" == 0"}else e=o+i;return[e,l]},m.math_on_list=function(e,t){let o=e.getFieldValue("OP");switch(e=t.valueToCode(e,"LIST",n.NONE)||"[]",o){case"SUM":t="sum("+e+")";break;case"MIN":t="min("+e+")";break;case"MAX":t="max("+e+")";break;case"AVERAGE":t.definitions_.from_numbers_import_Number="from numbers import Number",t=t.provideFunction_("math_mean",`
def ${t.FUNCTION_NAME_PLACEHOLDER_}(myList):
  localList = [e for e in myList if isinstance(e, Number)]
  if not localList: return
  return float(sum(localList)) / len(localList)
`)+"("+e+")";break;case"MEDIAN":t.definitions_.from_numbers_import_Number="from numbers import Number",t=t.provideFunction_("math_median",`
def ${t.FUNCTION_NAME_PLACEHOLDER_}(myList):
  localList = sorted([e for e in myList if isinstance(e, Number)])
  if not localList: return
  if len(localList) % 2 == 0:
    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0
  else:
    return localList[(len(localList) - 1) // 2]
`)+"("+e+")";break;case"MODE":t=t.provideFunction_("math_modes",`
def ${t.FUNCTION_NAME_PLACEHOLDER_}(some_list):
  modes = []
  # Using a lists of [item, count] to keep count rather than dict
  # to avoid "unhashable" errors when the counted item is itself a list or dict.
  counts = []
  maxCount = 1
  for item in some_list:
    found = False
    for count in counts:
      if count[0] == item:
        count[1] += 1
        maxCount = max(maxCount, count[1])
        found = True
    if not found:
      counts.append([item, 1])
  for counted_item, item_count in counts:
    if item_count == maxCount:
      modes.append(counted_item)
  return modes
`)+"("+e+")";break;case"STD_DEV":t.definitions_.import_math="import math",t=t.provideFunction_("math_standard_deviation",`
def ${t.FUNCTION_NAME_PLACEHOLDER_}(numbers):
  n = len(numbers)
  if n == 0: return
  mean = float(sum(numbers)) / n
  variance = sum((x - mean) ** 2 for x in numbers) / n
  return math.sqrt(variance)
`)+"("+e+")";break;case"RANDOM":t.definitions_.import_random="import random",t="random.choice("+e+")";break;default:throw Error("Unknown operator: "+o)}return[t,n.FUNCTION_CALL]},m.math_random_float=function(e,t){return t.definitions_.import_random="import random",["random.random()",n.FUNCTION_CALL]},m.math_random_int=function(e,t){return t.definitions_.import_random="import random",["random.randint("+(t.valueToCode(e,"FROM",n.NONE)||"0")+", "+(e=t.valueToCode(e,"TO",n.NONE)||"0")+")",n.FUNCTION_CALL]},m.math_round=s,m.math_single=s,m.math_trig=s;var _={};_.procedures_callnoreturn=function(e,t){return t.forBlock.procedures_callreturn(e,t)[0]+"\n"},_.procedures_callreturn=function(e,t){let o=t.getProcedureName(e.getFieldValue("NAME")),r=[],i=e.getVars();for(let o=0;o<i.length;o++)r[o]=t.valueToCode(e,"ARG"+o,n.NONE)||"None";return[o+"("+r.join(", ")+")",n.FUNCTION_CALL]},_.procedures_defnoreturn=l,_.procedures_defreturn=l,_.procedures_ifreturn=function(e,t){let o="if "+(t.valueToCode(e,"CONDITION",n.NONE)||"False")+":\n";return t.STATEMENT_SUFFIX&&(o+=t.prefixLines(t.injectId(t.STATEMENT_SUFFIX,e),t.INDENT)),e.hasReturnValue_?(e=t.valueToCode(e,"VALUE",n.NONE)||"None",o+=t.INDENT+"return "+e+"\n"):o+=t.INDENT+"return\n",o};var b=/^\s*'([^']|\\')*'\s*$/,y=function(e){return b.test(e)?[e,n.ATOMIC]:["str("+e+")",n.FUNCTION_CALL]},T={};T.text=function(e,t){return[t.quote_(e.getFieldValue("TEXT")),n.ATOMIC]},T.text_append=function(e,t){let o=t.getVariableName(e.getFieldValue("VAR"));return o+" = str("+o+") + "+y(e=t.valueToCode(e,"TEXT",n.NONE)||"''")[0]+"\n"},T.text_changeCase=function(e,t){let o={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[e.getFieldValue("CASE")];return[(t.valueToCode(e,"TEXT",n.MEMBER)||"''")+o,n.FUNCTION_CALL]},T.text_charAt=function(e,t){let o=e.getFieldValue("WHERE")||"FROM_START",r=t.valueToCode(e,"VALUE","RANDOM"===o?n.NONE:n.MEMBER)||"''";switch(o){case"FIRST":return[r+"[0]",n.MEMBER];case"LAST":return[r+"[-1]",n.MEMBER];case"FROM_START":return[r+"["+(e=t.getAdjustedInt(e,"AT"))+"]",n.MEMBER];case"FROM_END":return[r+"["+(e=t.getAdjustedInt(e,"AT",1,!0))+"]",n.MEMBER];case"RANDOM":return t.definitions_.import_random="import random",[t.provideFunction_("text_random_letter",`
def ${t.FUNCTION_NAME_PLACEHOLDER_}(text):
  x = int(random.random() * len(text))
  return text[x]
`)+"("+r+")",n.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},T.text_count=function(e,t){return[(t.valueToCode(e,"TEXT",n.MEMBER)||"''")+".count("+(e=t.valueToCode(e,"SUB",n.NONE)||"''")+")",n.FUNCTION_CALL]},T.text_getSubstring=function(e,t){var r=e.getFieldValue("WHERE1");let i=e.getFieldValue("WHERE2"),s=t.valueToCode(e,"STRING",n.MEMBER)||"''";switch(r){case"FROM_START":0===(r=t.getAdjustedInt(e,"AT1"))&&(r="");break;case"FROM_END":r=t.getAdjustedInt(e,"AT1",1,!0);break;case"FIRST":r="";break;default:throw Error("Unhandled option (text_getSubstring)")}switch(i){case"FROM_START":e=t.getAdjustedInt(e,"AT2",1);break;case"FROM_END":e=t.getAdjustedInt(e,"AT2",0,!0),o.isNumber$$module$build$src$core$utils$string(String(e))?0===e&&(e=""):(t.definitions_.import_sys="import sys",e+=" or sys.maxsize");break;case"LAST":e="";break;default:throw Error("Unhandled option (text_getSubstring)")}return[s+"["+r+" : "+e+"]",n.MEMBER]},T.text_indexOf=function(e,t){let o="FIRST"===e.getFieldValue("END")?"find":"rfind",r=t.valueToCode(e,"FIND",n.NONE)||"''";return t=(t.valueToCode(e,"VALUE",n.MEMBER)||"''")+"."+o+"("+r+")",e.workspace.options.oneBasedIndex?[t+" + 1",n.ADDITIVE]:[t,n.FUNCTION_CALL]},T.text_isEmpty=function(e,t){return["not len("+(t.valueToCode(e,"VALUE",n.NONE)||"''")+")",n.LOGICAL_NOT]},T.text_join=function(e,t){switch(e.itemCount_){case 0:return["''",n.ATOMIC];case 1:return y(e=t.valueToCode(e,"ADD0",n.NONE)||"''");case 2:var r=t.valueToCode(e,"ADD0",n.NONE)||"''";return e=t.valueToCode(e,"ADD1",n.NONE)||"''",[y(r)[0]+" + "+y(e)[0],n.ADDITIVE];default:r=[];for(let o=0;o<e.itemCount_;o++)r[o]=t.valueToCode(e,"ADD"+o,n.NONE)||"''";return["''.join([str("+(e=t.nameDB_.getDistinctName("x",o.NameType$$module$build$src$core$names.VARIABLE))+") for "+e+" in ["+r.join(", ")+"]])",n.FUNCTION_CALL]}},T.text_length=function(e,t){return["len("+(t.valueToCode(e,"VALUE",n.NONE)||"''")+")",n.FUNCTION_CALL]},T.text_print=function(e,t){return"print("+(t.valueToCode(e,"TEXT",n.NONE)||"''")+")\n"},T.text_prompt=a,T.text_prompt_ext=a,T.text_replace=function(e,t){let o=t.valueToCode(e,"TEXT",n.MEMBER)||"''";return[o+".replace("+(t.valueToCode(e,"FROM",n.NONE)||"''")+", "+(e=t.valueToCode(e,"TO",n.NONE)||"''")+")",n.MEMBER]},T.text_reverse=function(e,t){return[(t.valueToCode(e,"TEXT",n.MEMBER)||"''")+"[::-1]",n.MEMBER]},T.text_trim=function(e,t){let o={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[e.getFieldValue("MODE")];return[(t.valueToCode(e,"TEXT",n.MEMBER)||"''")+o,n.FUNCTION_CALL]};var E={};E.variables_get=u,E.variables_set=c;var v={};v.variables_get_dynamic=u,v.variables_set_dynamic=c;var C=new d;C.addReservedWords("math,random,Number");var I=Object.assign({},p,f,g,m,_,T,E,v);for(let e in I)C.forBlock[e]=I[e];var S={};return S.Order=n,S.PythonGenerator=d,S.pythonGenerator=C,S.__namespace__=o,S},"function"==typeof define&&define.amd?define(["./blockly_compressed.js"],o):e.exports=o(c("8GNui"))}),d("lgi8W",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa")),s=n(c("exr4N")),l=c("9uMYx"),a=n(c("7N7G2")),u=c("8IlyL"),d=n(c("hbVPp")),h=n(c("aiYwQ")),p=n(c("jSWP1")),f=c("eW4co"),g=c("iM5HV");let m=e=>{let{color:t,position:n,classes:o}=e,r={root:["root",`color${(0,d.default)(t)}`,`position${(0,d.default)(n)}`]};return(0,s.default)(r,f.getAppBarUtilityClass,o)},_=(e,t)=>e?`${e?.replace(")","")}, ${t})`:t,b=(0,l.styled)(p.default,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[`position${(0,d.default)(n.position)}`],t[`color${(0,d.default)(n.color)}`]]}})((0,a.default)(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter((0,h.default)(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:e=>!0===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>!1===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?_(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?_(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),y=r.forwardRef(function(e,t){let n=(0,u.useDefaultProps)({props:e,name:"MuiAppBar"}),{className:o,color:r="primary",enableColorOnDark:s=!1,position:l="fixed",...a}=n,c={...n,color:r,position:l,enableColorOnDark:s},d=m(c);return(0,g.jsx)(b,{square:!0,component:"header",ownerState:c,elevation:4,className:(0,i.default)(d.root,o,"fixed"===l&&"mui-fixed"),ref:t,...a})});e.exports.default=y}),d("lHCw5",function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}),d("2zxFA",function(e,t){var n=c("agEcb").default;function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var i={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&({}).hasOwnProperty.call(e,l)){var a=s?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(i,l,a):i[l]=e[l]}return i.default=e,r&&r.set(e,i),i},e.exports.__esModule=!0,e.exports.default=e.exports}),d("agEcb",function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),d("iCIOI",function(e,t){e.exports=c("exEpv")()}),d("exEpv",function(e,t){var n=c("cw87W");function o(){}function r(){}r.resetWarningCache=o,e.exports=function(){function e(e,t,o,r,i,s){if(s!==n){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:o};return i.PropTypes=i,i}}),d("cw87W",function(e,t){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}),d("eUZaa",function(t,n){function o(){for(var e,t,n=0,o="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=function e(t){var n,o,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(n=0;n<i;n++)t[n]&&(o=e(t[n]))&&(r&&(r+=" "),r+=o)}else for(o in t)t[o]&&(r&&(r+=" "),r+=o);return r}(e))&&(o&&(o+=" "),o+=t);return o}s(t.exports),e(t.exports,"clsx",()=>o),e(t.exports,"default",()=>r);var r=o}),d("exr4N",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("iCM4s"))}),d("iCM4s",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){let o={};for(let r in e){let i=e[r],s="",l=!0;for(let e=0;e<i.length;e+=1){let o=i[e];o&&(s+=(!0===l?"":" ")+t(o),l=!1,n&&n[o]&&(s+=" "+n[o]))}o[r]=s}return o}}),d("9uMYx",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"css",{enumerable:!0,get:function(){return a.css}}),e.exports.globalCss=function(e){return function(t){return(0,l.jsx)(s.default,{styles:"function"==typeof e?n=>e({theme:n,...t}):e})}},e.exports.internal_createExtendSxProp=function(){return r.extendSxProp},Object.defineProperty(e.exports,"keyframes",{enumerable:!0,get:function(){return a.keyframes}}),Object.defineProperty(e.exports,"styled",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e.exports,"useTheme",{enumerable:!0,get:function(){return i.default}}),o(c("fYo6y"));var r=c("7eSM9"),i=n(c("bX2Q9")),s=n(c("bBtvw")),l=c("iM5HV"),a=c("d9QWq"),u=n(c("35JIz"))}),d("7eSM9",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e.exports,"extendSxProp",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e.exports,"unstable_createStyleFunctionSx",{enumerable:!0,get:function(){return r.unstable_createStyleFunctionSx}}),Object.defineProperty(e.exports,"unstable_defaultSxConfig",{enumerable:!0,get:function(){return s.default}});var r=o(c("2jffJ")),i=n(c("ff2Ec")),s=n(c("7bsBj"))}),d("2jffJ",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.unstable_createStyleFunctionSx=u;var o=n(c("2C84E")),r=n(c("9TPff")),i=c("7sUXG"),s=c("9cFLZ"),l=c("5P7Z1"),a=n(c("7bsBj"));function u(){function e(e,t,n,r){let l={[e]:t,theme:n},a=r[e];if(!a)return{[e]:t};let{cssProperty:u=e,themeKey:c,transform:d,style:h}=a;if(null==t)return null;if("typography"===c&&"inherit"===t)return{[e]:t};let p=(0,i.getPath)(n,c)||{};return h?h(l):(0,s.handleBreakpoints)(l,t,t=>{let n=(0,i.getStyleValue)(p,d,t);return(t===n&&"string"==typeof t&&(n=(0,i.getStyleValue)(p,d,`${e}${"default"===t?"":(0,o.default)(t)}`,t)),!1===u)?n:{[u]:n}})}return function t(n){let{sx:o,theme:i={}}=n||{};if(!o)return null;let u=i.unstable_sxConfig??a.default;function c(n){let o=n;if("function"==typeof n)o=n(i);else if("object"!=typeof n)return n;if(!o)return null;let a=(0,s.createEmptyBreakpointObject)(i.breakpoints),c=Object.keys(a),d=a;return Object.keys(o).forEach(n=>{var l;let a=(l=o[n],"function"==typeof l?l(i):l);if(null!=a)if("object"==typeof a)if(u[n])d=(0,r.default)(d,e(n,a,i,u));else{let e=(0,s.handleBreakpoints)({theme:i},a,e=>({[n]:e}));!function(...e){let t=new Set(e.reduce((e,t)=>e.concat(Object.keys(t)),[]));return e.every(e=>t.size===Object.keys(e).length)}(e,a)?d=(0,r.default)(d,e):d[n]=t({sx:a,theme:i})}else d=(0,r.default)(d,e(n,a,i,u))}),(0,l.sortContainerQueries)(i,(0,s.removeUnusedBreakpoints)(c,d))}return Array.isArray(o)?o.map(c):c(o)}}let d=u();d.filterProps=["sx"],e.exports.default=d}),d("2C84E",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("aVZ2T"))}),d("aVZ2T",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("string"!=typeof e)throw Error((0,o.default)(7));return e.charAt(0).toUpperCase()+e.slice(1)};var o=n(c("7N3TZ"))}),d("7N3TZ",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("2l8dh"))}),d("2l8dh",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,...t){let n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(e=>n.searchParams.append("args[]",e)),`Minified MUI error #${e}; visit ${n} for the full message.`}}),d("9TPff",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("5gYZw"))}),d("5gYZw",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("imMZl"));e.exports.default=function(e,t){return t?(0,o.default)(e,t,{clone:!1}):e}}),d("imMZl",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var o={};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return r.default}});var r=n(c("gWkkD"));Object.keys(r).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(o,t))&&(t in e.exports&&e.exports[t]===r[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return r[t]}}))})}),d("gWkkD",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function e(t,n,s={clone:!0}){let l=s.clone?{...t}:t;return i(t)&&i(n)&&Object.keys(n).forEach(a=>{o.isValidElement(n[a])||(0,r.isValidElementType)(n[a])?l[a]=n[a]:i(n[a])&&Object.prototype.hasOwnProperty.call(t,a)&&i(t[a])?l[a]=e(t[a],n[a],s):s.clone?l[a]=i(n[a])?function e(t){if(o.isValidElement(t)||(0,r.isValidElementType)(t)||!i(t))return t;let n={};return Object.keys(t).forEach(o=>{n[o]=e(t[o])}),n}(n[a]):n[a]:l[a]=n[a]}),l},e.exports.isPlainObject=i;var o=n(c("fYo6y")),r=c("8iGOn");function i(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}}),d("8iGOn",function(e,t){e.exports=c("gxUX4")}),d("gxUX4",function(t,n){e(t.exports,"ContextConsumer",()=>o,e=>o=e),e(t.exports,"ContextProvider",()=>r,e=>r=e),e(t.exports,"Element",()=>i,e=>i=e),e(t.exports,"ForwardRef",()=>s,e=>s=e),e(t.exports,"Fragment",()=>l,e=>l=e),e(t.exports,"Lazy",()=>a,e=>a=e),e(t.exports,"Memo",()=>u,e=>u=e),e(t.exports,"Portal",()=>c,e=>c=e),e(t.exports,"Profiler",()=>d,e=>d=e),e(t.exports,"StrictMode",()=>h,e=>h=e),e(t.exports,"Suspense",()=>p,e=>p=e),e(t.exports,"SuspenseList",()=>f,e=>f=e),e(t.exports,"isContextConsumer",()=>g,e=>g=e),e(t.exports,"isContextProvider",()=>m,e=>m=e),e(t.exports,"isElement",()=>_,e=>_=e),e(t.exports,"isForwardRef",()=>b,e=>b=e),e(t.exports,"isFragment",()=>y,e=>y=e),e(t.exports,"isLazy",()=>T,e=>T=e),e(t.exports,"isMemo",()=>E,e=>E=e),e(t.exports,"isPortal",()=>v,e=>v=e),e(t.exports,"isProfiler",()=>C,e=>C=e),e(t.exports,"isStrictMode",()=>I,e=>I=e),e(t.exports,"isSuspense",()=>S,e=>S=e),e(t.exports,"isSuspenseList",()=>w,e=>w=e),e(t.exports,"isValidElementType",()=>k,e=>k=e),e(t.exports,"typeOf",()=>O,e=>O=e);var o,r,i,s,l,a,u,c,d,h,p,f,g,m,_,b,y,T,E,v,C,I,S,w,k,O,R=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler");Symbol.for("react.provider");var M=Symbol.for("react.consumer"),L=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),H=Symbol.for("react.view_transition"),V=Symbol.for("react.client.reference");function G(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case R:switch(e=e.type){case $:case N:case A:case P:case B:case H:return e;default:switch(e=e&&e.$$typeof){case L:case D:case U:case F:case M:return e;default:return t}}case x:return t}}}o=M,r=L,i=R,s=D,l=$,a=U,u=F,c=x,d=N,h=A,p=P,f=B,g=function(e){return G(e)===M},m=function(e){return G(e)===L},_=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===R},b=function(e){return G(e)===D},y=function(e){return G(e)===$},T=function(e){return G(e)===U},E=function(e){return G(e)===F},v=function(e){return G(e)===x},C=function(e){return G(e)===N},I=function(e){return G(e)===A},S=function(e){return G(e)===P},w=function(e){return G(e)===B},k=function(e){return"string"==typeof e||"function"==typeof e||e===$||e===N||e===A||e===P||e===B||"object"==typeof e&&null!==e&&(e.$$typeof===U||e.$$typeof===F||e.$$typeof===L||e.$$typeof===M||e.$$typeof===D||e.$$typeof===V||void 0!==e.getModuleId)||!1},O=G}),d("7sUXG",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var o={};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return r.default}});var r=n(c("ktFLu"));Object.keys(r).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(o,t))&&(t in e.exports&&e.exports[t]===r[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return r[t]}}))})}),d("ktFLu",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getPath=i,e.exports.getStyleValue=s;var o=n(c("2C84E"));n(c("6AGa2"));var r=c("9cFLZ");function i(e,t,n=!0){if(!t||"string"!=typeof t)return null;if(e&&e.vars&&n){let n=`vars.${t}`.split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=n)return n}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function s(e,t,n,o=n){let r;return r="function"==typeof e?e(n):Array.isArray(e)?e[n]||o:i(e,n)||o,t&&(r=t(r,o,e)),r}e.exports.default=function(e){let{prop:t,cssProperty:n=e.prop,themeKey:l,transform:a}=e,u=e=>{if(null==e[t])return null;let u=e[t],c=i(e.theme,l)||{};return(0,r.handleBreakpoints)(e,u,e=>{let r=s(c,a,e);return(e===r&&"string"==typeof e&&(r=s(c,a,`${t}${"default"===e?"":(0,o.default)(e)}`,e)),!1===n)?r:{[n]:r}})};return u.propTypes={},u.filterProps=[t],u}}),d("6AGa2",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("eyjQt"))}),d("eyjQt",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,n(c("iCIOI")),e.exports.default={}}),d("9cFLZ",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var o={};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return r.default}});var r=n(c("dRUfF"));Object.keys(r).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(o,t))&&(t in e.exports&&e.exports[t]===r[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return r[t]}}))})}),d("dRUfF",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.computeBreakpointsBase=h,e.exports.createEmptyBreakpointObject=u,e.exports.default=void 0,e.exports.handleBreakpoints=function(e,t,n){let o=e.theme||{};if(Array.isArray(t)){let e=o.breakpoints||l;return t.reduce((o,r,i)=>(o[e.up(e.keys[i])]=n(t[i]),o),{})}if("object"==typeof t){let e=o.breakpoints||l;return Object.keys(t).reduce((r,l)=>{if((0,i.isCqShorthand)(e.keys,l)){let e=(0,i.getContainerQuery)(o.containerQueries?o:a,l);e&&(r[e]=n(t[l],l))}else Object.keys(e.values||s).includes(l)?r[e.up(l)]=n(t[l],l):r[l]=t[l];return r},{})}return n(t)},e.exports.mergeBreakpointsInOrder=function(e,...t){let n=u(e),r=[n,...t].reduce((e,t)=>(0,o.default)(e,t),{});return d(Object.keys(n),r)},e.exports.removeUnusedBreakpoints=d,e.exports.resolveBreakpointValues=function({values:e,breakpoints:t,base:n}){let o,r=Object.keys(n||h(e,t));return 0===r.length?e:r.reduce((t,n,r)=>(Array.isArray(e)?(t[n]=null!=e[r]?e[r]:e[o],o=r):"object"==typeof e?(t[n]=null!=e[n]?e[n]:e[o],o=n):t[n]=e,t),{})},e.exports.values=void 0,n(c("iCIOI"));var o=n(c("imMZl")),r=n(c("9TPff")),i=c("5P7Z1");let s=e.exports.values={xs:0,sm:600,md:900,lg:1200,xl:1536},l={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${s[e]}px)`},a={containerQueries:e=>({up:t=>{let n="number"==typeof t?t:s[t]||t;return"number"==typeof n&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function u(e={}){return e.keys?.reduce((t,n)=>(t[e.up(n)]={},t),{})||{}}function d(e,t){return e.reduce((e,t)=>{let n=e[t];return n&&0!==Object.keys(n).length||delete e[t],e},t)}function h(e,t){if("object"!=typeof e)return{};let n={},o=Object.keys(t);return Array.isArray(e)?o.forEach((t,o)=>{o<e.length&&(n[t]=!0)}):o.forEach(t=>{null!=e[t]&&(n[t]=!0)}),n}e.exports.default=function(e){let t=t=>{let n=t.theme||{},o=e(t),i=n.breakpoints||l,s=i.keys.reduce((o,r)=>(t[r]&&((o=o||{})[i.up(r)]=e({theme:n,...t[r]})),o),null);return(0,r.default)(o,s)};return t.propTypes={},t.filterProps=["xs","sm","md","lg","xl",...e.filterProps],t}}),d("5P7Z1",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e.exports,"getContainerQuery",{enumerable:!0,get:function(){return o.getContainerQuery}}),Object.defineProperty(e.exports,"isCqShorthand",{enumerable:!0,get:function(){return o.isCqShorthand}}),Object.defineProperty(e.exports,"sortContainerQueries",{enumerable:!0,get:function(){return o.sortContainerQueries}});var o=n(c("3PoGS"))}),d("3PoGS",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){let t=(e,t)=>e.replace("@media",t?`@container ${t}`:"@container");function n(n,o){n.up=(...n)=>t(e.breakpoints.up(...n),o),n.down=(...n)=>t(e.breakpoints.down(...n),o),n.between=(...n)=>t(e.breakpoints.between(...n),o),n.only=(...n)=>t(e.breakpoints.only(...n),o),n.not=(...n)=>{let r=t(e.breakpoints.not(...n),o);return r.includes("not all and")?r.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):r}}let o={},r=e=>(n(o,e),o);return n(r),{...e,containerQueries:r}},e.exports.getContainerQuery=function(e,t){let n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;let[,o,r]=n,i=Number.isNaN(+o)?o||0:+o;return e.containerQueries(r).up(i)},e.exports.isCqShorthand=function(e,t){return"@"===t||t.startsWith("@")&&(e.some(e=>t.startsWith(`@${e}`))||!!t.match(/^@\d/))},e.exports.sortContainerQueries=function(e,t){if(!e.containerQueries)return t;let n=Object.keys(t).filter(e=>e.startsWith("@container")).sort((e,t)=>{let n=/min-width:\s*([0-9.]+)/;return+(e.match(n)?.[1]||0)-+(t.match(n)?.[1]||0)});return n.length?n.reduce((e,n)=>{let o=t[n];return delete e[n],e[n]=o,e},{...t}):t},n(c("7N3TZ"))}),d("7bsBj",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n=c("53z5O"),o=c("lRdgZ"),r=c("9qKRL"),i=c("1jXrp"),s=c("3vIvA");let l={border:{themeKey:"borders",transform:o.borderTransform},borderTop:{themeKey:"borders",transform:o.borderTransform},borderRight:{themeKey:"borders",transform:o.borderTransform},borderBottom:{themeKey:"borders",transform:o.borderTransform},borderLeft:{themeKey:"borders",transform:o.borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:o.borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:o.borderRadius},color:{themeKey:"palette",transform:i.paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:i.paletteTransform},backgroundColor:{themeKey:"palette",transform:i.paletteTransform},p:{style:n.padding},pt:{style:n.padding},pr:{style:n.padding},pb:{style:n.padding},pl:{style:n.padding},px:{style:n.padding},py:{style:n.padding},padding:{style:n.padding},paddingTop:{style:n.padding},paddingRight:{style:n.padding},paddingBottom:{style:n.padding},paddingLeft:{style:n.padding},paddingX:{style:n.padding},paddingY:{style:n.padding},paddingInline:{style:n.padding},paddingInlineStart:{style:n.padding},paddingInlineEnd:{style:n.padding},paddingBlock:{style:n.padding},paddingBlockStart:{style:n.padding},paddingBlockEnd:{style:n.padding},m:{style:n.margin},mt:{style:n.margin},mr:{style:n.margin},mb:{style:n.margin},ml:{style:n.margin},mx:{style:n.margin},my:{style:n.margin},margin:{style:n.margin},marginTop:{style:n.margin},marginRight:{style:n.margin},marginBottom:{style:n.margin},marginLeft:{style:n.margin},marginX:{style:n.margin},marginY:{style:n.margin},marginInline:{style:n.margin},marginInlineStart:{style:n.margin},marginInlineEnd:{style:n.margin},marginBlock:{style:n.margin},marginBlockStart:{style:n.margin},marginBlockEnd:{style:n.margin},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:r.gap},rowGap:{style:r.rowGap},columnGap:{style:r.columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:s.sizingTransform},maxWidth:{style:s.maxWidth},minWidth:{transform:s.sizingTransform},height:{transform:s.sizingTransform},maxHeight:{transform:s.sizingTransform},minHeight:{transform:s.sizingTransform},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};e.exports.default=l}),d("53z5O",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var o={};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return r.default}});var r=n(c("8xlRO"));Object.keys(r).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(o,t))&&(t in e.exports&&e.exports[t]===r[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return r[t]}}))})}),d("8xlRO",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.createUnarySpacing=m,e.exports.createUnaryUnit=g,e.exports.default=void 0,e.exports.getStyleFromPropValue=b,e.exports.getValue=_,e.exports.margin=T,e.exports.marginKeys=void 0,e.exports.padding=E,e.exports.paddingKeys=void 0,n(c("6AGa2"));var o=c("9cFLZ"),r=c("7sUXG"),i=n(c("9TPff")),s=n(c("dKxSm"));let l={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},d=(0,s.default)(e=>{if(e.length>2)if(!u[e])return[e];else e=u[e];let[t,n]=e.split(""),o=l[t],r=a[n]||"";return Array.isArray(r)?r.map(e=>o+e):[o+r]}),h=e.exports.marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],p=e.exports.paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],f=[...h,...p];function g(e,t,n,o){let i=(0,r.getPath)(e,t,!0)??n;return"number"==typeof i||"string"==typeof i?e=>"string"==typeof e?e:"string"==typeof i?i.startsWith("var(")&&0===e?0:i.startsWith("var(")&&1===e?i:`calc(${e} * ${i})`:i*e:Array.isArray(i)?e=>{if("string"==typeof e)return e;let t=i[Math.abs(e)];return e>=0?t:"number"==typeof t?-t:"string"==typeof t&&t.startsWith("var(")?`calc(-1 * ${t})`:`-${t}`}:"function"==typeof i?i:()=>void 0}function m(e){return g(e,"spacing",8,"spacing")}function _(e,t){return"string"==typeof t||null==t?t:e(t)}function b(e,t){return n=>e.reduce((e,o)=>(e[o]=_(t,n),e),{})}function y(e,t){let n=m(e.theme);return Object.keys(e).map(r=>(function(e,t,n,r){if(!t.includes(n))return null;let i=b(d(n),r),s=e[n];return(0,o.handleBreakpoints)(e,s,i)})(e,t,r,n)).reduce(i.default,{})}function T(e){return y(e,h)}function E(e){return y(e,p)}function v(e){return y(e,f)}T.propTypes={},T.filterProps=h,E.propTypes={},E.filterProps=p,v.propTypes={},v.filterProps=f,e.exports.default=v}),d("dKxSm",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("9cGsX"))}),d("9cGsX",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){let t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}}),d("lRdgZ",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var o={};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return r.default}});var r=n(c("cPAT5"));Object.keys(r).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(o,t))&&(t in e.exports&&e.exports[t]===r[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return r[t]}}))})}),d("cPAT5",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.borderTopColor=e.exports.borderTop=e.exports.borderRightColor=e.exports.borderRight=e.exports.borderRadius=e.exports.borderLeftColor=e.exports.borderLeft=e.exports.borderColor=e.exports.borderBottomColor=e.exports.borderBottom=e.exports.border=void 0,e.exports.borderTransform=l,e.exports.outlineColor=e.exports.outline=e.exports.default=void 0,n(c("6AGa2"));var o=n(c("7sUXG")),r=n(c("eO48i")),i=c("53z5O"),s=c("9cFLZ");function l(e){return"number"!=typeof e?e:`${e}px solid`}function a(e,t){return(0,o.default)({prop:e,themeKey:"borders",transform:t})}let u=e.exports.border=a("border",l),d=e.exports.borderTop=a("borderTop",l),h=e.exports.borderRight=a("borderRight",l),p=e.exports.borderBottom=a("borderBottom",l),f=e.exports.borderLeft=a("borderLeft",l),g=e.exports.borderColor=a("borderColor"),m=e.exports.borderTopColor=a("borderTopColor"),_=e.exports.borderRightColor=a("borderRightColor"),b=e.exports.borderBottomColor=a("borderBottomColor"),y=e.exports.borderLeftColor=a("borderLeftColor"),T=e.exports.outline=a("outline",l),E=e.exports.outlineColor=a("outlineColor"),v=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){let t=(0,i.createUnaryUnit)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,s.handleBreakpoints)(e,e.borderRadius,e=>({borderRadius:(0,i.getValue)(t,e)}))}return null};e.exports.borderRadius=v,v.propTypes={},v.filterProps=["borderRadius"];let C=(0,r.default)(u,d,h,p,f,g,m,_,b,y,v,T,E);e.exports.default=C}),d("eO48i",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("9c7eU"))}),d("9c7eU",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("9TPff"));e.exports.default=function(...e){let t=e.reduce((e,t)=>(t.filterProps.forEach(n=>{e[n]=t}),e),{}),n=e=>Object.keys(e).reduce((n,r)=>t[r]?(0,o.default)(n,t[r](e)):n,{});return n.propTypes={},n.filterProps=e.reduce((e,t)=>e.concat(t.filterProps),[]),n}}),d("9qKRL",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var o={};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return r.default}});var r=n(c("9NhAC"));Object.keys(r).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(o,t))&&(t in e.exports&&e.exports[t]===r[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return r[t]}}))})}),d("9NhAC",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.rowGap=e.exports.gridTemplateRows=e.exports.gridTemplateColumns=e.exports.gridTemplateAreas=e.exports.gridRow=e.exports.gridColumn=e.exports.gridAutoRows=e.exports.gridAutoFlow=e.exports.gridAutoColumns=e.exports.gridArea=e.exports.gap=e.exports.default=e.exports.columnGap=void 0;var o=n(c("7sUXG")),r=n(c("eO48i")),i=c("53z5O"),s=c("9cFLZ");n(c("6AGa2"));let l=e=>{if(void 0!==e.gap&&null!==e.gap){let t=(0,i.createUnaryUnit)(e.theme,"spacing",8,"gap");return(0,s.handleBreakpoints)(e,e.gap,e=>({gap:(0,i.getValue)(t,e)}))}return null};e.exports.gap=l,l.propTypes={},l.filterProps=["gap"];let a=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){let t=(0,i.createUnaryUnit)(e.theme,"spacing",8,"columnGap");return(0,s.handleBreakpoints)(e,e.columnGap,e=>({columnGap:(0,i.getValue)(t,e)}))}return null};e.exports.columnGap=a,a.propTypes={},a.filterProps=["columnGap"];let u=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){let t=(0,i.createUnaryUnit)(e.theme,"spacing",8,"rowGap");return(0,s.handleBreakpoints)(e,e.rowGap,e=>({rowGap:(0,i.getValue)(t,e)}))}return null};e.exports.rowGap=u,u.propTypes={},u.filterProps=["rowGap"];let d=e.exports.gridColumn=(0,o.default)({prop:"gridColumn"}),h=e.exports.gridRow=(0,o.default)({prop:"gridRow"}),p=e.exports.gridAutoFlow=(0,o.default)({prop:"gridAutoFlow"}),f=e.exports.gridAutoColumns=(0,o.default)({prop:"gridAutoColumns"}),g=e.exports.gridAutoRows=(0,o.default)({prop:"gridAutoRows"}),m=e.exports.gridTemplateColumns=(0,o.default)({prop:"gridTemplateColumns"}),_=e.exports.gridTemplateRows=(0,o.default)({prop:"gridTemplateRows"}),b=e.exports.gridTemplateAreas=(0,o.default)({prop:"gridTemplateAreas"}),y=e.exports.gridArea=(0,o.default)({prop:"gridArea"}),T=(0,r.default)(l,a,u,d,h,p,f,g,m,_,b,y);e.exports.default=T}),d("1jXrp",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var o={};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return r.default}});var r=n(c("b5d2r"));Object.keys(r).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(o,t))&&(t in e.exports&&e.exports[t]===r[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return r[t]}}))})}),d("b5d2r",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=e.exports.color=e.exports.bgcolor=e.exports.backgroundColor=void 0,e.exports.paletteTransform=i;var o=n(c("7sUXG")),r=n(c("eO48i"));function i(e,t){return"grey"===t?t:e}let s=e.exports.color=(0,o.default)({prop:"color",themeKey:"palette",transform:i}),l=e.exports.bgcolor=(0,o.default)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:i}),a=e.exports.backgroundColor=(0,o.default)({prop:"backgroundColor",themeKey:"palette",transform:i}),u=(0,r.default)(s,l,a);e.exports.default=u}),d("3vIvA",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var o={};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return r.default}});var r=n(c("3v1pf"));Object.keys(r).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(o,t))&&(t in e.exports&&e.exports[t]===r[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return r[t]}}))})}),d("3v1pf",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.sizeWidth=e.exports.sizeHeight=e.exports.minWidth=e.exports.minHeight=e.exports.maxWidth=e.exports.maxHeight=e.exports.height=e.exports.default=e.exports.boxSizing=void 0,e.exports.sizingTransform=s,e.exports.width=void 0;var o=n(c("7sUXG")),r=n(c("eO48i")),i=c("9cFLZ");function s(e){return e<=1&&0!==e?`${100*e}%`:e}let l=e.exports.width=(0,o.default)({prop:"width",transform:s}),a=e=>void 0!==e.maxWidth&&null!==e.maxWidth?(0,i.handleBreakpoints)(e,e.maxWidth,t=>{let n=e.theme?.breakpoints?.values?.[t]||i.values[t];return n?e.theme?.breakpoints?.unit!=="px"?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:s(t)}}):null;e.exports.maxWidth=a,a.filterProps=["maxWidth"];let u=e.exports.minWidth=(0,o.default)({prop:"minWidth",transform:s}),d=e.exports.height=(0,o.default)({prop:"height",transform:s}),h=e.exports.maxHeight=(0,o.default)({prop:"maxHeight",transform:s}),p=e.exports.minHeight=(0,o.default)({prop:"minHeight",transform:s});e.exports.sizeWidth=(0,o.default)({prop:"size",cssProperty:"width",transform:s}),e.exports.sizeHeight=(0,o.default)({prop:"size",cssProperty:"height",transform:s});let f=e.exports.boxSizing=(0,o.default)({prop:"boxSizing"}),g=(0,r.default)(l,a,u,d,h,p,f);e.exports.default=g}),d("ff2Ec",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){let t,{sx:n,...r}=e,{systemProps:s,otherProps:l}=i(r);return t=Array.isArray(n)?[s,...n]:"function"==typeof n?(...e)=>{let t=n(...e);return(0,o.isPlainObject)(t)?{...s,...t}:s}:{...s,...n},{...l,sx:t}};var o=c("imMZl"),r=n(c("7bsBj"));let i=e=>{let t={systemProps:{},otherProps:{}},n=e?.theme?.unstable_sxConfig??r.default;return Object.keys(e).forEach(o=>{n[o]?t.systemProps[o]=e[o]:t.otherProps[o]=e[o]}),t}}),d("bX2Q9",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){let e=(0,r.default)(i.default);return e[s.default]||e},o(c("fYo6y"));var r=c("JULvd"),i=n(c("ciBpi")),s=n(c("gymsw"))}),d("JULvd",function(t,n){e(t.exports,"default",()=>s);var o=c("7nlxi"),r=c("5UGCU");let i=(0,o.default)();var s=function(e=i){return(0,r.default)(e)}}),d("7nlxi",function(t,n){e(t.exports,"default",()=>p);var o=c("imMZl"),r=c("6pJCB"),i=c("4nofI"),s=c("b2uaC"),a=c("76lab"),u=c("ko6eK"),d=c("9pb8B"),h=c("kpPiT"),p=function(e={},...t){let{breakpoints:n={},palette:c={},spacing:p,shape:f={},...g}=e,m=(0,r.default)(n),_=(0,a.default)(p),b=l(o)({breakpoints:m,direction:"ltr",components:{},palette:{mode:"light",...c},spacing:_,shape:{...s.default,...f}},g);return(b=(0,i.default)(b)).applyStyles=h.default,(b=t.reduce((e,t)=>l(o)(e,t),b)).unstable_sxConfig={...d.default,...g?.unstable_sxConfig},b.unstable_sx=function(e){return(0,u.default)({sx:e,theme:this})},b}}),d("6pJCB",function(t,n){e(t.exports,"default",()=>r);let o=e=>{let t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>({...e,[t.key]:t.val}),{})};function r(e){let{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,s=o(t),l=Object.keys(s);function a(e){let o="number"==typeof t[e]?t[e]:e;return`@media (min-width:${o}${n})`}function u(e){let o="number"==typeof t[e]?t[e]:e;return`@media (max-width:${o-r/100}${n})`}function c(e,o){let i=l.indexOf(o);return`@media (min-width:${"number"==typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==i&&"number"==typeof t[l[i]]?t[l[i]]:o)-r/100}${n})`}return{keys:l,values:s,up:a,down:u,between:c,only:function(e){return l.indexOf(e)+1<l.length?c(e,l[l.indexOf(e)+1]):a(e)},not:function(e){let t=l.indexOf(e);return 0===t?a(l[1]):t===l.length-1?u(l[t]):c(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:n,...i}}}),d("4nofI",function(t,n){function o(e,t){if(!e.containerQueries)return t;let n=Object.keys(t).filter(e=>e.startsWith("@container")).sort((e,t)=>{let n=/min-width:\s*([0-9.]+)/;return+(e.match(n)?.[1]||0)-+(t.match(n)?.[1]||0)});return n.length?n.reduce((e,n)=>{let o=t[n];return delete e[n],e[n]=o,e},{...t}):t}function r(e,t){return"@"===t||t.startsWith("@")&&(e.some(e=>t.startsWith(`@${e}`))||!!t.match(/^@\d/))}function i(e,t){let n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;let[,o,r]=n,i=Number.isNaN(+o)?o||0:+o;return e.containerQueries(r).up(i)}function s(e){let t=(e,t)=>e.replace("@media",t?`@container ${t}`:"@container");function n(n,o){n.up=(...n)=>t(e.breakpoints.up(...n),o),n.down=(...n)=>t(e.breakpoints.down(...n),o),n.between=(...n)=>t(e.breakpoints.between(...n),o),n.only=(...n)=>t(e.breakpoints.only(...n),o),n.not=(...n)=>{let r=t(e.breakpoints.not(...n),o);return r.includes("not all and")?r.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):r}}let o={},r=e=>(n(o,e),o);return n(r),{...e,containerQueries:r}}e(t.exports,"sortContainerQueries",()=>o),e(t.exports,"isCqShorthand",()=>r),e(t.exports,"getContainerQuery",()=>i),e(t.exports,"default",()=>s)}),d("b2uaC",function(t,n){e(t.exports,"default",()=>o);var o={borderRadius:4}}),d("76lab",function(t,n){e(t.exports,"default",()=>r);var o=c("9CnYp");function r(e=8,t=(0,o.createUnarySpacing)({spacing:e})){if(e.mui)return e;let n=(...e)=>(0===e.length?[1]:e).map(e=>{let n=t(e);return"number"==typeof n?`${n}px`:n}).join(" ");return n.mui=!0,n}}),d("9CnYp",function(t,n){e(t.exports,"createUnaryUnit",()=>g),e(t.exports,"createUnarySpacing",()=>m),e(t.exports,"getValue",()=>_),e(t.exports,"margin",()=>y),e(t.exports,"padding",()=>T);var o=c("fLkmW"),r=c("gIWca"),i=c("hsXmQ"),s=c("l65dW");let l={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},d=(0,s.default)(e=>{if(e.length>2)if(!u[e])return[e];else e=u[e];let[t,n]=e.split(""),o=l[t],r=a[n]||"";return Array.isArray(r)?r.map(e=>o+e):[o+r]}),h=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],p=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],f=[...h,...p];function g(e,t,n,o){let i=(0,r.getPath)(e,t,!0)??n;return"number"==typeof i||"string"==typeof i?e=>"string"==typeof e?e:"string"==typeof i?i.startsWith("var(")&&0===e?0:i.startsWith("var(")&&1===e?i:`calc(${e} * ${i})`:i*e:Array.isArray(i)?e=>{if("string"==typeof e)return e;let t=i[Math.abs(e)];return e>=0?t:"number"==typeof t?-t:"string"==typeof t&&t.startsWith("var(")?`calc(-1 * ${t})`:`-${t}`}:"function"==typeof i?i:()=>void 0}function m(e){return g(e,"spacing",8,"spacing")}function _(e,t){return"string"==typeof t||null==t?t:e(t)}function b(e,t){let n=m(e.theme);return Object.keys(e).map(r=>(function(e,t,n,r){var i;if(!t.includes(n))return null;let s=(i=d(n),e=>i.reduce((t,n)=>(t[n]=_(r,e),t),{})),l=e[n];return(0,o.handleBreakpoints)(e,l,s)})(e,t,r,n)).reduce(i.default,{})}function y(e){return b(e,h)}function T(e){return b(e,p)}function E(e){return b(e,f)}y.propTypes={},y.filterProps=h,T.propTypes={},T.filterProps=p,E.propTypes={},E.filterProps=f}),d("fLkmW",function(t,n){e(t.exports,"values",()=>r),e(t.exports,"handleBreakpoints",()=>l),e(t.exports,"createEmptyBreakpointObject",()=>a),e(t.exports,"removeUnusedBreakpoints",()=>u),c("imMZl"),c("hsXmQ");var o=c("4nofI");let r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${r[e]}px)`},s={containerQueries:e=>({up:t=>{let n="number"==typeof t?t:r[t]||t;return"number"==typeof n&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function l(e,t,n){let l=e.theme||{};if(Array.isArray(t)){let e=l.breakpoints||i;return t.reduce((o,r,i)=>(o[e.up(e.keys[i])]=n(t[i]),o),{})}if("object"==typeof t){let e=l.breakpoints||i;return Object.keys(t).reduce((i,a)=>{if((0,o.isCqShorthand)(e.keys,a)){let e=(0,o.getContainerQuery)(l.containerQueries?l:s,a);e&&(i[e]=n(t[a],a))}else Object.keys(e.values||r).includes(a)?i[e.up(a)]=n(t[a],a):i[a]=t[a];return i},{})}return n(t)}function a(e={}){return e.keys?.reduce((t,n)=>(t[e.up(n)]={},t),{})||{}}function u(e,t){return e.reduce((e,t)=>{let n=e[t];return n&&0!==Object.keys(n).length||delete e[t],e},t)}}),d("hsXmQ",function(t,n){e(t.exports,"default",()=>r);var o=c("imMZl"),r=function(e,t){return t?l(o)(e,t,{clone:!1}):e}}),d("gIWca",function(t,n){e(t.exports,"getPath",()=>i),e(t.exports,"getStyleValue",()=>s),e(t.exports,"default",()=>a);var o=c("2C84E"),r=c("fLkmW");function i(e,t,n=!0){if(!t||"string"!=typeof t)return null;if(e&&e.vars&&n){let n=`vars.${t}`.split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=n)return n}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function s(e,t,n,o=n){let r;return r="function"==typeof e?e(n):Array.isArray(e)?e[n]||o:i(e,n)||o,t&&(r=t(r,o,e)),r}var a=function(e){let{prop:t,cssProperty:n=e.prop,themeKey:a,transform:u}=e,c=e=>{if(null==e[t])return null;let c=e[t],d=i(e.theme,a)||{};return(0,r.handleBreakpoints)(e,c,e=>{let r=s(d,u,e);return(e===r&&"string"==typeof e&&(r=s(d,u,`${t}${"default"===e?"":l(o)(e)}`,e)),!1===n)?r:{[n]:r}})};return c.propTypes={},c.filterProps=[t],c}}),d("l65dW",function(t,n){e(t.exports,"default",()=>o);function o(e){let t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}}),d("ko6eK",function(t,n){e(t.exports,"default",()=>h);var o=c("2C84E"),r=c("hsXmQ"),i=c("gIWca"),s=c("fLkmW"),a=c("4nofI"),u=c("9pb8B");let d=function(){function e(e,t,n,r){let a={[e]:t,theme:n},u=r[e];if(!u)return{[e]:t};let{cssProperty:c=e,themeKey:d,transform:h,style:p}=u;if(null==t)return null;if("typography"===d&&"inherit"===t)return{[e]:t};let f=(0,i.getPath)(n,d)||{};return p?p(a):(0,s.handleBreakpoints)(a,t,t=>{let n=(0,i.getStyleValue)(f,h,t);return(t===n&&"string"==typeof t&&(n=(0,i.getStyleValue)(f,h,`${e}${"default"===t?"":l(o)(t)}`,t)),!1===c)?n:{[c]:n}})}return function t(n){let{sx:o,theme:i={}}=n||{};if(!o)return null;let l=i.unstable_sxConfig??u.default;function c(n){let o=n;if("function"==typeof n)o=n(i);else if("object"!=typeof n)return n;if(!o)return null;let u=(0,s.createEmptyBreakpointObject)(i.breakpoints),c=Object.keys(u),d=u;return Object.keys(o).forEach(n=>{var a;let u=(a=o[n],"function"==typeof a?a(i):a);if(null!=u)if("object"==typeof u)if(l[n])d=(0,r.default)(d,e(n,u,i,l));else{let e=(0,s.handleBreakpoints)({theme:i},u,e=>({[n]:e}));!function(...e){let t=new Set(e.reduce((e,t)=>e.concat(Object.keys(t)),[]));return e.every(e=>t.size===Object.keys(e).length)}(e,u)?d=(0,r.default)(d,e):d[n]=t({sx:u,theme:i})}else d=(0,r.default)(d,e(n,u,i,l))}),(0,a.sortContainerQueries)(i,(0,s.removeUnusedBreakpoints)(c,d))}return Array.isArray(o)?o.map(c):c(o)}}();d.filterProps=["sx"];var h=d}),d("9pb8B",function(t,n){e(t.exports,"default",()=>a);var o=c("9CnYp"),r=c("evNR4"),i=c("bnE1A"),s=c("6VrUw"),l=c("2608v"),a={border:{themeKey:"borders",transform:r.borderTransform},borderTop:{themeKey:"borders",transform:r.borderTransform},borderRight:{themeKey:"borders",transform:r.borderTransform},borderBottom:{themeKey:"borders",transform:r.borderTransform},borderLeft:{themeKey:"borders",transform:r.borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:r.borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:r.borderRadius},color:{themeKey:"palette",transform:s.paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:s.paletteTransform},backgroundColor:{themeKey:"palette",transform:s.paletteTransform},p:{style:o.padding},pt:{style:o.padding},pr:{style:o.padding},pb:{style:o.padding},pl:{style:o.padding},px:{style:o.padding},py:{style:o.padding},padding:{style:o.padding},paddingTop:{style:o.padding},paddingRight:{style:o.padding},paddingBottom:{style:o.padding},paddingLeft:{style:o.padding},paddingX:{style:o.padding},paddingY:{style:o.padding},paddingInline:{style:o.padding},paddingInlineStart:{style:o.padding},paddingInlineEnd:{style:o.padding},paddingBlock:{style:o.padding},paddingBlockStart:{style:o.padding},paddingBlockEnd:{style:o.padding},m:{style:o.margin},mt:{style:o.margin},mr:{style:o.margin},mb:{style:o.margin},ml:{style:o.margin},mx:{style:o.margin},my:{style:o.margin},margin:{style:o.margin},marginTop:{style:o.margin},marginRight:{style:o.margin},marginBottom:{style:o.margin},marginLeft:{style:o.margin},marginX:{style:o.margin},marginY:{style:o.margin},marginInline:{style:o.margin},marginInlineStart:{style:o.margin},marginInlineEnd:{style:o.margin},marginBlock:{style:o.margin},marginBlockStart:{style:o.margin},marginBlockEnd:{style:o.margin},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:i.gap},rowGap:{style:i.rowGap},columnGap:{style:i.columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:l.sizingTransform},maxWidth:{style:l.maxWidth},minWidth:{transform:l.sizingTransform},height:{transform:l.sizingTransform},maxHeight:{transform:l.sizingTransform},minHeight:{transform:l.sizingTransform},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}}),d("evNR4",function(t,n){e(t.exports,"borderTransform",()=>l),e(t.exports,"borderRadius",()=>v);var o=c("gIWca"),r=c("hWodK"),i=c("9CnYp"),s=c("fLkmW");function l(e){return"number"!=typeof e?e:`${e}px solid`}function a(e,t){return(0,o.default)({prop:e,themeKey:"borders",transform:t})}let u=a("border",l),d=a("borderTop",l),h=a("borderRight",l),p=a("borderBottom",l),f=a("borderLeft",l),g=a("borderColor"),m=a("borderTopColor"),_=a("borderRightColor"),b=a("borderBottomColor"),y=a("borderLeftColor"),T=a("outline",l),E=a("outlineColor"),v=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){let t=(0,i.createUnaryUnit)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,s.handleBreakpoints)(e,e.borderRadius,e=>({borderRadius:(0,i.getValue)(t,e)}))}return null};v.propTypes={},v.filterProps=["borderRadius"],(0,r.default)(u,d,h,p,f,g,m,_,b,y,v,T,E)}),d("hWodK",function(t,n){e(t.exports,"default",()=>r);var o=c("hsXmQ"),r=function(...e){let t=e.reduce((e,t)=>(t.filterProps.forEach(n=>{e[n]=t}),e),{}),n=e=>Object.keys(e).reduce((n,r)=>t[r]?(0,o.default)(n,t[r](e)):n,{});return n.propTypes={},n.filterProps=e.reduce((e,t)=>e.concat(t.filterProps),[]),n}}),d("bnE1A",function(t,n){e(t.exports,"gap",()=>l),e(t.exports,"columnGap",()=>a),e(t.exports,"rowGap",()=>u);var o=c("gIWca"),r=c("hWodK"),i=c("9CnYp"),s=c("fLkmW");let l=e=>{if(void 0!==e.gap&&null!==e.gap){let t=(0,i.createUnaryUnit)(e.theme,"spacing",8,"gap");return(0,s.handleBreakpoints)(e,e.gap,e=>({gap:(0,i.getValue)(t,e)}))}return null};l.propTypes={},l.filterProps=["gap"];let a=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){let t=(0,i.createUnaryUnit)(e.theme,"spacing",8,"columnGap");return(0,s.handleBreakpoints)(e,e.columnGap,e=>({columnGap:(0,i.getValue)(t,e)}))}return null};a.propTypes={},a.filterProps=["columnGap"];let u=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){let t=(0,i.createUnaryUnit)(e.theme,"spacing",8,"rowGap");return(0,s.handleBreakpoints)(e,e.rowGap,e=>({rowGap:(0,i.getValue)(t,e)}))}return null};u.propTypes={},u.filterProps=["rowGap"];let d=(0,o.default)({prop:"gridColumn"}),h=(0,o.default)({prop:"gridRow"}),p=(0,o.default)({prop:"gridAutoFlow"}),f=(0,o.default)({prop:"gridAutoColumns"}),g=(0,o.default)({prop:"gridAutoRows"}),m=(0,o.default)({prop:"gridTemplateColumns"}),_=(0,o.default)({prop:"gridTemplateRows"}),b=(0,o.default)({prop:"gridTemplateAreas"}),y=(0,o.default)({prop:"gridArea"});(0,r.default)(l,a,u,d,h,p,f,g,m,_,b,y)}),d("6VrUw",function(t,n){e(t.exports,"paletteTransform",()=>i);var o=c("gIWca"),r=c("hWodK");function i(e,t){return"grey"===t?t:e}let s=(0,o.default)({prop:"color",themeKey:"palette",transform:i}),l=(0,o.default)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:i}),a=(0,o.default)({prop:"backgroundColor",themeKey:"palette",transform:i});(0,r.default)(s,l,a)}),d("2608v",function(t,n){e(t.exports,"sizingTransform",()=>s),e(t.exports,"maxWidth",()=>a);var o=c("gIWca"),r=c("hWodK"),i=c("fLkmW");function s(e){return e<=1&&0!==e?`${100*e}%`:e}let l=(0,o.default)({prop:"width",transform:s}),a=e=>void 0!==e.maxWidth&&null!==e.maxWidth?(0,i.handleBreakpoints)(e,e.maxWidth,t=>{let n=e.theme?.breakpoints?.values?.[t]||i.values[t];return n?e.theme?.breakpoints?.unit!=="px"?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:s(t)}}):null;a.filterProps=["maxWidth"];let u=(0,o.default)({prop:"minWidth",transform:s}),d=(0,o.default)({prop:"height",transform:s}),h=(0,o.default)({prop:"maxHeight",transform:s}),p=(0,o.default)({prop:"minHeight",transform:s});(0,o.default)({prop:"size",cssProperty:"width",transform:s}),(0,o.default)({prop:"size",cssProperty:"height",transform:s});let f=(0,o.default)({prop:"boxSizing"});(0,r.default)(l,a,u,d,h,p,f)}),d("kpPiT",function(t,n){e(t.exports,"default",()=>o);function o(e,t){if(this.vars){if(!this.colorSchemes?.[e]||"function"!=typeof this.getColorSchemeSelector)return{};let n=this.getColorSchemeSelector(e);return"&"===n?t:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:t})}return this.palette.mode===e?t:{}}}),d("5UGCU",function(t,n){e(t.exports,"default",()=>i);var o=c("fYo6y");c("d9QWq");var r=c("42Bn5"),i=function(e=null){let t=o.useContext(r.T);return t&&0!==Object.keys(t).length?t:e}}),d("d9QWq",function(t,n){e(t.exports,"Global",()=>h),e(t.exports,"css",()=>p),e(t.exports,"keyframes",()=>f),e(t.exports,"ThemeContext",()=>c("42Bn5").T),e(t.exports,"withEmotionCache",()=>c("42Bn5").w);var o,r,i=c("42Bn5"),s=c("fYo6y"),l=c("iRh0Z"),a=c("eBXpJ"),u=c("Ytjjd");c("cezAU"),c("jzVzt"),c("7Djjd"),c("9xqTM");var d=function(e,t){var n=arguments;if(null==t||!i.h.call(t,"css"))return s.createElement.apply(void 0,n);var o=n.length,r=Array(o);r[0]=i.E,r[1]=(0,i.c)(e,t);for(var l=2;l<o;l++)r[l]=n[l];return s.createElement.apply(null,r)};o=d||(d={}),r||(r=o.JSX||(o.JSX={}));var h=(0,i.w)(function(e,t){var n=e.styles,o=(0,u.serializeStyles)([n],void 0,s.useContext(i.T));if(!i.i){for(var r,c=o.name,d=o.styles,h=o.next;void 0!==h;)c+=" "+h.name,d+=h.styles,h=h.next;var p=!0===t.compat,f=t.insert("",{name:c,styles:d},t.sheet,p);return p?null:s.createElement("style",((r={})["data-emotion"]=t.key+"-global "+c,r.dangerouslySetInnerHTML={__html:f},r.nonce=t.sheet.nonce,r))}var g=s.useRef();return(0,a.useInsertionEffectWithLayoutFallback)(function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+e+" "+o.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),g.current=[n,r],function(){n.flush()}},[t]),(0,a.useInsertionEffectWithLayoutFallback)(function(){var e=g.current,n=e[0];if(e[1]){e[1]=!1;return}if(void 0!==o.next&&(0,l.insertStyles)(t,o.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",o,n,!1)},[t,o.name]),null});function p(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,u.serializeStyles)(t)}function f(){var e=p.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}}),d("42Bn5",function(t,n){e(t.exports,"a",()=>a),e(t.exports,"i",()=>u),e(t.exports,"C",()=>h),e(t.exports,"w",()=>p),e(t.exports,"T",()=>f),e(t.exports,"h",()=>g),e(t.exports,"c",()=>_),e(t.exports,"E",()=>y);var o=c("fYo6y"),r=c("cezAU");c("8E2mE"),c("7Djjd"),c("dbvbg");var i=c("iRh0Z"),s=c("Ytjjd"),l=c("eBXpJ"),a=!1,u="undefined"!=typeof document,d=o.createContext("undefined"!=typeof HTMLElement?(0,r.default)({key:"css"}):null),h=d.Provider,p=function(e){return(0,o.forwardRef)(function(t,n){return e(t,(0,o.useContext)(d),n)})};u||(p=function(e){return function(t){var n=(0,o.useContext)(d);return null===n?(n=(0,r.default)({key:"css"}),o.createElement(d.Provider,{value:n},e(t,n))):e(t,n)}});var f=o.createContext({}),g={}.hasOwnProperty,m="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",_=function(e,t){var n={};for(var o in t)g.call(t,o)&&(n[o]=t[o]);return n[m]=e,n},b=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;(0,i.registerStyles)(t,n,r);var s=(0,l.useInsertionEffectAlwaysWithSyncFallback)(function(){return(0,i.insertStyles)(t,n,r)});if(!u&&void 0!==s){for(var a,c=n.name,d=n.next;void 0!==d;)c+=" "+d.name,d=d.next;return o.createElement("style",((a={})["data-emotion"]=t.key+" "+c,a.dangerouslySetInnerHTML={__html:s},a.nonce=t.sheet.nonce,a))}return null},y=p(function(e,t,n){var r=e.css;"string"==typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var l=e[m],u=[r],c="";"string"==typeof e.className?c=(0,i.getRegisteredStyles)(t.registered,u,e.className):null!=e.className&&(c=e.className+" ");var d=(0,s.serializeStyles)(u,void 0,o.useContext(f));c+=t.key+"-"+d.name;var h={};for(var p in e)g.call(e,p)&&"css"!==p&&p!==m&&!a&&(h[p]=e[p]);return h.className=c,n&&(h.ref=n),o.createElement(o.Fragment,null,o.createElement(b,{cache:t,serialized:d,isStringTag:"string"==typeof l}),o.createElement(l,h))})}),d("cezAU",function(t,n){e(t.exports,"default",()=>m);var o=c("66J5J"),r=c("8dA6H"),i=c("7Djjd"),s=c("3tT4T"),l="undefined"!=typeof document,a=function(e,t,n){for(var o=0,i=0;o=i,i=(0,r.peek)(),38===o&&12===i&&(t[n]=1),!(0,r.token)(i);)(0,r.next)();return(0,r.slice)(e,r.position)},u=function(e,t){var n=-1,o=44;do switch((0,r.token)(o)){case 0:38===o&&12===(0,r.peek)()&&(t[n]=1),e[n]+=a(r.position-1,t,n);break;case 2:e[n]+=(0,r.delimit)(o);break;case 4:if(44===o){e[++n]=58===(0,r.peek)()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=(0,r.from)(o)}while(o=(0,r.next)())return e},d=new WeakMap,h=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,o=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||d.get(n))&&!o){d.set(e,!0);for(var i=[],s=(0,r.dealloc)(u((0,r.alloc)(t),i)),l=n.props,a=0,c=0;a<s.length;a++)for(var h=0;h<l.length;h++,c++)e.props[c]=i[a]?s[a].replace(/&\f/g,l[h]):l[h]+" "+s[a]}}},p=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},f=l?void 0:(0,i.default)(function(){return(0,s.default)(function(){return{}})}),g=[function(e,t,n,o){if(e.length>-1&&!e.return)switch(e.type){case r.DECLARATION:e.return=function e(t,n){switch((0,r.hash)(t,n)){case 5103:return r.WEBKIT+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return r.WEBKIT+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return r.WEBKIT+t+r.MOZ+t+r.MS+t+t;case 6828:case 4268:return r.WEBKIT+t+r.MS+t+t;case 6165:return r.WEBKIT+t+r.MS+"flex-"+t+t;case 5187:return r.WEBKIT+t+(0,r.replace)(t,/(\w+).+(:[^]+)/,r.WEBKIT+"box-$1$2"+r.MS+"flex-$1$2")+t;case 5443:return r.WEBKIT+t+r.MS+"flex-item-"+(0,r.replace)(t,/flex-|-self/,"")+t;case 4675:return r.WEBKIT+t+r.MS+"flex-line-pack"+(0,r.replace)(t,/align-content|flex-|-self/,"")+t;case 5548:return r.WEBKIT+t+r.MS+(0,r.replace)(t,"shrink","negative")+t;case 5292:return r.WEBKIT+t+r.MS+(0,r.replace)(t,"basis","preferred-size")+t;case 6060:return r.WEBKIT+"box-"+(0,r.replace)(t,"-grow","")+r.WEBKIT+t+r.MS+(0,r.replace)(t,"grow","positive")+t;case 4554:return r.WEBKIT+(0,r.replace)(t,/([^-])(transform)/g,"$1"+r.WEBKIT+"$2")+t;case 6187:return(0,r.replace)((0,r.replace)((0,r.replace)(t,/(zoom-|grab)/,r.WEBKIT+"$1"),/(image-set)/,r.WEBKIT+"$1"),t,"")+t;case 5495:case 3959:return(0,r.replace)(t,/(image-set\([^]*)/,r.WEBKIT+"$1$`$1");case 4968:return(0,r.replace)((0,r.replace)(t,/(.+:)(flex-)?(.*)/,r.WEBKIT+"box-pack:$3"+r.MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+r.WEBKIT+t+t;case 4095:case 3583:case 4068:case 2532:return(0,r.replace)(t,/(.+)-inline(.+)/,r.WEBKIT+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if((0,r.strlen)(t)-1-n>6)switch((0,r.charat)(t,n+1)){case 109:if(45!==(0,r.charat)(t,n+4))break;case 102:return(0,r.replace)(t,/(.+:)(.+)-([^]+)/,"$1"+r.WEBKIT+"$2-$3$1"+r.MOZ+(108==(0,r.charat)(t,n+3)?"$3":"$2-$3"))+t;case 115:return~(0,r.indexof)(t,"stretch")?e((0,r.replace)(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(115!==(0,r.charat)(t,n+1))break;case 6444:switch((0,r.charat)(t,(0,r.strlen)(t)-3-(~(0,r.indexof)(t,"!important")&&10))){case 107:return(0,r.replace)(t,":",":"+r.WEBKIT)+t;case 101:return(0,r.replace)(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+r.WEBKIT+(45===(0,r.charat)(t,14)?"inline-":"")+"box$3$1"+r.WEBKIT+"$2$3$1"+r.MS+"$2box$3")+t}break;case 5936:switch((0,r.charat)(t,n+11)){case 114:return r.WEBKIT+t+r.MS+(0,r.replace)(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return r.WEBKIT+t+r.MS+(0,r.replace)(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return r.WEBKIT+t+r.MS+(0,r.replace)(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return r.WEBKIT+t+r.MS+t+t}return t}(e.value,e.length);break;case r.KEYFRAMES:return(0,r.serialize)([(0,r.copy)(e,{value:(0,r.replace)(e.value,"@","@"+r.WEBKIT)})],o);case r.RULESET:if(e.length)return(0,r.combine)(e.props,function(t){switch((0,r.match)(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return(0,r.serialize)([(0,r.copy)(e,{props:[(0,r.replace)(t,/:(read-\w+)/,":"+r.MOZ+"$1")]})],o);case"::placeholder":return(0,r.serialize)([(0,r.copy)(e,{props:[(0,r.replace)(t,/:(plac\w+)/,":"+r.WEBKIT+"input-$1")]}),(0,r.copy)(e,{props:[(0,r.replace)(t,/:(plac\w+)/,":"+r.MOZ+"$1")]}),(0,r.copy)(e,{props:[(0,r.replace)(t,/:(plac\w+)/,r.MS+"input-$1")]})],o)}return""})}}],m=function(e){var t=e.key;if(l&&"css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var i=e.stylisPlugins||g,s={},a=[];l&&(b=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var u=[h,p];if(f){var c=[r.stringify],d=(0,r.middleware)(u.concat(i,c)),m=f(i)(t),_=function(e,t){var n,o=t.name;return void 0===m[o]&&(m[o]=(n=e?e+"{"+t.styles+"}":t.styles,(0,r.serialize)((0,r.compile)(n),d))),m[o]};y=function(e,t,n,o){var r=t.name,i=_(e,t);return void 0===C.compat?(o&&(C.inserted[r]=!0),i):o?void(C.inserted[r]=i):i}}else{var b,y,T,E=[r.stringify,(0,r.rulesheet)(function(e){T.insert(e)})],v=(0,r.middleware)(u.concat(i,E));y=function(e,t,n,o){var i;T=n,i=e?e+"{"+t.styles+"}":t.styles,(0,r.serialize)((0,r.compile)(i),v),o&&(C.inserted[t.name]=!0)}}var C={key:t,sheet:new(0,o.StyleSheet)({key:t,container:b,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:y};return C.sheet.hydrate(a),C}}),d("66J5J",function(t,n){e(t.exports,"StyleSheet",()=>o);var o=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t));var t,n=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{o.insertRule(e,o.cssRules.length)}catch(e){}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}()}),d("8dA6H",function(t,n){e(t.exports,"MS",()=>o),e(t.exports,"MOZ",()=>r),e(t.exports,"WEBKIT",()=>i),e(t.exports,"RULESET",()=>l),e(t.exports,"DECLARATION",()=>a),e(t.exports,"KEYFRAMES",()=>u),e(t.exports,"from",()=>d),e(t.exports,"hash",()=>p),e(t.exports,"charat",()=>_),e(t.exports,"match",()=>f),e(t.exports,"replace",()=>g),e(t.exports,"indexof",()=>m),e(t.exports,"strlen",()=>y),e(t.exports,"combine",()=>E),e(t.exports,"position",()=>S),e(t.exports,"copy",()=>R),e(t.exports,"next",()=>x),e(t.exports,"peek",()=>$),e(t.exports,"slice",()=>A),e(t.exports,"token",()=>N),e(t.exports,"alloc",()=>M),e(t.exports,"dealloc",()=>L),e(t.exports,"delimit",()=>D),e(t.exports,"compile",()=>P),e(t.exports,"serialize",()=>U),e(t.exports,"stringify",()=>H),e(t.exports,"middleware",()=>V),e(t.exports,"rulesheet",()=>G);var o="-ms-",r="-moz-",i="-webkit-",s="comm",l="rule",a="decl",u="@keyframes",c=Math.abs,d=String.fromCharCode,h=Object.assign;function p(e,t){return 45^_(e,0)?(((t<<2^_(e,0))<<2^_(e,1))<<2^_(e,2))<<2^_(e,3):0}function f(e,t){return(e=t.exec(e))?e[0]:e}function g(e,t,n){return e.replace(t,n)}function m(e,t){return e.indexOf(t)}function _(e,t){return 0|e.charCodeAt(t)}function b(e,t,n){return e.slice(t,n)}function y(e){return e.length}function T(e,t){return t.push(e),e}function E(e,t){return e.map(t).join("")}var v=1,C=1,I=0,S=0,w=0,k="";function O(e,t,n,o,r,i,s){return{value:e,root:t,parent:n,type:o,props:r,children:i,line:v,column:C,length:s,return:""}}function R(e,t){return h(O("",null,null,"",null,null,0),e,{length:-e.length},t)}function x(){return w=S<I?_(k,S++):0,C++,10===w&&(C=1,v++),w}function $(){return _(k,S)}function A(e,t){return b(k,e,t)}function N(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function M(e){return v=C=1,I=y(k=e),S=0,[]}function L(e){return k="",e}function D(e){return A(S-1,function e(t){for(;x();)switch(w){case t:return S;case 34:case 39:34!==t&&39!==t&&e(w);break;case 40:41===t&&e(t);break;case 92:x()}return S}(91===e?e+2:40===e?e+1:e)).trim()}function P(e){return L(function e(t,n,o,r,i,l,a,u,c){for(var h,p=0,f=0,E=a,I=0,R=0,M=0,L=1,P=1,U=1,H=0,V="",G=i,j=l,W=r,z=V;P;)switch(M=H,H=x()){case 40:if(108!=M&&58==_(z,E-1)){-1!=m(z+=g(D(H),"&","&\f"),"&\f")&&(U=-1);break}case 34:case 39:case 91:z+=D(H);break;case 9:case 10:case 13:case 32:z+=function(e){for(;w=$();)if(w<33)x();else break;return N(e)>2||N(w)>3?"":" "}(M);break;case 92:z+=function(e,t){for(;--t&&x()&&!(w<48)&&!(w>102)&&(!(w>57)||!(w<65))&&(!(w>70)||!(w<97)););return A(e,S+(t<6&&32==$()&&32==x()))}(S-1,7);continue;case 47:switch($()){case 42:case 47:T((h=function(e,t){for(;x();)if(e+w===57)break;else if(e+w===84&&47===$())break;return"/*"+A(t,S-1)+"*"+d(47===e?e:x())}(x(),S),O(h,n,o,s,d(w),b(h,2,-2),0)),c);break;default:z+="/"}break;case 123*L:u[p++]=y(z)*U;case 125*L:case 59:case 0:switch(H){case 0:case 125:P=0;case 59+f:-1==U&&(z=g(z,/\f/g,"")),R>0&&y(z)-E&&T(R>32?F(z+";",r,o,E-1):F(g(z," ","")+";",r,o,E-2),c);break;case 59:z+=";";default:if(T(W=B(z,n,o,p,f,i,u,V,G=[],j=[],E),l),123===H)if(0===f)e(z,n,W,W,G,l,E,u,j);else switch(99===I&&110===_(z,3)?100:I){case 100:case 108:case 109:case 115:e(t,W,W,r&&T(B(t,W,W,0,0,i,u,V,i,G=[],E),j),i,j,E,u,r?G:j);break;default:e(z,W,W,W,[""],j,0,u,j)}}p=f=R=0,L=U=1,V=z="",E=a;break;case 58:E=1+y(z),R=M;default:if(L<1){if(123==H)--L;else if(125==H&&0==L++&&125==(w=S>0?_(k,--S):0,C--,10===w&&(C=1,v--),w))continue}switch(z+=d(H),H*L){case 38:U=f>0?1:(z+="\f",-1);break;case 44:u[p++]=(y(z)-1)*U,U=1;break;case 64:45===$()&&(z+=D(x())),I=$(),f=E=y(V=z+=function(e){for(;!N($());)x();return A(e,S)}(S)),H++;break;case 45:45===M&&2==y(z)&&(L=0)}}return l}("",null,null,null,[""],e=M(e),0,[0],e))}function B(e,t,n,o,r,i,s,a,u,d,h){for(var p=r-1,f=0===r?i:[""],m=f.length,_=0,y=0,T=0;_<o;++_)for(var E=0,v=b(e,p+1,p=c(y=s[_])),C=e;E<m;++E)(C=(y>0?f[E]+" "+v:g(v,/&\f/g,f[E])).trim())&&(u[T++]=C);return O(e,t,n,0===r?l:a,u,d,h)}function F(e,t,n,o){return O(e,t,n,a,b(e,0,o),b(e,o+1,-1),o)}function U(e,t){for(var n="",o=e.length,r=0;r<o;r++)n+=t(e[r],r,e,t)||"";return n}function H(e,t,n,o){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case a:return e.return=e.return||e.value;case s:return"";case u:return e.return=e.value+"{"+U(e.children,o)+"}";case l:e.value=e.props.join(",")}return y(n=U(e.children,o))?e.return=e.value+"{"+n+"}":""}function V(e){var t=e.length;return function(n,o,r,i){for(var s="",l=0;l<t;l++)s+=e[l](n,o,r,i)||"";return s}}function G(e){return function(t){!t.root&&(t=t.return)&&e(t)}}}),d("7Djjd",function(t,n){e(t.exports,"default",()=>o);var o=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var o=e(n);return t.set(n,o),o}}}),d("3tT4T",function(t,n){e(t.exports,"default",()=>o);function o(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}}),d("8E2mE",function(t,n){e(t.exports,"default",()=>o);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(null,arguments)}}),d("dbvbg",function(t,n){e(t.exports,"default",()=>r);var o=c("9xqTM"),r=function(e,t){return l(o)(e,t)}}),d("9xqTM",function(e,t){var n=c("38m7o"),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?i:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=i;var a=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,o){if("string"!=typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,o)}var s=u(n);d&&(s=s.concat(d(n)));for(var c=l(t),g=l(n),m=0;m<s.length;++m){var _=s[m];if(!r[_]&&!(o&&o[_])&&!(g&&g[_])&&!(c&&c[_])){var b=h(n,_);try{a(t,_,b)}catch(e){}}}}return t}}),d("38m7o",function(e,t){e.exports=c("2VfMU")}),d("2VfMU",function(t,n){e(t.exports,"AsyncMode",()=>o,e=>o=e),e(t.exports,"ConcurrentMode",()=>r,e=>r=e),e(t.exports,"ContextConsumer",()=>i,e=>i=e),e(t.exports,"ContextProvider",()=>s,e=>s=e),e(t.exports,"Element",()=>l,e=>l=e),e(t.exports,"ForwardRef",()=>a,e=>a=e),e(t.exports,"Fragment",()=>u,e=>u=e),e(t.exports,"Lazy",()=>c,e=>c=e),e(t.exports,"Memo",()=>d,e=>d=e),e(t.exports,"Portal",()=>h,e=>h=e),e(t.exports,"Profiler",()=>p,e=>p=e),e(t.exports,"StrictMode",()=>f,e=>f=e),e(t.exports,"Suspense",()=>g,e=>g=e),e(t.exports,"isAsyncMode",()=>m,e=>m=e),e(t.exports,"isConcurrentMode",()=>_,e=>_=e),e(t.exports,"isContextConsumer",()=>b,e=>b=e),e(t.exports,"isContextProvider",()=>y,e=>y=e),e(t.exports,"isElement",()=>T,e=>T=e),e(t.exports,"isForwardRef",()=>E,e=>E=e),e(t.exports,"isFragment",()=>v,e=>v=e),e(t.exports,"isLazy",()=>C,e=>C=e),e(t.exports,"isMemo",()=>I,e=>I=e),e(t.exports,"isPortal",()=>S,e=>S=e),e(t.exports,"isProfiler",()=>w,e=>w=e),e(t.exports,"isStrictMode",()=>k,e=>k=e),e(t.exports,"isSuspense",()=>O,e=>O=e),e(t.exports,"isValidElementType",()=>R,e=>R=e),e(t.exports,"typeOf",()=>x,e=>x=e);var o,r,i,s,l,a,u,c,d,h,p,f,g,m,_,b,y,T,E,v,C,I,S,w,k,O,R,x,$="function"==typeof Symbol&&Symbol.for,A=$?Symbol.for("react.element"):60103,N=$?Symbol.for("react.portal"):60106,M=$?Symbol.for("react.fragment"):60107,L=$?Symbol.for("react.strict_mode"):60108,D=$?Symbol.for("react.profiler"):60114,P=$?Symbol.for("react.provider"):60109,B=$?Symbol.for("react.context"):60110,F=$?Symbol.for("react.async_mode"):60111,U=$?Symbol.for("react.concurrent_mode"):60111,H=$?Symbol.for("react.forward_ref"):60112,V=$?Symbol.for("react.suspense"):60113,G=$?Symbol.for("react.suspense_list"):60120,j=$?Symbol.for("react.memo"):60115,W=$?Symbol.for("react.lazy"):60116,z=$?Symbol.for("react.block"):60121,X=$?Symbol.for("react.fundamental"):60117,Y=$?Symbol.for("react.responder"):60118,K=$?Symbol.for("react.scope"):60119;function J(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case A:switch(e=e.type){case F:case U:case M:case D:case L:case V:return e;default:switch(e=e&&e.$$typeof){case B:case H:case W:case j:case P:return e;default:return t}}case N:return t}}}function Z(e){return J(e)===U}o=F,r=U,i=B,s=P,l=A,a=H,u=M,c=W,d=j,h=N,p=D,f=L,g=V,m=function(e){return Z(e)||J(e)===F},_=Z,b=function(e){return J(e)===B},y=function(e){return J(e)===P},T=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===A},E=function(e){return J(e)===H},v=function(e){return J(e)===M},C=function(e){return J(e)===W},I=function(e){return J(e)===j},S=function(e){return J(e)===N},w=function(e){return J(e)===D},k=function(e){return J(e)===L},O=function(e){return J(e)===V},R=function(e){return"string"==typeof e||"function"==typeof e||e===M||e===U||e===D||e===L||e===V||e===G||"object"==typeof e&&null!==e&&(e.$$typeof===W||e.$$typeof===j||e.$$typeof===P||e.$$typeof===B||e.$$typeof===H||e.$$typeof===X||e.$$typeof===Y||e.$$typeof===K||e.$$typeof===z)},x=J}),d("iRh0Z",function(t,n){e(t.exports,"getRegisteredStyles",()=>r),e(t.exports,"registerStyles",()=>i),e(t.exports,"insertStyles",()=>s);var o="undefined"!=typeof document;function r(e,t,n){var o="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(o+=n+" ")}),o}var i=function(e,t,n){var r=e.key+"-"+t.name;(!1===n||!1===o&&void 0!==e.compat)&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},s=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var s="",l=t;do{var a=e.insert(t===l?"."+r:"",l,e.sheet,!0);o||void 0===a||(s+=a),l=l.next}while(void 0!==l)if(!o&&0!==s.length)return s}}}),d("Ytjjd",function(t,n){e(t.exports,"serializeStyles",()=>m);var o,r=c("ktXKw"),i=c("dfcQG"),s=c("3tT4T"),l=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},d=function(e){return null!=e&&"boolean"!=typeof e},h=(0,s.default)(function(e){return u(e)?e:e.replace(l,"-$&").toLowerCase()}),p=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(a,function(e,t,n){return o={name:t,styles:n,next:o},t})}return 1===i.default[e]||u(e)||"number"!=typeof t||0===t?t:t+"px"};function f(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return o={name:n.name,styles:n.styles,next:o},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)o={name:r.name,styles:r.styles,next:o},r=r.next;return n.styles+";"}return function(e,t,n){var o="";if(Array.isArray(n))for(var r=0;r<n.length;r++)o+=f(e,t,n[r])+";";else for(var i in n){var s=n[i];if("object"!=typeof s)null!=t&&void 0!==t[s]?o+=i+"{"+t[s]+"}":d(s)&&(o+=h(i)+":"+p(i,s)+";");else if(Array.isArray(s)&&"string"==typeof s[0]&&(null==t||void 0===t[s[0]]))for(var l=0;l<s.length;l++)d(s[l])&&(o+=h(i)+":"+p(i,s[l])+";");else{var a=f(e,t,s);switch(i){case"animation":case"animationName":o+=h(i)+":"+a+";";break;default:o+=i+"{"+a+"}"}}}return o}(e,t,n);case"function":if(void 0!==e){var i=o,s=n(e);return o=i,f(e,t,s)}}if(null==t)return n;var l=t[n];return void 0!==l?l:n}var g=/label:\s*([^\s;{]+)\s*(;|$)/g;function m(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i,s=!0,l="";o=void 0;var a=e[0];null==a||void 0===a.raw?(s=!1,l+=f(n,t,a)):l+=a[0];for(var u=1;u<e.length;u++)l+=f(n,t,e[u]),s&&(l+=a[u]);g.lastIndex=0;for(var c="";null!==(i=g.exec(l));)c+="-"+i[1];return{name:(0,r.default)(l)+c,styles:l,next:o}}}),d("ktXKw",function(t,n){e(t.exports,"default",()=>o);function o(e){for(var t,n=0,o=0,r=e.length;r>=4;++o,r-=4)t=(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))*0x5bd1e995+((t>>>16)*59797<<16),t^=t>>>24,n=(65535&t)*0x5bd1e995+((t>>>16)*59797<<16)^(65535&n)*0x5bd1e995+((n>>>16)*59797<<16);switch(r){case 3:n^=(255&e.charCodeAt(o+2))<<16;case 2:n^=(255&e.charCodeAt(o+1))<<8;case 1:n^=255&e.charCodeAt(o),n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16)}return n^=n>>>13,(((n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16))^n>>>15)>>>0).toString(36)}}),d("dfcQG",function(t,n){e(t.exports,"default",()=>o);var o={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}}),d("eBXpJ",function(t,n){e(t.exports,"useInsertionEffectAlwaysWithSyncFallback",()=>s),e(t.exports,"useInsertionEffectWithLayoutFallback",()=>l);var o=c("fYo6y"),r="undefined"!=typeof document,i=!!o.useInsertionEffect&&o.useInsertionEffect,s=r&&i||function(e){return e()},l=i||o.useLayoutEffect}),d("jzVzt",function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),d("ciBpi",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;let o=(0,n(c("2Iy31")).default)();e.exports.default=o}),d("2Iy31",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e={},...t){let{palette:n,cssVariables:o=!1,colorSchemes:l=!n?{light:!0}:void 0,defaultColorScheme:a=n?.mode,...u}=e,c=a||"light",d=l?.[c],h={...l,...n?{[c]:{..."boolean"!=typeof d&&d,palette:n}}:void 0};if(!1===o){if(!("colorSchemes"in e))return(0,i.default)(e,...t);let o=n;"palette"in e||!h[c]||(!0!==h[c]?o=h[c].palette:"dark"===c&&(o={mode:"dark"}));let r=(0,i.default)({...e,palette:o},...t);return r.defaultColorScheme=c,r.colorSchemes=h,"light"===r.palette.mode&&(r.colorSchemes.light={...!0!==h.light&&h.light,palette:r.palette},s(r,"dark",h.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark={...!0!==h.dark&&h.dark,palette:r.palette},s(r,"light",h.light)),r}return n||"light"in h||"light"!==c||(h.light=!0),(0,r.default)({...u,colorSchemes:h,defaultColorScheme:c,..."boolean"!=typeof o&&o},...t)};var o=n(c("1t1A0")),r=n(c("8UttY")),i=n(c("hBBOJ"));function s(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...!0!==n&&n,palette:(0,o.default)({...!0===n?{}:n.palette,mode:t})})}}),d("1t1A0",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.dark=void 0,e.exports.default=function(e){let t,{mode:n="light",contrastThreshold:c=3,tonalOffset:T=.2,...E}=e,v=e.primary||function(e="light"){return"dark"===e?{main:h.default[200],light:h.default[50],dark:h.default[400]}:{main:h.default[700],light:h.default[400],dark:h.default[800]}}(n),C=e.secondary||function(e="light"){return"dark"===e?{main:a.default[200],light:a.default[50],dark:a.default[400]}:{main:a.default[500],light:a.default[300],dark:a.default[700]}}(n),I=e.error||function(e="light"){return"dark"===e?{main:u.default[500],light:u.default[300],dark:u.default[700]}:{main:u.default[700],light:u.default[400],dark:u.default[800]}}(n),S=e.info||function(e="light"){return"dark"===e?{main:p.default[400],light:p.default[300],dark:p.default[700]}:{main:p.default[700],light:p.default[500],dark:p.default[900]}}(n),w=e.success||function(e="light"){return"dark"===e?{main:f.default[400],light:f.default[300],dark:f.default[700]}:{main:f.default[800],light:f.default[500],dark:f.default[900]}}(n),k=e.warning||function(e="light"){return"dark"===e?{main:d.default[400],light:d.default[300],dark:d.default[700]}:{main:"#ed6c02",light:d.default[500],dark:d.default[900]}}(n);function O(e){return(0,i.getContrastRatio)(e,b.text.primary)>=c?b.text.primary:m.text.primary}let R=({color:e,name:t,mainShade:n=500,lightShade:r=300,darkShade:i=700})=>{if(!(e={...e}).main&&e[n]&&(e.main=e[n]),!e.hasOwnProperty("main"))throw Error((0,o.default)(11,t?` (${t})`:"",n));if("string"!=typeof e.main)throw Error((0,o.default)(12,t?` (${t})`:"",JSON.stringify(e.main)));return y(e,"light",r,T),y(e,"dark",i,T),e.contrastText||(e.contrastText=O(e.main)),e};return"light"===n?t=g():"dark"===n&&(t=_()),(0,r.default)({common:{...s.default},mode:n,primary:R({color:v,name:"primary"}),secondary:R({color:C,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:R({color:I,name:"error"}),warning:R({color:k,name:"warning"}),info:R({color:S,name:"info"}),success:R({color:w,name:"success"}),grey:l.default,contrastThreshold:c,getContrastText:O,augmentColor:R,tonalOffset:T,...t},E)},e.exports.light=void 0;var o=n(c("7N3TZ")),r=n(c("imMZl")),i=c("jjMO3"),s=n(c("9A7I4")),l=n(c("cCO8T")),a=n(c("fINIB")),u=n(c("2cEPS")),d=n(c("S85VQ")),h=n(c("9ONTi")),p=n(c("16vun")),f=n(c("3COFe"));function g(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:s.default.white,default:s.default.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}let m=e.exports.light=g();function _(){return{text:{primary:s.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:s.default.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}let b=e.exports.dark=_();function y(e,t,n,o){let r=o.light||o,s=o.dark||1.5*o;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,i.lighten)(e.main,r):"dark"===t&&(e.dark=(0,i.darken)(e.main,s)))}}),d("jjMO3",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0});var n=c("2LTu3");Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e.exports&&e.exports[t]===n[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return n[t]}}))})}),d("2LTu3",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.alpha=p,e.exports.blend=function(e,t,n,o=1){let r=(e,t)=>Math.round((e**(1/o)*(1-n)+t**(1/o)*n)**o),i=l(e),s=l(t);return u({type:"rgb",values:[r(i.values[0],s.values[0]),r(i.values[1],s.values[1]),r(i.values[2],s.values[2])]})},e.exports.colorChannel=void 0,e.exports.darken=f,e.exports.decomposeColor=l,e.exports.emphasize=m,e.exports.getContrastRatio=function(e,t){let n=h(e),o=h(t);return(Math.max(n,o)+.05)/(Math.min(n,o)+.05)},e.exports.getLuminance=h,e.exports.hexToRgb=s,e.exports.hslToRgb=d,e.exports.lighten=g,e.exports.private_safeAlpha=function(e,t,n){try{return p(e,t)}catch(t){return e}},e.exports.private_safeColorChannel=void 0,e.exports.private_safeDarken=function(e,t,n){try{return f(e,t)}catch(t){return e}},e.exports.private_safeEmphasize=function(e,t,n){try{return m(e,t)}catch(t){return e}},e.exports.private_safeLighten=function(e,t,n){try{return g(e,t)}catch(t){return e}},e.exports.recomposeColor=u,e.exports.rgbToHex=function(e){if(e.startsWith("#"))return e;let{values:t}=l(e);return`#${t.map((e,t)=>(function(e){let t=e.toString(16);return 1===t.length?`0${t}`:t})(3===t?Math.round(255*e):e)).join("")}`};var o=n(c("7N3TZ")),r=n(c("i6UAc"));function i(e,t=0,n=1){return(0,r.default)(e,t,n)}function s(e){e=e.slice(1);let t=RegExp(`.{1,${e.length>=6?2:1}}`,"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?`rgb${4===n.length?"a":""}(${n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", ")})`:""}function l(e){let t;if(e.type)return e;if("#"===e.charAt(0))return l(s(e));let n=e.indexOf("("),r=e.substring(0,n);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw Error((0,o.default)(9,e));let i=e.substring(n+1,e.length-1);if("color"===r){if(t=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(t))throw Error((0,o.default)(10,t))}else i=i.split(",");return{type:r,values:i=i.map(e=>parseFloat(e)),colorSpace:t}}let a=e=>{let t=l(e);return t.values.slice(0,3).map((e,n)=>t.type.includes("hsl")&&0!==n?`${e}%`:e).join(" ")};function u(e){let{type:t,colorSpace:n}=e,{values:o}=e;return t.includes("rgb")?o=o.map((e,t)=>t<3?parseInt(e,10):e):t.includes("hsl")&&(o[1]=`${o[1]}%`,o[2]=`${o[2]}%`),o=t.includes("color")?`${n} ${o.join(" ")}`:`${o.join(", ")}`,`${t}(${o})`}function d(e){let{values:t}=e=l(e),n=t[0],o=t[1]/100,r=t[2]/100,i=o*Math.min(r,1-r),s=(e,t=(e+n/30)%12)=>r-i*Math.max(Math.min(t-3,9-t,1),-1),a="rgb",c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),u({type:a,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return Number((.2126*(t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)))[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=i(t),("rgb"===e.type||"hsl"===e.type)&&(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,u(e)}function f(e,t){if(e=l(e),t=i(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function g(e,t){if(e=l(e),t=i(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function m(e,t=.15){return h(e)>.5?f(e,t):g(e,t)}e.exports.colorChannel=a,e.exports.private_safeColorChannel=(e,t)=>{try{return a(e)}catch(t){return e}}}),d("i6UAc",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("01Rfp"))}),d("01Rfp",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default=function(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}}),d("9A7I4",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default={black:"#000",white:"#fff"}}),d("cCO8T",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"}}),d("fINIB",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"}}),d("2cEPS",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}}),d("S85VQ",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"}}),d("9ONTi",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}}),d("16vun",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"}}),d("3COFe",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}}),d("8UttY",function(e,t){var n=c("2zxFA").default,o=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.createGetCssVar=void 0,e.exports.default=function(e={},...t){var n;let{colorSchemes:o={light:!0},defaultColorScheme:l,disableCssColorScheme:c=!1,cssVarPrefix:p="mui",shouldSkipGeneratingVar:f=g.default,colorSchemeSelector:I=o.light&&o.dark?"media":void 0,rootSelector:S=":root",...w}=e,k=Object.keys(o)[0],O=l||(o.light&&"light"!==k?"light":k),R=v(p),{[O]:x,light:$,dark:A,...N}=o,M={...N},L=x;if(("dark"!==O||"dark"in o)&&("light"!==O||"light"in o)||(L=!0),!L)throw Error((0,r.default)(21,O));let D=C(M,L,w,O);$&&!M.light&&C(M,$,void 0,"light"),A&&!M.dark&&C(M,A,void 0,"dark");let P={defaultColorScheme:O,...D,cssVarPrefix:p,colorSchemeSelector:I,rootSelector:S,getCssVar:R,colorSchemes:M,font:{...(0,u.prepareTypographyVars)(D.typography),...D.font},spacing:"number"==typeof(n=w.spacing)?`${n}px`:"string"==typeof n||"function"==typeof n||Array.isArray(n)?n:"8px"};Object.keys(P.colorSchemes).forEach(e=>{let t=P.colorSchemes[e].palette,n=e=>{let n=e.split("-"),o=n[1],r=n[2];return R(e,t[o][r])};if("light"===t.mode&&(b(t.common,"background","#fff"),b(t.common,"onBackground","#000")),"dark"===t.mode&&(b(t.common,"background","#000"),b(t.common,"onBackground","#fff")),["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach(e=>{t[e]||(t[e]={})}),"light"===t.mode){b(t.Alert,"errorColor",(0,h.private_safeDarken)(t.error.light,.6)),b(t.Alert,"infoColor",(0,h.private_safeDarken)(t.info.light,.6)),b(t.Alert,"successColor",(0,h.private_safeDarken)(t.success.light,.6)),b(t.Alert,"warningColor",(0,h.private_safeDarken)(t.warning.light,.6)),b(t.Alert,"errorFilledBg",n("palette-error-main")),b(t.Alert,"infoFilledBg",n("palette-info-main")),b(t.Alert,"successFilledBg",n("palette-success-main")),b(t.Alert,"warningFilledBg",n("palette-warning-main")),b(t.Alert,"errorFilledColor",E(()=>t.getContrastText(t.error.main))),b(t.Alert,"infoFilledColor",E(()=>t.getContrastText(t.info.main))),b(t.Alert,"successFilledColor",E(()=>t.getContrastText(t.success.main))),b(t.Alert,"warningFilledColor",E(()=>t.getContrastText(t.warning.main))),b(t.Alert,"errorStandardBg",(0,h.private_safeLighten)(t.error.light,.9)),b(t.Alert,"infoStandardBg",(0,h.private_safeLighten)(t.info.light,.9)),b(t.Alert,"successStandardBg",(0,h.private_safeLighten)(t.success.light,.9)),b(t.Alert,"warningStandardBg",(0,h.private_safeLighten)(t.warning.light,.9)),b(t.Alert,"errorIconColor",n("palette-error-main")),b(t.Alert,"infoIconColor",n("palette-info-main")),b(t.Alert,"successIconColor",n("palette-success-main")),b(t.Alert,"warningIconColor",n("palette-warning-main")),b(t.AppBar,"defaultBg",n("palette-grey-100")),b(t.Avatar,"defaultBg",n("palette-grey-400")),b(t.Button,"inheritContainedBg",n("palette-grey-300")),b(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),b(t.Chip,"defaultBorder",n("palette-grey-400")),b(t.Chip,"defaultAvatarColor",n("palette-grey-700")),b(t.Chip,"defaultIconColor",n("palette-grey-700")),b(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),b(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),b(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),b(t.LinearProgress,"primaryBg",(0,h.private_safeLighten)(t.primary.main,.62)),b(t.LinearProgress,"secondaryBg",(0,h.private_safeLighten)(t.secondary.main,.62)),b(t.LinearProgress,"errorBg",(0,h.private_safeLighten)(t.error.main,.62)),b(t.LinearProgress,"infoBg",(0,h.private_safeLighten)(t.info.main,.62)),b(t.LinearProgress,"successBg",(0,h.private_safeLighten)(t.success.main,.62)),b(t.LinearProgress,"warningBg",(0,h.private_safeLighten)(t.warning.main,.62)),b(t.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.11)`),b(t.Slider,"primaryTrack",(0,h.private_safeLighten)(t.primary.main,.62)),b(t.Slider,"secondaryTrack",(0,h.private_safeLighten)(t.secondary.main,.62)),b(t.Slider,"errorTrack",(0,h.private_safeLighten)(t.error.main,.62)),b(t.Slider,"infoTrack",(0,h.private_safeLighten)(t.info.main,.62)),b(t.Slider,"successTrack",(0,h.private_safeLighten)(t.success.main,.62)),b(t.Slider,"warningTrack",(0,h.private_safeLighten)(t.warning.main,.62));let e=(0,h.private_safeEmphasize)(t.background.default,.8);b(t.SnackbarContent,"bg",e),b(t.SnackbarContent,"color",E(()=>t.getContrastText(e))),b(t.SpeedDialAction,"fabHoverBg",(0,h.private_safeEmphasize)(t.background.paper,.15)),b(t.StepConnector,"border",n("palette-grey-400")),b(t.StepContent,"border",n("palette-grey-400")),b(t.Switch,"defaultColor",n("palette-common-white")),b(t.Switch,"defaultDisabledColor",n("palette-grey-100")),b(t.Switch,"primaryDisabledColor",(0,h.private_safeLighten)(t.primary.main,.62)),b(t.Switch,"secondaryDisabledColor",(0,h.private_safeLighten)(t.secondary.main,.62)),b(t.Switch,"errorDisabledColor",(0,h.private_safeLighten)(t.error.main,.62)),b(t.Switch,"infoDisabledColor",(0,h.private_safeLighten)(t.info.main,.62)),b(t.Switch,"successDisabledColor",(0,h.private_safeLighten)(t.success.main,.62)),b(t.Switch,"warningDisabledColor",(0,h.private_safeLighten)(t.warning.main,.62)),b(t.TableCell,"border",(0,h.private_safeLighten)((0,h.private_safeAlpha)(t.divider,1),.88)),b(t.Tooltip,"bg",(0,h.private_safeAlpha)(t.grey[700],.92))}if("dark"===t.mode){b(t.Alert,"errorColor",(0,h.private_safeLighten)(t.error.light,.6)),b(t.Alert,"infoColor",(0,h.private_safeLighten)(t.info.light,.6)),b(t.Alert,"successColor",(0,h.private_safeLighten)(t.success.light,.6)),b(t.Alert,"warningColor",(0,h.private_safeLighten)(t.warning.light,.6)),b(t.Alert,"errorFilledBg",n("palette-error-dark")),b(t.Alert,"infoFilledBg",n("palette-info-dark")),b(t.Alert,"successFilledBg",n("palette-success-dark")),b(t.Alert,"warningFilledBg",n("palette-warning-dark")),b(t.Alert,"errorFilledColor",E(()=>t.getContrastText(t.error.dark))),b(t.Alert,"infoFilledColor",E(()=>t.getContrastText(t.info.dark))),b(t.Alert,"successFilledColor",E(()=>t.getContrastText(t.success.dark))),b(t.Alert,"warningFilledColor",E(()=>t.getContrastText(t.warning.dark))),b(t.Alert,"errorStandardBg",(0,h.private_safeDarken)(t.error.light,.9)),b(t.Alert,"infoStandardBg",(0,h.private_safeDarken)(t.info.light,.9)),b(t.Alert,"successStandardBg",(0,h.private_safeDarken)(t.success.light,.9)),b(t.Alert,"warningStandardBg",(0,h.private_safeDarken)(t.warning.light,.9)),b(t.Alert,"errorIconColor",n("palette-error-main")),b(t.Alert,"infoIconColor",n("palette-info-main")),b(t.Alert,"successIconColor",n("palette-success-main")),b(t.Alert,"warningIconColor",n("palette-warning-main")),b(t.AppBar,"defaultBg",n("palette-grey-900")),b(t.AppBar,"darkBg",n("palette-background-paper")),b(t.AppBar,"darkColor",n("palette-text-primary")),b(t.Avatar,"defaultBg",n("palette-grey-600")),b(t.Button,"inheritContainedBg",n("palette-grey-800")),b(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),b(t.Chip,"defaultBorder",n("palette-grey-700")),b(t.Chip,"defaultAvatarColor",n("palette-grey-300")),b(t.Chip,"defaultIconColor",n("palette-grey-300")),b(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),b(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),b(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),b(t.LinearProgress,"primaryBg",(0,h.private_safeDarken)(t.primary.main,.5)),b(t.LinearProgress,"secondaryBg",(0,h.private_safeDarken)(t.secondary.main,.5)),b(t.LinearProgress,"errorBg",(0,h.private_safeDarken)(t.error.main,.5)),b(t.LinearProgress,"infoBg",(0,h.private_safeDarken)(t.info.main,.5)),b(t.LinearProgress,"successBg",(0,h.private_safeDarken)(t.success.main,.5)),b(t.LinearProgress,"warningBg",(0,h.private_safeDarken)(t.warning.main,.5)),b(t.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.13)`),b(t.Slider,"primaryTrack",(0,h.private_safeDarken)(t.primary.main,.5)),b(t.Slider,"secondaryTrack",(0,h.private_safeDarken)(t.secondary.main,.5)),b(t.Slider,"errorTrack",(0,h.private_safeDarken)(t.error.main,.5)),b(t.Slider,"infoTrack",(0,h.private_safeDarken)(t.info.main,.5)),b(t.Slider,"successTrack",(0,h.private_safeDarken)(t.success.main,.5)),b(t.Slider,"warningTrack",(0,h.private_safeDarken)(t.warning.main,.5));let e=(0,h.private_safeEmphasize)(t.background.default,.98);b(t.SnackbarContent,"bg",e),b(t.SnackbarContent,"color",E(()=>t.getContrastText(e))),b(t.SpeedDialAction,"fabHoverBg",(0,h.private_safeEmphasize)(t.background.paper,.15)),b(t.StepConnector,"border",n("palette-grey-600")),b(t.StepContent,"border",n("palette-grey-600")),b(t.Switch,"defaultColor",n("palette-grey-300")),b(t.Switch,"defaultDisabledColor",n("palette-grey-600")),b(t.Switch,"primaryDisabledColor",(0,h.private_safeDarken)(t.primary.main,.55)),b(t.Switch,"secondaryDisabledColor",(0,h.private_safeDarken)(t.secondary.main,.55)),b(t.Switch,"errorDisabledColor",(0,h.private_safeDarken)(t.error.main,.55)),b(t.Switch,"infoDisabledColor",(0,h.private_safeDarken)(t.info.main,.55)),b(t.Switch,"successDisabledColor",(0,h.private_safeDarken)(t.success.main,.55)),b(t.Switch,"warningDisabledColor",(0,h.private_safeDarken)(t.warning.main,.55)),b(t.TableCell,"border",(0,h.private_safeDarken)((0,h.private_safeAlpha)(t.divider,1),.68)),b(t.Tooltip,"bg",(0,h.private_safeAlpha)(t.grey[700],.92))}T(t.background,"default"),T(t.background,"paper"),T(t.common,"background"),T(t.common,"onBackground"),T(t,"divider"),Object.keys(t).forEach(e=>{let n=t[e];"tonalOffset"!==e&&n&&"object"==typeof n&&(n.main&&b(t[e],"mainChannel",(0,h.private_safeColorChannel)(y(n.main))),n.light&&b(t[e],"lightChannel",(0,h.private_safeColorChannel)(y(n.light))),n.dark&&b(t[e],"darkChannel",(0,h.private_safeColorChannel)(y(n.dark))),n.contrastText&&b(t[e],"contrastTextChannel",(0,h.private_safeColorChannel)(y(n.contrastText))),"text"===e&&(T(t[e],"primary"),T(t[e],"secondary")),"action"===e&&(n.active&&T(t[e],"active"),n.selected&&T(t[e],"selected")))})}),P=t.reduce((e,t)=>(0,i.default)(e,t),P);let B={prefix:p,disableCssColorScheme:c,shouldSkipGeneratingVar:f,getSelector:(0,m.default)(P)},{vars:F,generateThemeVars:U,generateStyleSheets:H}=(0,u.prepareCssVars)(P,B);return P.vars=F,Object.entries(P.colorSchemes[P.defaultColorScheme]).forEach(([e,t])=>{P[e]=t}),P.generateThemeVars=U,P.generateStyleSheets=H,P.generateSpacing=function(){return(0,s.default)(w.spacing,(0,a.createUnarySpacing)(this))},P.getColorSchemeSelector=(0,u.createGetColorSchemeSelector)(I),P.spacing=P.generateSpacing(),P.shouldSkipGeneratingVar=f,P.unstable_sxConfig={...d.unstable_defaultSxConfig,...w?.unstable_sxConfig},P.unstable_sx=function(e){return(0,d.default)({sx:e,theme:this})},P.toRuntimeSource=_.stringifyTheme,P};var r=o(c("7N3TZ")),i=o(c("imMZl")),s=c("76lab"),l=c("3CKx6"),a=c("53z5O"),u=c("181wQ"),d=n(c("7eSM9")),h=c("jjMO3"),p=o(c("hBBOJ")),f=n(c("6cWsl")),g=o(c("5lb6R")),m=o(c("3RYwZ")),_=c("aQ9kk");function b(e,t,n){!e[t]&&n&&(e[t]=n)}function y(e){return"string"==typeof e&&e.startsWith("hsl")?(0,h.hslToRgb)(e):e}function T(e,t){`${t}Channel`in e||(e[`${t}Channel`]=(0,h.private_safeColorChannel)(y(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}let E=e=>{try{return e()}catch(e){}},v=(e="mui")=>(0,l.default)(e);function C(e,t,n,o){if(!t)return;t=!0===t?{}:t;let r="dark"===o?"dark":"light";if(!n){e[o]=(0,f.default)({...t,palette:{mode:r,...t?.palette}});return}let{palette:i,...s}=(0,p.default)({...n,palette:{mode:r,...t?.palette}});return e[o]={...t,palette:i,opacity:{...(0,f.getOpacity)(r),...t?.opacity},overlays:t?.overlays||(0,f.getOverlays)(r)},s}e.exports.createGetCssVar=v}),d("3CKx6",function(t,n){e(t.exports,"default",()=>o);function o(e=""){return(t,...n)=>`var(--${e?`${e}-`:""}${t}${function t(...n){if(!n.length)return"";let o=n[0];return"string"!=typeof o||o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, ${o}`:`, var(--${e?`${e}-`:""}${o}${t(...n.slice(1))})`}(...n)})`}}),d("181wQ",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"createCssVarsTheme",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e.exports,"createGetColorSchemeSelector",{enumerable:!0,get:function(){return l.createGetColorSchemeSelector}}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e.exports,"prepareCssVars",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e.exports,"prepareTypographyVars",{enumerable:!0,get:function(){return i.default}});var o=n(c("606R4")),r=n(c("gtbwI")),i=n(c("dwaMG")),s=n(c("2zI2V")),l=c("7lgdP")}),d("606R4",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.DISABLE_CSS_TRANSITION=void 0,e.exports.default=function(e){let{themeId:t,theme:n={},modeStorageKey:o=u.DEFAULT_MODE_STORAGE_KEY,colorSchemeStorageKey:c=u.DEFAULT_COLOR_SCHEME_STORAGE_KEY,disableTransitionOnChange:f=!1,defaultColorScheme:g,resolveTheme:m}=e,_={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},b=r.createContext(void 0),y={},T={},E="string"==typeof g?g:g.light,v="string"==typeof g?g:g.dark;return{CssVarsProvider:function(e){let{children:u,theme:_,modeStorageKey:E=o,colorSchemeStorageKey:v=c,disableTransitionOnChange:C=f,storageManager:I,storageWindow:S="undefined"==typeof window?void 0:window,documentNode:w="undefined"==typeof document?void 0:document,colorSchemeNode:k="undefined"==typeof document?void 0:document.documentElement,disableNestedContext:O=!1,disableStyleSheetGeneration:R=!1,defaultMode:x="system",forceThemeRerender:$=!1,noSsr:A}=e,N=r.useRef(!1),M=(0,s.default)(),L=r.useContext(b),D=!!L&&!O,P=r.useMemo(()=>_||("function"==typeof n?n():n),[_]),B=P[t],F=B||P,{colorSchemes:U=y,components:H=T,cssVarPrefix:V}=F,G=Object.keys(U).filter(e=>!!U[e]).join(","),j=r.useMemo(()=>G.split(","),[G]),W="string"==typeof g?g:g.light,z="string"==typeof g?g:g.dark,X=U[W]&&U[z]?x:U[F.defaultColorScheme]?.palette?.mode||F.palette?.mode,{mode:Y,setMode:K,systemMode:J,lightColorScheme:Z,darkColorScheme:q,colorScheme:Q,setColorScheme:ee}=(0,d.default)({supportedColorSchemes:j,defaultLightColorScheme:W,defaultDarkColorScheme:z,modeStorageKey:E,colorSchemeStorageKey:v,defaultMode:X,storageManager:I,storageWindow:S,noSsr:A}),et=Y,en=Q;D&&(et=L.mode,en=L.colorScheme);let eo=en||F.defaultColorScheme;F.vars&&!$&&(eo=F.defaultColorScheme);let er=r.useMemo(()=>{let e=F.generateThemeVars?.()||F.vars,t={...F,components:H,colorSchemes:U,cssVarPrefix:V,vars:e};if("function"==typeof t.generateSpacing&&(t.spacing=t.generateSpacing()),eo){let e=U[eo];e&&"object"==typeof e&&Object.keys(e).forEach(n=>{e[n]&&"object"==typeof e[n]?t[n]={...t[n],...e[n]}:t[n]=e[n]})}return m?m(t):t},[F,eo,H,U,V]),ei=F.colorSchemeSelector;(0,l.default)(()=>{if(en&&k&&ei&&"media"!==ei){let e=ei;if("class"===ei&&(e=".%s"),"data"===ei&&(e="[data-%s]"),ei?.startsWith("data-")&&!ei.includes("%s")&&(e=`[${ei}="%s"]`),e.startsWith("."))k.classList.remove(...j.map(t=>e.substring(1).replace("%s",t))),k.classList.add(e.substring(1).replace("%s",en));else{let t=e.replace("%s",en).match(/\[([^\]]+)\]/);if(t){let[e,n]=t[1].split("=");n||j.forEach(t=>{k.removeAttribute(e.replace(en,t))}),k.setAttribute(e,n?n.replace(/"|'/g,""):"")}else k.setAttribute(e,en)}}},[en,ei,k,j]),r.useEffect(()=>{let e;if(C&&N.current&&w){let t=w.createElement("style");t.appendChild(w.createTextNode(p)),w.head.appendChild(t),window.getComputedStyle(w.body),e=setTimeout(()=>{w.head.removeChild(t)},1)}return()=>{clearTimeout(e)}},[en,C,w]),r.useEffect(()=>(N.current=!0,()=>{N.current=!1}),[]);let es=r.useMemo(()=>({allColorSchemes:j,colorScheme:en,darkColorScheme:q,lightColorScheme:Z,mode:et,setColorScheme:ee,setMode:K,systemMode:J}),[j,en,q,Z,et,ee,K,J,er.colorSchemeSelector]),el=!0;(R||!1===F.cssVariables||D&&M?.cssVarPrefix===V)&&(el=!1);let ea=(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.default,{themeId:B?t:void 0,theme:er,children:u}),el&&(0,h.jsx)(i.default,{styles:er.generateStyleSheets?.()||[]})]});return D?ea:(0,h.jsx)(b.Provider,{value:es,children:ea})},useColorScheme:()=>r.useContext(b)||_,getInitColorSchemeScript:e=>(0,u.default)({colorSchemeStorageKey:c,defaultLightColorScheme:E,defaultDarkColorScheme:v,modeStorageKey:o,...e})}};var r=o(c("fYo6y"));n(c("iCIOI"));var i=c("9bF5r"),s=c("hgo8M"),l=n(c("6SHPY")),a=n(c("bk6tm")),u=o(c("32RsB")),d=n(c("7EmH7")),h=c("iM5HV");let p=e.exports.DISABLE_CSS_TRANSITION="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}"}),d("9bF5r",function(t,n){e(t.exports,"default",()=>i),c("fYo6y");var o=c("d9QWq"),r=c("iM5HV");function i(e){let{styles:t,defaultTheme:n={}}=e,i="function"==typeof t?e=>t(null==e||0===Object.keys(e).length?n:e):t;return(0,r.jsx)(o.Global,{styles:i})}}),d("iM5HV",function(e,t){e.exports=c("59OBb")}),d("hgo8M",function(t,n){e(t.exports,"default",()=>i);var o=c("fYo6y"),r=c("miWTa");function i(){return o.useContext(r.default)}}),d("miWTa",function(t,n){e(t.exports,"default",()=>o);var o=c("fYo6y").createContext(null)}),d("6SHPY",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("jfJ62"))}),d("jfJ62",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("fYo6y"));let r="undefined"!=typeof window?o.useLayoutEffect:o.useEffect;e.exports.default=r}),d("bk6tm",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("ivjf0"))}),d("ivjf0",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=c("7wZkR"),s=c("hgo8M");n(c("7UKsc")),c("d9QWq");var l=c("42Bn5"),a=n(c("e9C6N")),u=n(c("fLdxf")),d=n(c("1PiaP")),h=c("iM5HV");let p={};function f(e,t,n,o=!1){return r.useMemo(()=>{let r=e&&t[e]||t;if("function"==typeof n){let i=n(r),s=e?{...t,[e]:i}:i;return o?()=>s:s}return e?{...t,[e]:n}:{...t,...n}},[e,t,n,o])}e.exports.default=function(e){let{children:t,theme:n,themeId:o}=e,r=(0,a.default)(p),c=(0,s.default)()||p,g=f(o,r,n),m=f(o,c,n,!0),_="rtl"===(o?g[o]:g).direction;return(0,h.jsx)(i.default,{theme:m,children:(0,h.jsx)(l.T.Provider,{value:g,children:(0,h.jsx)(u.default,{value:_,children:(0,h.jsx)(d.default,{value:o?g[o].components:g.components,children:t})})})})}}),d("7wZkR",function(t,n){e(t.exports,"default",()=>a);var o=c("fYo6y"),r=c("miWTa"),i=c("hgo8M"),s=c("2PfKU"),l=c("iM5HV"),a=function(e){let{children:t,theme:n}=e,a=(0,i.default)(),u=o.useMemo(()=>{let e=null===a?{...n}:"function"==typeof n?n(a):{...a,...n};return null!=e&&(e[s.default]=null!==a),e},[n,a]);return(0,l.jsx)(r.default.Provider,{value:u,children:t})}}),d("2PfKU",function(t,n){e(t.exports,"default",()=>o);var o="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__"}),d("7UKsc",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("2apts"))}),d("2apts",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return e}}),d("e9C6N",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("cn6Ck"))}),d("cn6Ck",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("fYo6y"));c("d9QWq");var r=c("42Bn5");e.exports.default=function(e=null){let t=o.useContext(r.T);return t&&0!==Object.keys(t).length?t:e}}),d("fLdxf",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.useRtl=e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=c("iM5HV");let s=r.createContext();e.exports.useRtl=()=>r.useContext(s)??!1,e.exports.default=function({value:e,...t}){return(0,i.jsx)(s.Provider,{value:e??!0,...t})}}),d("1PiaP",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e.exports,"useDefaultProps",{enumerable:!0,get:function(){return o.useDefaultProps}});var o=n(c("ax00P"))}),d("ax00P",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.useDefaultProps=function({props:e,name:t}){let{theme:n,name:o,props:s}={props:e,name:t,theme:{components:r.useContext(l)}};if(!n||!n.components||!n.components[o])return s;let a=n.components[o];return a.defaultProps?(0,i.default)(a.defaultProps,s):a.styleOverrides||a.variants?s:(0,i.default)(a,s)};var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("5sN54")),s=c("iM5HV");let l=r.createContext(void 0);e.exports.default=function({value:e,children:t}){return(0,s.jsx)(l.Provider,{value:e,children:t})}}),d("5sN54",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("hpi2l"))}),d("hpi2l",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function e(t,n){let o={...n};for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r))if("components"===r||"slots"===r)o[r]={...t[r],...o[r]};else if("componentsProps"===r||"slotProps"===r){let i=t[r],s=n[r];if(s)if(i)for(let t in o[r]={...s},i)Object.prototype.hasOwnProperty.call(i,t)&&(o[r][t]=e(i[t],s[t]));else o[r]=s;else o[r]=i||{}}else void 0===o[r]&&(o[r]=t[r]);return o}}),d("32RsB",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.DEFAULT_MODE_STORAGE_KEY=e.exports.DEFAULT_COLOR_SCHEME_STORAGE_KEY=e.exports.DEFAULT_ATTRIBUTE=void 0,e.exports.default=function(e){let{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:l="dark",modeStorageKey:a=r,colorSchemeStorageKey:u=i,attribute:c=s,colorSchemeNode:d="document.documentElement",nonce:h}=e||{},p="",f=c;if("class"===c&&(f=".%s"),"data"===c&&(f="[data-%s]"),f.startsWith(".")){let e=f.substring(1);p+=`${d}.classList.remove('${e}'.replace('%s', light), '${e}'.replace('%s', dark));
      ${d}.classList.add('${e}'.replace('%s', colorScheme));`}let g=f.match(/\[([^\]]+)\]/);if(g){let[e,t]=g[1].split("=");t||(p+=`${d}.removeAttribute('${e}'.replace('%s', light));
      ${d}.removeAttribute('${e}'.replace('%s', dark));`),p+=`
      ${d}.setAttribute('${e}'.replace('%s', colorScheme), ${t?`${t}.replace('%s', colorScheme)`:'""'});`}else p+=`${d}.setAttribute('${f}', colorScheme);`;return(0,o.jsx)("script",{suppressHydrationWarning:!0,nonce:"undefined"==typeof window?h:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${a}') || '${t}';
  const dark = localStorage.getItem('${u}-dark') || '${l}';
  const light = localStorage.getItem('${u}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${p}
  }
} catch(e){}})();`}},"mui-color-scheme-init")},n(c("fYo6y"));var o=c("iM5HV");let r=e.exports.DEFAULT_MODE_STORAGE_KEY="mode",i=e.exports.DEFAULT_COLOR_SCHEME_STORAGE_KEY="color-scheme",s=e.exports.DEFAULT_ATTRIBUTE="data-color-scheme"}),d("7EmH7",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){let{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:o,supportedColorSchemes:c=[],modeStorageKey:h=i.DEFAULT_MODE_STORAGE_KEY,colorSchemeStorageKey:p=i.DEFAULT_COLOR_SCHEME_STORAGE_KEY,storageWindow:f="undefined"==typeof window?void 0:window,storageManager:g=s.default,noSsr:m=!1}=e,_=c.join(","),b=c.length>1,y=r.useMemo(()=>g?.({key:h,storageWindow:f}),[g,h,f]),T=r.useMemo(()=>g?.({key:`${p}-light`,storageWindow:f}),[g,p,f]),E=r.useMemo(()=>g?.({key:`${p}-dark`,storageWindow:f}),[g,p,f]),[v,C]=r.useState(()=>{let e=y?.get(t)||t,r=T?.get(n)||n,i=E?.get(o)||o;return{mode:e,systemMode:a(e),lightColorScheme:r,darkColorScheme:i}}),[I,S]=r.useState(m||!b);r.useEffect(()=>{S(!0)},[]);let w=d(v),k=r.useCallback(e=>{C(n=>{if(e===n.mode)return n;let o=e??t;return y?.set(o),{...n,mode:o,systemMode:a(o)}})},[y,t]),O=r.useCallback(e=>{e?"string"==typeof e?e&&!_.includes(e)?console.error(`\`${e}\` does not exist in \`theme.colorSchemes\`.`):C(t=>{let n={...t};return u(t,t=>{"light"===t&&(T?.set(e),n.lightColorScheme=e),"dark"===t&&(E?.set(e),n.darkColorScheme=e)}),n}):C(t=>{let r={...t},i=null===e.light?n:e.light,s=null===e.dark?o:e.dark;return i&&(_.includes(i)?(r.lightColorScheme=i,T?.set(i)):console.error(`\`${i}\` does not exist in \`theme.colorSchemes\`.`)),s&&(_.includes(s)?(r.darkColorScheme=s,E?.set(s)):console.error(`\`${s}\` does not exist in \`theme.colorSchemes\`.`)),r}):C(e=>(T?.set(n),E?.set(o),{...e,lightColorScheme:n,darkColorScheme:o}))},[_,T,E,n,o]),R=r.useCallback(e=>{"system"===v.mode&&C(t=>{let n=e?.matches?"dark":"light";return t.systemMode===n?t:{...t,systemMode:n}})},[v.mode]),x=r.useRef(R);return x.current=R,r.useEffect(()=>{if("function"!=typeof window.matchMedia||!b)return;let e=(...e)=>x.current(...e),t=window.matchMedia("(prefers-color-scheme: dark)");return t.addListener(e),e(t),()=>{t.removeListener(e)}},[b]),r.useEffect(()=>{if(b){let e=y?.subscribe(e=>{(!e||["light","dark","system"].includes(e))&&k(e||t)})||l,n=T?.subscribe(e=>{(!e||_.match(e))&&O({light:e})})||l,o=E?.subscribe(e=>{(!e||_.match(e))&&O({dark:e})})||l;return()=>{e(),n(),o()}}},[O,k,_,t,f,b,y,T,E]),{...v,mode:I?v.mode:void 0,systemMode:I?v.systemMode:void 0,colorScheme:I?w:void 0,setMode:k,setColorScheme:O}},e.exports.getColorScheme=d,e.exports.getSystemMode=a;var r=o(c("fYo6y")),i=c("32RsB"),s=n(c("e3Y3s"));function l(){}function a(e){if("undefined"!=typeof window&&"function"==typeof window.matchMedia&&"system"===e)return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function u(e,t){return"light"===e.mode||"system"===e.mode&&"light"===e.systemMode?t("light"):"dark"===e.mode||"system"===e.mode&&"dark"===e.systemMode?t("dark"):void 0}function d(e){return u(e,t=>"light"===t?e.lightColorScheme:"dark"===t?e.darkColorScheme:void 0)}}),d("e3Y3s",function(e,t){function n(){}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default=({key:e,storageWindow:t})=>(t||"undefined"==typeof window||(t=window),{get(n){let o;if("undefined"!=typeof window){if(!t)return n;try{o=t.localStorage.getItem(e)}catch{}return o||n}},set:n=>{if(t)try{t.localStorage.setItem(e,n)}catch{}},subscribe:o=>{if(!t)return n;let r=t=>{let n=t.newValue;t.key===e&&o(n)};return t.addEventListener("storage",r),()=>{t.removeEventListener("storage",r)}}})}),d("gtbwI",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("imMZl")),r=n(c("l8afZ"));e.exports.default=function(e,t={}){let{getSelector:n=function(t,n){let o=s;if("class"===s&&(o=".%s"),"data"===s&&(o="[data-%s]"),s?.startsWith("data-")&&!s.includes("%s")&&(o=`[${s}="%s"]`),t){if("media"===o){if(e.defaultColorScheme===t)return":root";let o=l[t]?.palette?.mode||t;return{[`@media (prefers-color-scheme: ${o})`]:{":root":n}}}if(o)return e.defaultColorScheme===t?`:root, ${o.replace("%s",String(t))}`:o.replace("%s",String(t))}return":root"},disableCssColorScheme:i,colorSchemeSelector:s}=t,{colorSchemes:l={},components:a,defaultColorScheme:u="light",...c}=e,{vars:d,css:h,varsWithDefaults:p}=(0,r.default)(c,t),f=p,g={},{[u]:m,..._}=l;if(Object.entries(_||{}).forEach(([e,n])=>{let{vars:i,css:s,varsWithDefaults:l}=(0,r.default)(n,t);f=(0,o.default)(f,l),g[e]={css:s,vars:i}}),m){let{css:e,vars:n,varsWithDefaults:i}=(0,r.default)(m,t);f=(0,o.default)(f,i),g[u]={css:e,vars:n}}return{vars:f,generateThemeVars:()=>{let e={...d};return Object.entries(g).forEach(([,{vars:t}])=>{e=(0,o.default)(e,t)}),e},generateStyleSheets:()=>{let t=[],o=e.defaultColorScheme||"light";function r(e,n){Object.keys(n).length&&t.push("string"==typeof e?{[e]:{...n}}:e)}r(n(void 0,{...h}),h);let{[o]:s,...a}=g;if(s){let{css:e}=s,t=l[o]?.palette?.mode,a=!i&&t?{colorScheme:t,...e}:{...e};r(n(o,{...a}),a)}return Object.entries(a).forEach(([e,{css:t}])=>{let o=l[e]?.palette?.mode,s=!i&&o?{colorScheme:o,...t}:{...t};r(n(e,{...s}),s)}),t}}}}),d("l8afZ",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.assignNestedKeys=void 0,e.exports.default=function(e,t){let{prefix:i,shouldSkipGeneratingVar:s}=t||{},l={},a={},u={};return o(e,(e,t,o)=>{if(("string"==typeof t||"number"==typeof t)&&(!s||!s(e,t))){let s=`--${i?`${i}-`:""}${e.join("-")}`,c=r(e,t);Object.assign(l,{[s]:c}),n(a,e,`var(${s})`,o),n(u,e,`var(${s}, ${c})`,o)}},e=>"vars"===e[0]),{css:l,vars:a,varsWithDefaults:u}},e.exports.walkObjectDeep=void 0;let n=(e,t,n,o=[])=>{let r=e;t.forEach((e,i)=>{i===t.length-1?Array.isArray(r)?r[Number(e)]=n:r&&"object"==typeof r&&(r[e]=n):r&&"object"==typeof r&&(r[e]||(r[e]=o.includes(e)?[]:{}),r=r[e])})};e.exports.assignNestedKeys=n;let o=(e,t,n)=>{!function e(o,r=[],i=[]){Object.entries(o).forEach(([o,s])=>{n&&(!n||n([...r,o]))||null==s||("object"==typeof s&&Object.keys(s).length>0?e(s,[...r,o],Array.isArray(s)?[...i,o]:i):t([...r,o],s,i))})}(e)};e.exports.walkObjectDeep=o;let r=(e,t)=>"number"==typeof t?["lineHeight","fontWeight","opacity","zIndex"].some(t=>e.includes(t))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t}),d("dwaMG",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){let t={};return Object.entries(e).forEach(e=>{let[n,o]=e;"object"==typeof o&&(t[n]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),t}}),d("2zI2V",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("gtbwI")),r=c("7lgdP"),i=c("32RsB");e.exports.default=function({colorSchemeSelector:e=`[${i.DEFAULT_ATTRIBUTE}="%s"]`,...t}){let n=(0,o.default)(t,{...t,prefix:t.cssVarPrefix,colorSchemeSelector:e});return t.vars=n.vars,t.generateThemeVars=n.generateThemeVars,t.generateStyleSheets=n.generateStyleSheets,t.colorSchemeSelector=e,t.getColorSchemeSelector=(0,r.createGetColorSchemeSelector)(e),t}}),d("7lgdP",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.createGetColorSchemeSelector=function(e){return function(t){return"media"===e?`@media (prefers-color-scheme: ${t})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${t}"] &`:"class"===e?`.${t} &`:"data"===e?`[data-${t}] &`:`${e.replace("%s",t)} &`:"&"}}}),d("hBBOJ",function(e,t){var n=c("2zxFA").default,o=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("7N3TZ")),i=o(c("imMZl")),s=n(c("7eSM9")),l=o(c("fmwDL"));o(c("gfTbt"));var a=o(c("gmoPj")),u=o(c("1t1A0")),d=o(c("hHSyD")),h=o(c("37kga")),p=o(c("8YDX9")),f=o(c("4V6IE")),g=c("aQ9kk");e.exports.default=function(e={},...t){let{breakpoints:n,mixins:o={},spacing:c,palette:m={},transitions:_={},typography:b={},shape:y,...T}=e;if(e.vars&&void 0===e.generateThemeVars)throw Error((0,r.default)(20));let E=(0,u.default)(m),v=(0,l.default)(e),C=(0,i.default)(v,{mixins:(0,a.default)(v.breakpoints,o),palette:E,shadows:h.default.slice(),typography:(0,d.default)(E,b),transitions:(0,p.default)(_),zIndex:{...f.default}});return C=(0,i.default)(C,T),(C=t.reduce((e,t)=>(0,i.default)(e,t),C)).unstable_sxConfig={...s.unstable_defaultSxConfig,...T?.unstable_sxConfig},C.unstable_sx=function(e){return(0,s.default)({sx:e,theme:this})},C.toRuntimeSource=g.stringifyTheme,C}}),d("fmwDL",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e.exports,"private_createBreakpoints",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e.exports,"unstable_applyStyles",{enumerable:!0,get:function(){return i.default}});var o=n(c("kIkP3")),r=n(c("k0PbI")),i=n(c("ivJwq"))}),d("kIkP3",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("imMZl")),r=n(c("k0PbI")),i=n(c("5P7Z1")),s=n(c("eJvha")),l=n(c("2xTNB")),a=n(c("2jffJ")),u=n(c("7bsBj")),d=n(c("ivJwq"));e.exports.default=function(e={},...t){let{breakpoints:n={},palette:c={},spacing:h,shape:p={},...f}=e,g=(0,r.default)(n),m=(0,l.default)(h),_=(0,o.default)({breakpoints:g,direction:"ltr",components:{},palette:{mode:"light",...c},spacing:m,shape:{...s.default,...p}},f);return(_=(0,i.default)(_)).applyStyles=d.default,(_=t.reduce((e,t)=>(0,o.default)(e,t),_)).unstable_sxConfig={...u.default,...f?.unstable_sxConfig},_.unstable_sx=function(e){return(0,a.default)({sx:e,theme:this})},_}}),d("k0PbI",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.breakpointKeys=void 0,e.exports.default=function(e){let{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:o="px",step:r=5,...i}=e,s=n(t),l=Object.keys(s);function a(e){let n="number"==typeof t[e]?t[e]:e;return`@media (min-width:${n}${o})`}function u(e){let n="number"==typeof t[e]?t[e]:e;return`@media (max-width:${n-r/100}${o})`}function c(e,n){let i=l.indexOf(n);return`@media (min-width:${"number"==typeof t[e]?t[e]:e}${o}) and (max-width:${(-1!==i&&"number"==typeof t[l[i]]?t[l[i]]:n)-r/100}${o})`}return{keys:l,values:s,up:a,down:u,between:c,only:function(e){return l.indexOf(e)+1<l.length?c(e,l[l.indexOf(e)+1]):a(e)},not:function(e){let t=l.indexOf(e);return 0===t?a(l[1]):t===l.length-1?u(l[t]):c(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:o,...i}},e.exports.breakpointKeys=["xs","sm","md","lg","xl"];let n=e=>{let t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>({...e,[t.key]:t.val}),{})}}),d("eJvha",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default={borderRadius:4}}),d("2xTNB",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e=8,t=(0,n.createUnarySpacing)({spacing:e})){if(e.mui)return e;let o=(...e)=>(0===e.length?[1]:e).map(e=>{let n=t(e);return"number"==typeof n?`${n}px`:n}).join(" ");return o.mui=!0,o};var n=c("53z5O")}),d("ivJwq",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(this.vars){if(!this.colorSchemes?.[e]||"function"!=typeof this.getColorSchemeSelector)return{};let n=this.getColorSchemeSelector(e);return"&"===n?t:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:t})}return this.palette.mode===e?t:{}}}),d("gfTbt",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var o={};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return r.default}});var r=n(c("gAEdY"));Object.keys(r).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(o,t))&&(t in e.exports&&e.exports[t]===r[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return r[t]}}))})}),d("gAEdY",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n="Mui"){let i=r[t];return i?`${n}-${i}`:`${o.default.generate(e)}-${t}`},e.exports.globalStateClasses=void 0,e.exports.isGlobalState=function(e){return void 0!==r[e]};var o=n(c("ckrdk"));let r=e.exports.globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"}}),d("ckrdk",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("2XqaW"))}),d("2XqaW",function(e,t){let n;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;let o=e=>e,r=(n=o,{configure(e){n=e},generate:e=>n(e),reset(){n=o}});e.exports.default=r}),d("gmoPj",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}}),d("hHSyD",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){let{fontFamily:n=i,fontSize:s=14,fontWeightLight:l=300,fontWeightRegular:a=400,fontWeightMedium:u=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:h,pxToRem:p,...f}="function"==typeof t?t(e):t,g=s/14,m=p||(e=>`${e/d*g}rem`),_=(e,t,o,r,s)=>({fontFamily:n,fontWeight:e,fontSize:m(t),lineHeight:o,...n===i?{letterSpacing:`${Math.round(r/t*1e5)/1e5}em`}:{},...s,...h}),b={h1:_(l,96,1.167,-1.5),h2:_(l,60,1.2,-.5),h3:_(a,48,1.167,0),h4:_(a,34,1.235,.25),h5:_(a,24,1.334,0),h6:_(u,20,1.6,.15),subtitle1:_(a,16,1.75,.15),subtitle2:_(u,14,1.57,.1),body1:_(a,16,1.5,.15),body2:_(a,14,1.43,.15),button:_(u,14,1.75,.4,r),caption:_(a,12,1.66,.4),overline:_(a,12,2.66,1,r),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,o.default)({htmlFontSize:d,pxToRem:m,fontFamily:n,fontSize:s,fontWeightLight:l,fontWeightRegular:a,fontWeightMedium:u,fontWeightBold:c,...b},f,{clone:!1})};var o=n(c("imMZl"));let r={textTransform:"uppercase"},i='"Roboto", "Helvetica", "Arial", sans-serif'}),d("37kga",function(e,t){function n(...e){return`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,0.2),${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,0.14),${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,0.12)`}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;let o=["none",n(0,2,1,-1,0,1,1,0,0,1,3,0),n(0,3,1,-2,0,2,2,0,0,1,5,0),n(0,3,3,-2,0,3,4,0,0,1,8,0),n(0,2,4,-1,0,4,5,0,0,1,10,0),n(0,3,5,-1,0,5,8,0,0,1,14,0),n(0,3,5,-1,0,6,10,0,0,1,18,0),n(0,4,5,-2,0,7,10,1,0,2,16,1),n(0,5,5,-3,0,8,10,1,0,3,14,2),n(0,5,6,-3,0,9,12,1,0,3,16,2),n(0,6,6,-3,0,10,14,1,0,4,18,3),n(0,6,7,-4,0,11,15,1,0,4,20,3),n(0,7,8,-4,0,12,17,2,0,5,22,4),n(0,7,8,-4,0,13,19,2,0,5,24,4),n(0,7,9,-4,0,14,21,2,0,5,26,4),n(0,8,9,-5,0,15,22,2,0,6,28,5),n(0,8,10,-5,0,16,24,2,0,6,30,5),n(0,8,11,-5,0,17,26,2,0,6,32,5),n(0,9,11,-5,0,18,28,2,0,7,34,6),n(0,9,12,-6,0,19,29,2,0,7,36,6),n(0,10,13,-6,0,20,31,3,0,8,38,7),n(0,10,13,-6,0,21,33,3,0,8,40,7),n(0,10,14,-6,0,22,35,3,0,8,42,7),n(0,11,14,-7,0,23,36,3,0,9,44,8),n(0,11,15,-7,0,24,38,3,0,9,46,8)];e.exports.default=o}),d("8YDX9",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){let t={...n,...e.easing},s={...o,...e.duration};return{getAutoHeightDuration:i,create:(e=["all"],n={})=>{let{duration:o=s.standard,easing:i=t.easeInOut,delay:l=0,...a}=n;return(Array.isArray(e)?e:[e]).map(e=>`${e} ${"string"==typeof o?o:r(o)} ${i} ${"string"==typeof l?l:r(l)}`).join(",")},...e,easing:t,duration:s}},e.exports.easing=e.exports.duration=void 0;let n=e.exports.easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o=e.exports.duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function r(e){return`${Math.round(e)}ms`}function i(e){if(!e)return 0;let t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}}),d("4V6IE",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}}),d("aQ9kk",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.stringifyTheme=function(e={}){let t={...e};return!function e(t){let o=Object.entries(t);for(let r=0;r<o.length;r++){let[i,s]=o[r];!((0,n.isPlainObject)(s)||void 0===s||"string"==typeof s||"boolean"==typeof s||"number"==typeof s||Array.isArray(s))||i.startsWith("unstable_")?delete t[i]:(0,n.isPlainObject)(s)&&(t[i]={...s},e(t[i]))}}(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`};var n=c("imMZl")}),d("6cWsl",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){let{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,a=(0,o.default)(t);return{palette:a,opacity:{...s(a.mode),...n},overlays:r||l(a.mode),...i}},e.exports.getOpacity=s,e.exports.getOverlays=l;var o=n(c("1t1A0")),r=n(c("hUbjK"));let i=[...Array(25)].map((e,t)=>{if(0===t)return"none";let n=(0,r.default)(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function s(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function l(e){return"dark"===e?i:[]}}),d("hUbjK",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){let t;return Math.round(10*(e<1?5.11916*e**2:4.5*Math.log(e+1)+2))/1e3}}),d("5lb6R",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}}),d("3RYwZ",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("3W3QB"));e.exports.default=e=>(t,n)=>{let r=e.rootSelector||":root",i=e.colorSchemeSelector,s=i;if("class"===i&&(s=".%s"),"data"===i&&(s="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),e.defaultColorScheme===t){if("dark"===t){let i={};return((0,o.default)(e.cssVarPrefix).forEach(e=>{i[e]=n[e],delete n[e]}),"media"===s)?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:s?{[s.replace("%s",t)]:i,[`${r}, ${s.replace("%s",t)}`]:n}:{[r]:{...n,...i}}}if(s&&"media"!==s)return`${r}, ${s.replace("%s",String(t))}`}else if(t){if("media"===s)return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(s)return s.replace("%s",String(t))}return r}}),d("3W3QB",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`]}),d("gymsw",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default="$$material"}),d("bBtvw",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("gJXzj"))}),d("gJXzj",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,o(c("fYo6y")),n(c("iCIOI"));var r=c("bGr9F"),i=n(c("ciBpi")),s=n(c("gymsw")),l=c("iM5HV");e.exports.default=function(e){return(0,l.jsx)(r.default,{...e,defaultTheme:i.default,themeId:s.default})}}),d("bGr9F",function(t,n){e(t.exports,"default",()=>s),c("fYo6y");var o=c("9bF5r"),r=c("JULvd"),i=c("iM5HV"),s=function({styles:e,themeId:t,defaultTheme:n={}}){let s=(0,r.default)(n),l="function"==typeof e?e(t&&s[t]||s):e;return(0,i.jsx)(o.default,{styles:l})}}),d("35JIz",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,Object.defineProperty(e.exports,"rootShouldForwardProp",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e.exports,"slotShouldForwardProp",{enumerable:!0,get:function(){return l.default}});var o=n(c("kZuAH")),r=n(c("ciBpi")),i=n(c("gymsw")),s=n(c("7aPOe")),l=n(c("cvjJq"));let a=(0,o.default)({themeId:i.default,defaultTheme:r.default,rootShouldForwardProp:s.default});e.exports.default=a}),d("kZuAH",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var o={};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return r.default}});var r=n(c("kPRNb"));Object.keys(r).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(o,t))&&(t in e.exports&&e.exports[t]===r[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return r[t]}}))})}),d("kPRNb",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e={}){let{themeId:t,defaultTheme:n=u,rootShouldForwardProp:o=d,slotShouldForwardProp:s=d}=e;function c(e){e.theme=!function(e){for(let t in e)return!1;return!0}(e.theme)?e.theme[t]||e.theme:n}return(e,t={})=>{var n,u,f,g,m;(0,r.internal_mutateStyles)(e,e=>e.filter(e=>e!==l.default));let{name:_,slot:b,skipVariantsResolver:y,skipSx:T,overridesResolver:E=!(n=(u=b)?u.charAt(0).toLowerCase()+u.slice(1):u)?null:(e,t)=>t[n],...v}=t,C=void 0!==y?y:b&&"Root"!==b&&"root"!==b||!1,I=T||!1,S=d;"Root"===b||"root"===b?S=o:b?S=s:"string"==typeof(f=e)&&f.charCodeAt(0)>96&&(S=void 0);let w=(0,r.default)(e,{shouldForwardProp:S,label:(g=0,void(m=0)),...v}),k=e=>{if("function"==typeof e&&e.__emotion_real!==e)return function(t){return h(t,e)};if((0,i.isPlainObject)(e)){let t=(0,a.default)(e);return t.variants?function(e){return h(e,t)}:t.style}return e},O=(...t)=>{let n=[],o=t.map(k),r=[];if(n.push(c),_&&E&&r.push(function(e){let t=e.theme,n=t.components?.[_]?.styleOverrides;if(!n)return null;let o={};for(let t in n)o[t]=h(e,n[t]);return E(e,o)}),_&&!C&&r.push(function(e){let t=e.theme,n=t?.components?.[_]?.variants;return n?p(e,n):null}),I||r.push(l.default),Array.isArray(o[0])){let e,t=o.shift(),i=Array(n.length).fill(""),s=Array(r.length).fill("");(e=[...i,...t,...s]).raw=[...i,...t.raw,...s],n.unshift(e)}let i=w(...n,...o,...r);return e.muiName&&(i.muiName=e.muiName),i};return w.withConfig&&(O.withConfig=w.withConfig),O}},e.exports.shouldForwardProp=d,e.exports.systemDefaultTheme=void 0;var r=o(c("lDqIO")),i=c("imMZl");n(c("2C84E")),n(c("kanJ0"));var s=n(c("fmwDL")),l=n(c("7eSM9")),a=n(c("fin3N"));let u=e.exports.systemDefaultTheme=(0,s.default)();function d(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function h(e,t){let n="function"==typeof t?t(e):t;if(Array.isArray(n))return n.flatMap(t=>h(e,t));if(Array.isArray(n?.variants)){let t;if(n.isProcessed)t=n.style;else{let{variants:e,...o}=n;t=o}return p(e,n.variants,[t])}return n?.isProcessed?n.style:n}function p(e,t,n=[]){let o;o:for(let r=0;r<t.length;r+=1){let i=t[r];if("function"==typeof i.props){if(o??(o={...e,...e.ownerState,ownerState:e.ownerState}),!i.props(o))continue}else for(let t in i.props)if(e[t]!==i.props[t]&&e.ownerState?.[t]!==i.props[t])continue o;"function"==typeof i.style?(o??(o={...e,...e.ownerState,ownerState:e.ownerState}),n.push(i.style(o))):n.push(i.style)}return n}}),d("lDqIO",function(t,n){s(t.exports),e(t.exports,"default",()=>i),e(t.exports,"internal_mutateStyles",()=>l),e(t.exports,"internal_serializeStyles",()=>u),e(t.exports,"ThemeContext",()=>c("42Bn5").T),e(t.exports,"keyframes",()=>c("d9QWq").keyframes),e(t.exports,"css",()=>c("d9QWq").css),e(t.exports,"StyledEngineProvider",()=>c("iMQ5b").default),e(t.exports,"GlobalStyles",()=>c("9bF5r").default);var o=c("i4ilP"),r=c("Ytjjd");function i(e,t){return(0,o.default)(e,t)}function l(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}c("d9QWq"),c("42Bn5"),c("iMQ5b"),c("9bF5r");let a=[];function u(e){return a[0]=e,(0,r.serializeStyles)(a)}}),d("i4ilP",function(t,n){e(t.exports,"default",()=>r);var o=c("gnIe9");c("jzVzt"),c("Ytjjd"),c("eBXpJ"),c("iRh0Z"),c("fYo6y"),c("3HaR7");var r=o.default.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){r[e]=r(e)})}),d("gnIe9",function(t,n){e(t.exports,"default",()=>_);var o=c("8E2mE");c("d9QWq");var r=c("42Bn5"),i=c("Ytjjd"),s=c("eBXpJ"),l=c("iRh0Z"),a=c("fYo6y"),u=c("3HaR7"),d="undefined"!=typeof document,h=u.default,p=function(e){return"theme"!==e},f=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?h:p},g=function(e,t,n){var o;if(t){var r=t.shouldForwardProp;o=e.__emotion_forwardProp&&r?function(t){return e.__emotion_forwardProp(t)&&r(t)}:r}return"function"!=typeof o&&n&&(o=e.__emotion_forwardProp),o},m=function(e){var t=e.cache,n=e.serialized,o=e.isStringTag;(0,l.registerStyles)(t,n,o);var r=(0,s.useInsertionEffectAlwaysWithSyncFallback)(function(){return(0,l.insertStyles)(t,n,o)});if(!d&&void 0!==r){for(var i,u=n.name,c=n.next;void 0!==c;)u+=" "+c.name,c=c.next;return a.createElement("style",((i={})["data-emotion"]=t.key+" "+u,i.dangerouslySetInnerHTML={__html:r},i.nonce=t.sheet.nonce,i))}return null},_=function e(t,n){var s,u,c=t.__emotion_real===t,d=c&&t.__emotion_base||t;void 0!==n&&(s=n.label,u=n.target);var h=g(t,n,c),p=h||f(d),_=!p("as");return function(){var b=arguments,y=c&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==s&&y.push("label:"+s+";"),null==b[0]||void 0===b[0].raw)y.push.apply(y,b);else{var T=b[0];y.push(T[0]);for(var E=b.length,v=1;v<E;v++)y.push(b[v],T[v])}var C=(0,r.w)(function(e,t,n){var o=_&&e.as||d,s="",c=[],g=e;if(null==e.theme){for(var b in g={},e)g[b]=e[b];g.theme=a.useContext(r.T)}"string"==typeof e.className?s=(0,l.getRegisteredStyles)(t.registered,c,e.className):null!=e.className&&(s=e.className+" ");var T=(0,i.serializeStyles)(y.concat(c),t.registered,g);s+=t.key+"-"+T.name,void 0!==u&&(s+=" "+u);var E=_&&void 0===h?f(o):p,v={};for(var C in e)(!_||"as"!==C)&&E(C)&&(v[C]=e[C]);return v.className=s,n&&(v.ref=n),a.createElement(a.Fragment,null,a.createElement(m,{cache:t,serialized:T,isStringTag:"string"==typeof o}),a.createElement(o,v))});return C.displayName=void 0!==s?s:"Styled("+("string"==typeof d?d:d.displayName||d.name||"Component")+")",C.defaultProps=t.defaultProps,C.__emotion_real=C,C.__emotion_base=d,C.__emotion_styles=y,C.__emotion_forwardProp=h,Object.defineProperty(C,"toString",{value:function(){return"."+u}}),C.withComponent=function(t,r){return e(t,(0,o.default)({},n,r,{shouldForwardProp:g(C,r,!0)})).apply(void 0,y)},C}}}),d("3HaR7",function(t,n){e(t.exports,"default",()=>i);var o=c("3tT4T"),r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=(0,o.default)(function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&91>e.charCodeAt(2)})}),d("iMQ5b",function(t,n){let o;e(t.exports,"default",()=>h);var r=c("fYo6y"),i=c("42Bn5"),s=c("cezAU"),l=c("66J5J"),a=c("iM5HV");let u={insert:void 0},d=(e,t)=>{let n=(0,s.default)(e);return n.sheet=new t({key:n.key,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy,prepend:n.sheet.prepend,insertionPoint:n.sheet.insertionPoint}),n};if("object"==typeof document&&!(o=document.querySelector('[name="emotion-insertion-point"]'))){(o=document.createElement("meta")).setAttribute("name","emotion-insertion-point"),o.setAttribute("content","");let e=document.querySelector("head");e&&e.prepend(o)}function h(e){let{injectFirst:t,enableCssLayer:n,children:s}=e,c=r.useMemo(()=>(function(e,t){if(e||t){class n extends l.StyleSheet{insert(e,t){return u.insert?u.insert(e,t):(this.key&&this.key.endsWith("global")&&(this.before=o),super.insert(e,t))}}let r=d({key:"css",insertionPoint:e?o:void 0},n);if(t){let e=r.insert;r.insert=(...t)=>(t[1].styles.startsWith("@layer")||(t[1].styles=`@layer mui {${t[1].styles}}`),e(...t))}return r}})(t,n),[t,n]);return c?(0,a.jsx)(i.C,{value:c,children:s}):s}}),d("kanJ0",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("cK8ER"))}),d("cK8ER",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(null!=e){if("string"==typeof e)return e;if("function"==typeof e)return o(e,"Component");if("object"==typeof e)switch(e.$$typeof){case n.ForwardRef:return r(e,e.render,"ForwardRef");case n.Memo:return r(e,e.type,"memo")}}};var n=c("8iGOn");function o(e,t=""){return e.displayName||e.name||t}function r(e,t,n){let r=o(t);return e.displayName||(""!==r?`${n}(${r})`:n)}}),d("fin3N",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){let{variants:t,...o}=e,r={variants:t,style:(0,n.internal_serializeStyles)(o),isProcessed:!0};return r.style===o||t&&t.forEach(e=>{"function"!=typeof e.style&&(e.style=(0,n.internal_serializeStyles)(e.style))}),r};var n=c("lDqIO")}),d("7aPOe",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("cvjJq"));e.exports.default=e=>(0,o.default)(e)&&"classes"!==e}),d("cvjJq",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}}),d("7N7G2",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;let n=c("3bfMm").default;e.exports.default=n}),d("3bfMm",function(t,n){e(t.exports,"default",()=>i);var o=c("0sxE4");let r={theme:void 0};function i(e){let t,n;return function(i){let s=t;return(void 0===s||i.theme!==n)&&(r.theme=i.theme,t=s=(0,o.default)(e(r)),n=i.theme),s}}}),d("0sxE4",function(t,n){e(t.exports,"default",()=>r);var o=c("lDqIO");function r(e){let{variants:t,...n}=e,r={variants:t,style:(0,o.internal_serializeStyles)(n),isProcessed:!0};return r.style===n||t&&t.forEach(e=>{"function"!=typeof e.style&&(e.style=(0,o.internal_serializeStyles)(e.style))}),r}}),d("8IlyL",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e.exports,"useDefaultProps",{enumerable:!0,get:function(){return o.useDefaultProps}});var o=n(c("7NKBP"))}),d("7NKBP",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.useDefaultProps=function(e){return(0,r.useDefaultProps)(e)},o(c("fYo6y")),n(c("iCIOI"));var r=o(c("1PiaP")),i=c("iM5HV");e.exports.default=function(e){return(0,i.jsx)(r.default,{...e})}}),d("hbVPp",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("2C84E"));e.exports.default=o.default}),d("aiYwQ",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e=[]){return([,t])=>t&&function(e,t=[]){if("string"!=typeof e.main)return!1;for(let n of t)if(!e.hasOwnProperty(n)||"string"!=typeof e[n])return!1;return!0}(t,e)}}),d("jSWP1",function(e,t){var n=c("2zxFA").default,o=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var r={paperClasses:!0};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e.exports,"paperClasses",{enumerable:!0,get:function(){return s.default}});var i=o(c("fS3Mw")),s=n(c("gy9Ss"));Object.keys(s).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t))&&(t in e.exports&&e.exports[t]===s[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return s[t]}}))})}),d("fS3Mw",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa"));n(c("fZ1hQ")),n(c("jJZEi"));var s=n(c("exr4N")),l=c("jjMO3"),a=c("9uMYx"),u=n(c("7N7G2")),d=c("8IlyL"),h=n(c("hUbjK")),p=c("gy9Ss"),f=c("iM5HV");let g=e=>{let{square:t,elevation:n,variant:o,classes:r}=e,i={root:["root",o,!t&&"rounded","elevation"===o&&`elevation${n}`]};return(0,s.default)(i,p.getPaperUtilityClass,r)},m=(0,a.styled)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((0,u.default)(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),_=r.forwardRef(function(e,t){let n=(0,d.useDefaultProps)({props:e,name:"MuiPaper"}),o=(0,a.useTheme)(),{className:r,component:s="div",elevation:u=1,square:c=!1,variant:p="elevation",..._}=n,b={...n,component:s,elevation:u,square:c,variant:p},y=g(b);return(0,f.jsx)(m,{as:s,ownerState:b,className:(0,i.default)(y.root,r),ref:t,..._,style:{..."elevation"===p&&{"--Paper-shadow":(o.vars||o).shadows[u],...o.vars&&{"--Paper-overlay":o.vars.overlays?.[u]},...!o.vars&&"dark"===o.palette.mode&&{"--Paper-overlay":`linear-gradient(${(0,l.alpha)("#fff",(0,h.default)(u))}, ${(0,l.alpha)("#fff",(0,h.default)(u))})`}},..._.style}})});e.exports.default=_}),d("fZ1hQ",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var o={};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return r.default}});var r=n(c("9aYCh"));Object.keys(r).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(o,t))&&(t in e.exports&&e.exports[t]===r[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return r[t]}}))})}),d("9aYCh",function(e,t){function n(e){let t=typeof e;switch(t){case"number":if(Number.isNaN(e))return"NaN";if(!Number.isFinite(e))return"Infinity";if(e!==Math.floor(e))return"float";return"number";case"object":if(null===e)return"null";return e.constructor.name;default:return t}}function o(){return null}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getTypeByValue=n,o.isRequired=o,e.exports.default=o}),d("jJZEi",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("4VHnb"))}),d("4VHnb",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return()=>null}}),d("gy9Ss",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getPaperUtilityClass=function(e){return(0,r.default)("MuiPaper",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);e.exports.default=i}),d("hBe9M",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("7HNeU"))}),d("7HNeU",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n="Mui"){let r={};return t.forEach(t=>{r[t]=(0,o.default)(e,t,n)}),r};var o=n(c("gfTbt"))}),d("eW4co",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getAppBarUtilityClass=function(e){return(0,r.default)("MuiAppBar",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);e.exports.default=i}),d("hGEFh",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa")),s=n(c("exr4N")),l=c("9uMYx"),a=n(c("7N7G2")),u=c("8IlyL"),d=c("6PfkS"),h=c("iM5HV");let p=e=>{let{classes:t,disableGutters:n,variant:o}=e;return(0,s.default)({root:["root",!n&&"gutters",o]},d.getToolbarUtilityClass,t)},f=(0,l.styled)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((0,a.default)(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),g=r.forwardRef(function(e,t){let n=(0,u.useDefaultProps)({props:e,name:"MuiToolbar"}),{className:o,component:r="div",disableGutters:s=!1,variant:l="regular",...a}=n,c={...n,component:r,disableGutters:s,variant:l},d=p(c);return(0,h.jsx)(f,{as:r,className:(0,i.default)(d.root,o),ref:t,ownerState:c,...a})});e.exports.default=g}),d("6PfkS",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getToolbarUtilityClass=function(e){return(0,r.default)("MuiToolbar",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiToolbar",["root","gutters","regular","dense"]);e.exports.default=i}),d("ffugU",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa"));n(c("jJZEi"));var s=n(c("exr4N")),l=c("jjMO3"),a=c("b0aoq"),u=c("9uMYx"),d=n(c("7N7G2")),h=n(c("aiYwQ")),p=c("8IlyL"),f=n(c("hOBP7")),g=n(c("j6wZy")),m=n(c("hbVPp")),_=o(c("b9pL7")),b=c("iM5HV");let y=e=>{let{classes:t,disabled:n,color:o,edge:r,size:i,loading:l}=e,a={root:["root",l&&"loading",n&&"disabled","default"!==o&&`color${(0,m.default)(o)}`,r&&`edge${(0,m.default)(r)}`,`size${(0,m.default)(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return(0,s.default)(a,_.getIconButtonUtilityClass,t)},T=(0,u.styled)(f.default,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.loading&&t.loading,"default"!==n.color&&t[`color${(0,m.default)(n.color)}`],n.edge&&t[`edge${(0,m.default)(n.edge)}`],t[`size${(0,m.default)(n.size)}`]]}})((0,d.default)(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,l.alpha)(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),(0,d.default)(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter((0,h.default)()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter((0,h.default)()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,l.alpha)((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${_.default.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${_.default.loading}`]:{color:"transparent"}}))),E=(0,u.styled)("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),v=r.forwardRef(function(e,t){let n=(0,p.useDefaultProps)({props:e,name:"MuiIconButton"}),{edge:o=!1,children:r,className:s,color:l="default",disabled:u=!1,disableFocusRipple:c=!1,size:d="medium",id:h,loading:f=null,loadingIndicator:m,..._}=n,v=(0,a.unstable_useId)(h),C=m??(0,b.jsx)(g.default,{"aria-labelledby":v,color:"inherit",size:16}),I={...n,edge:o,color:l,disabled:u,disableFocusRipple:c,loading:f,loadingIndicator:C,size:d},S=y(I);return(0,b.jsxs)(T,{id:f?v:h,className:(0,i.default)(S.root,s),centerRipple:!0,focusRipple:!c,disabled:u||f,ref:t,..._,ownerState:I,children:["boolean"==typeof f&&(0,b.jsx)("span",{className:S.loadingWrapper,style:{display:"contents"},children:(0,b.jsx)(E,{className:S.loadingIndicator,ownerState:I,children:f&&C})}),r]})});e.exports.default=v}),d("b0aoq",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"capitalize",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e.exports,"createChainedFunction",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e.exports,"createSvgIcon",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e.exports,"debounce",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e.exports,"deprecatedPropType",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e.exports,"isMuiElement",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e.exports,"mergeSlotProps",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e.exports,"ownerDocument",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e.exports,"ownerWindow",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e.exports,"requirePropFactory",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e.exports,"setRef",{enumerable:!0,get:function(){return g.default}}),e.exports.unstable_ClassNameGenerator=void 0,Object.defineProperty(e.exports,"unstable_memoTheme",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e.exports,"unstable_useEnhancedEffect",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e.exports,"unstable_useId",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e.exports,"unsupportedProp",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e.exports,"useControlled",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e.exports,"useEventCallback",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e.exports,"useForkRef",{enumerable:!0,get:function(){return E.default}});var o=c("k1qb5"),r=n(c("hbVPp")),i=n(c("1XfX2")),s=n(c("68old")),l=n(c("gEHyI")),a=n(c("a6Cq7")),u=n(c("77yiy")),d=n(c("7N7G2")),h=n(c("i9mwF")),p=n(c("4Nw0N")),f=n(c("fOFf0")),g=n(c("dQcQl")),m=n(c("hSRUb")),_=n(c("1eqgP")),b=n(c("6oHM8")),y=n(c("jI90p")),T=n(c("gnOpP")),E=n(c("f9e7I")),v=n(c("VhDNm"));e.exports.unstable_ClassNameGenerator={configure:e=>{o.default.configure(e)}}}),d("k1qb5",function(t,n){let o;e(t.exports,"default",()=>i);let r=e=>e;var i=(o=r,{configure(e){o=e},generate:e=>o(e),reset(){o=r}})}),d("1XfX2",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("cP5Xf"));e.exports.default=o.default}),d("cP5Xf",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("MFWgr"))}),d("MFWgr",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(...e){return e.reduce((e,t)=>null==t?e:function(...n){e.apply(this,n),t.apply(this,n)},()=>{})}}),d("68old",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){function n(t,n){return(0,s.jsx)(i.default,{"data-testid":void 0,ref:n,...t,children:e})}return n.muiName=i.default.muiName,r.memo(r.forwardRef(n))};var r=o(c("fYo6y")),i=n(c("ion00")),s=c("iM5HV")}),d("ion00",function(e,t){var n=c("2zxFA").default,o=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var r={svgIconClasses:!0};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e.exports,"svgIconClasses",{enumerable:!0,get:function(){return s.default}});var i=o(c("4ryT4")),s=n(c("eWjEj"));Object.keys(s).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t))&&(t in e.exports&&e.exports[t]===s[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return s[t]}}))})}),d("4ryT4",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa")),s=n(c("exr4N")),l=n(c("hbVPp")),a=c("9uMYx"),u=n(c("7N7G2")),d=c("8IlyL"),h=c("eWjEj"),p=c("iM5HV");let f=e=>{let{color:t,fontSize:n,classes:o}=e,r={root:["root","inherit"!==t&&`color${(0,l.default)(t)}`,`fontSize${(0,l.default)(n)}`]};return(0,s.default)(r,h.getSvgIconUtilityClass,o)},g=(0,a.styled)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${(0,l.default)(n.color)}`],t[`fontSize${(0,l.default)(n.fontSize)}`]]}})((0,u.default)(({theme:e})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:e.transitions?.create?.("fill",{duration:(e.vars??e).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:e.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:e.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:e.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,e])=>e&&e.main).map(([t])=>({props:{color:t},style:{color:(e.vars??e).palette?.[t]?.main}})),{props:{color:"action"},style:{color:(e.vars??e).palette?.action?.active}},{props:{color:"disabled"},style:{color:(e.vars??e).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),m=r.forwardRef(function(e,t){let n=(0,d.useDefaultProps)({props:e,name:"MuiSvgIcon"}),{children:o,className:s,color:l="inherit",component:a="svg",fontSize:u="medium",htmlColor:c,inheritViewBox:h=!1,titleAccess:m,viewBox:_="0 0 24 24",...b}=n,y=r.isValidElement(o)&&"svg"===o.type,T={...n,color:l,component:a,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:_,hasSvgAsChild:y},E={};h||(E.viewBox=_);let v=f(T);return(0,p.jsxs)(g,{as:a,className:(0,i.default)(v.root,s),focusable:"false",color:c,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t,...E,...b,...y&&o.props,ownerState:T,children:[y?o.props.children:o,m?(0,p.jsx)("title",{children:m}):null]})});m.muiName="SvgIcon",e.exports.default=m}),d("eWjEj",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getSvgIconUtilityClass=function(e){return(0,r.default)("MuiSvgIcon",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);e.exports.default=i}),d("gEHyI",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("ctT87"));e.exports.default=o.default}),d("ctT87",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var o={};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return r.default}});var r=n(c("g0jSU"));Object.keys(r).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(o,t))&&(t in e.exports&&e.exports[t]===r[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return r[t]}}))})}),d("g0jSU",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t=166){let n;function o(...r){clearTimeout(n),n=setTimeout(()=>{e.apply(this,r)},t)}return o.clear=()=>{clearTimeout(n)},o}}),d("a6Cq7",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("jwRxE"));e.exports.default=o.default}),d("jwRxE",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("a1h4A"))}),d("a1h4A",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return()=>null}}),d("77yiy",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("4jOT6"));e.exports.default=o.default}),d("4jOT6",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("9lsR6"))}),d("9lsR6",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return o.isValidElement(e)&&-1!==t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)};var o=n(c("fYo6y"))}),d("i9mwF",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("fbmB7"));e.exports.default=o.default}),d("fbmB7",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("bKbWi"))}),d("bKbWi",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return e&&e.ownerDocument||document}}),d("4Nw0N",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("5JEtk"));e.exports.default=o.default}),d("5JEtk",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("dmtTZ"))}),d("dmtTZ",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return(0,o.default)(e).defaultView||window};var o=n(c("fbmB7"))}),d("fOFf0",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("c02oz"));e.exports.default=o.default}),d("c02oz",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("dAsQF"))}),d("dAsQF",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return()=>null}}),d("dQcQl",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("rlZ6I"));e.exports.default=o.default}),d("rlZ6I",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("cHYxP"))}),d("cHYxP",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){"function"==typeof e?e(t):e&&(e.current=t)}}),d("hSRUb",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("6SHPY"));e.exports.default=o.default}),d("1eqgP",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("bWYIW"));e.exports.default=o.default}),d("bWYIW",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("877FH"))}),d("877FH",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(void 0!==i){let t=i();return e??t}let[t,n]=o.useState(e),s=e||t;return o.useEffect(()=>{null==t&&(r+=1,n(`mui-${r}`))},[t]),s};var o=n(c("fYo6y"));let r=0,i={...o}.useId}),d("6oHM8",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("h7HMo"));e.exports.default=o.default}),d("h7HMo",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("ll6o0"))}),d("ll6o0",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n,o,r){return null}}),d("jI90p",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("iy4xA"));e.exports.default=o.default}),d("iy4xA",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("8BUzt"))}),d("8BUzt",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function({controlled:e,default:t,name:n,state:r="value"}){let{current:i}=o.useRef(void 0!==e),[s,l]=o.useState(t),a=o.useCallback(e=>{i||l(e)},[]);return[i?e:s,a]};var o=n(c("fYo6y"))}),d("gnOpP",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("eLKUY"));e.exports.default=o.default}),d("eLKUY",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("gAtrv"))}),d("gAtrv",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y")),i=n(c("6SHPY"));e.exports.default=function(e){let t=r.useRef(e);return(0,i.default)(()=>{t.current=e}),r.useRef((...e)=>(0,t.current)(...e)).current}}),d("f9e7I",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("fyH0H"));e.exports.default=o.default}),d("fyH0H",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("eX97e"))}),d("eX97e",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(...e){return r.useMemo(()=>e.every(e=>null==e)?null:t=>{e.forEach(e=>{(0,i.default)(e,t)})},e)};var r=o(c("fYo6y")),i=n(c("rlZ6I"))}),d("VhDNm",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return t;function n(e,t){let n={};return Object.keys(t).forEach(o=>{(function(e,t){let n=e.charCodeAt(2);return"o"===e[0]&&"n"===e[1]&&n>=65&&n<=90&&"function"==typeof t})(o,t[o])&&"function"==typeof e[o]&&(n[o]=(...n)=>{e[o](...n),t[o](...n)})}),n}if("function"==typeof e||"function"==typeof t)return r=>{let i="function"==typeof t?t(r):t,s="function"==typeof e?e({...r,...i}):e,l=(0,o.default)(r?.className,i?.className,s?.className),a=n(s,i);return{...i,...s,...a,...!!l&&{className:l},...i?.style&&s?.style&&{style:{...i.style,...s.style}},...i?.sx&&s?.sx&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(s.sx)?s.sx:[s.sx]]}}};let r=n(e,t),i=(0,o.default)(t?.className,e?.className);return{...t,...e,...r,...!!i&&{className:i},...t?.style&&e?.style&&{style:{...t.style,...e.style}},...t?.sx&&e?.sx&&{sx:[...Array.isArray(t.sx)?t.sx:[t.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}};var o=n(c("eUZaa"))}),d("hOBP7",function(e,t){var n=c("2zxFA").default,o=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var r={buttonBaseClasses:!0,touchRippleClasses:!0};Object.defineProperty(e.exports,"buttonBaseClasses",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e.exports,"touchRippleClasses",{enumerable:!0,get:function(){return l.default}});var i=o(c("4THFZ")),s=n(c("iQYQc"));Object.keys(s).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t))&&(t in e.exports&&e.exports[t]===s[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return s[t]}}))});var l=n(c("7ZvZi"));Object.keys(l).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t))&&(t in e.exports&&e.exports[t]===l[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return l[t]}}))})}),d("4THFZ",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=e.exports.ButtonBaseRoot=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa"));n(c("cdayC")),n(c("lbrXk"));var s=n(c("exr4N")),l=n(c("4OiTh")),a=c("9uMYx"),u=c("8IlyL"),d=n(c("f9e7I")),h=n(c("gnOpP")),p=n(c("42P9N")),f=n(c("4EoI6")),g=o(c("iQYQc")),m=c("iM5HV");let _=e=>{let{disabled:t,focusVisible:n,focusVisibleClassName:o,classes:r}=e,i=(0,s.default)({root:["root",t&&"disabled",n&&"focusVisible"]},g.getButtonBaseUtilityClass,r);return n&&o&&(i.root+=` ${o}`),i},b=e.exports.ButtonBaseRoot=(0,a.styled)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${g.default.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),y=r.forwardRef(function(e,t){let n=(0,u.useDefaultProps)({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:s=!1,children:a,className:c,component:g="button",disabled:y=!1,disableRipple:E=!1,disableTouchRipple:v=!1,focusRipple:C=!1,focusVisibleClassName:I,LinkComponent:S="a",onBlur:w,onClick:k,onContextMenu:O,onDragLeave:R,onFocus:x,onFocusVisible:$,onKeyDown:A,onKeyUp:N,onMouseDown:M,onMouseLeave:L,onMouseUp:D,onTouchEnd:P,onTouchMove:B,onTouchStart:F,tabIndex:U=0,TouchRippleProps:H,touchRippleRef:V,type:G,...j}=n,W=r.useRef(null),z=(0,p.default)(),X=(0,d.default)(z.ref,V),[Y,K]=r.useState(!1);y&&Y&&K(!1),r.useImperativeHandle(o,()=>({focusVisible:()=>{K(!0),W.current.focus()}}),[]);let J=z.shouldMount&&!E&&!y;r.useEffect(()=>{Y&&C&&!E&&z.pulsate()},[E,C,Y,z]);let Z=T(z,"start",M,v),q=T(z,"stop",O,v),Q=T(z,"stop",R,v),ee=T(z,"stop",D,v),et=T(z,"stop",e=>{Y&&e.preventDefault(),L&&L(e)},v),en=T(z,"start",F,v),eo=T(z,"stop",P,v),er=T(z,"stop",B,v),ei=T(z,"stop",e=>{(0,l.default)(e.target)||K(!1),w&&w(e)},!1),es=(0,h.default)(e=>{W.current||(W.current=e.currentTarget),(0,l.default)(e.target)&&(K(!0),$&&$(e)),x&&x(e)}),el=()=>{let e=W.current;return g&&"button"!==g&&!("A"===e.tagName&&e.href)},ea=(0,h.default)(e=>{C&&!e.repeat&&Y&&" "===e.key&&z.stop(e,()=>{z.start(e)}),e.target===e.currentTarget&&el()&&" "===e.key&&e.preventDefault(),A&&A(e),e.target===e.currentTarget&&el()&&"Enter"===e.key&&!y&&(e.preventDefault(),k&&k(e))}),eu=(0,h.default)(e=>{C&&" "===e.key&&Y&&!e.defaultPrevented&&z.stop(e,()=>{z.pulsate(e)}),N&&N(e),k&&e.target===e.currentTarget&&el()&&" "===e.key&&!e.defaultPrevented&&k(e)}),ec=g;"button"===ec&&(j.href||j.to)&&(ec=S);let ed={};"button"===ec?(ed.type=void 0===G?"button":G,ed.disabled=y):(j.href||j.to||(ed.role="button"),y&&(ed["aria-disabled"]=y));let eh=(0,d.default)(t,W),ep={...n,centerRipple:s,component:g,disabled:y,disableRipple:E,disableTouchRipple:v,focusRipple:C,tabIndex:U,focusVisible:Y},ef=_(ep);return(0,m.jsxs)(b,{as:ec,className:(0,i.default)(ef.root,c),ownerState:ep,onBlur:ei,onClick:k,onContextMenu:q,onFocus:es,onKeyDown:ea,onKeyUp:eu,onMouseDown:Z,onMouseLeave:et,onMouseUp:ee,onDragLeave:Q,onTouchEnd:eo,onTouchMove:er,onTouchStart:en,ref:eh,tabIndex:y?-1:U,type:G,...ed,...j,children:[a,J?(0,m.jsx)(f.default,{ref:X,center:s,...H}):null]})});function T(e,t,n,o=!1){return(0,h.default)(r=>(n&&n(r),o||e[t](r),!0))}e.exports.default=y}),d("cdayC",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("42kvx"))}),d("42kvx",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("iCIOI"));let r=o.default.oneOfType([o.default.func,o.default.object]);e.exports.default=r}),d("lbrXk",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("369kO"))}),d("369kO",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("iCIOI")),r=n(c("jJZEi"));e.exports.default=(0,r.default)(o.default.elementType,function(e,t,n,o,r){let i,s=e[t];return null==s||"undefined"==typeof window?null:("function"==typeof s&&!function(e){let{prototype:t={}}=e;return!!t.isReactComponent}(s)&&(i="Did you accidentally provide a plain function component instead?"),void 0!==i)?Error(`Invalid ${o} \`${r||t}\` supplied to \`${n}\`. Expected an element type that can hold a ref. ${i} For more information see https://mui.com/r/caveat-with-refs-guide`):null})}),d("4OiTh",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("6HIad"))}),d("6HIad",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){try{return e.matches(":focus-visible")}catch(e){}return!1}}),d("42P9N",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("bBThd"))}),d("bBThd",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.LazyRipple=void 0,e.exports.default=function(){return s.use()};var r=o(c("fYo6y")),i=n(c("1RlTF"));class s{static create(){return new s}static use(){let e=(0,i.default)(s.create).current,[t,n]=r.useState(!1);return e.shouldMount=t,e.setShouldMount=n,r.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t,n=new Promise((n,o)=>{e=n,t=o});return n.resolve=e,n.reject=t,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}e.exports.LazyRipple=s}),d("1RlTF",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("c3sDl"))}),d("c3sDl",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){let n=o.useRef(r);return n.current===r&&(n.current=e(t)),n};var o=n(c("fYo6y"));let r={}}),d("4EoI6",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=e.exports.TouchRippleRoot=e.exports.TouchRippleRipple=e.exports.DELAY_RIPPLE=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=c("2JLaM"),s=n(c("eUZaa")),l=n(c("fgezg")),a=c("9uMYx"),u=c("8IlyL"),d=n(c("lzni9")),h=n(c("7ZvZi")),p=c("iM5HV");let f=e.exports.DELAY_RIPPLE=80,g=(0,a.keyframes)`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,m=(0,a.keyframes)`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,_=(0,a.keyframes)`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,b=e.exports.TouchRippleRoot=(0,a.styled)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),y=e.exports.TouchRippleRipple=(0,a.styled)(d.default,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${h.default.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${g};
    animation-duration: ${550}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${h.default.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${h.default.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${h.default.childLeaving} {
    opacity: 0;
    animation-name: ${m};
    animation-duration: ${550}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${h.default.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${_};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,T=r.forwardRef(function(e,t){let{center:n=!1,classes:o={},className:a,...c}=(0,u.useDefaultProps)({props:e,name:"MuiTouchRipple"}),[d,g]=r.useState([]),m=r.useRef(0),_=r.useRef(null);r.useEffect(()=>{_.current&&(_.current(),_.current=null)},[d]);let T=r.useRef(!1),E=(0,l.default)(),v=r.useRef(null),C=r.useRef(null),I=r.useCallback(e=>{let{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:l}=e;g(e=>[...e,(0,p.jsx)(y,{classes:{ripple:(0,s.default)(o.ripple,h.default.ripple),rippleVisible:(0,s.default)(o.rippleVisible,h.default.rippleVisible),ripplePulsate:(0,s.default)(o.ripplePulsate,h.default.ripplePulsate),child:(0,s.default)(o.child,h.default.child),childLeaving:(0,s.default)(o.childLeaving,h.default.childLeaving),childPulsate:(0,s.default)(o.childPulsate,h.default.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},m.current)]),m.current+=1,_.current=l},[o]),S=r.useCallback((e={},t={},o=()=>{})=>{let r,i,s,{pulsate:l=!1,center:a=n||t.pulsate,fakeElement:u=!1}=t;if(e?.type==="mousedown"&&T.current){T.current=!1;return}e?.type==="touchstart"&&(T.current=!0);let c=u?null:C.current,d=c?c.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(!a&&void 0!==e&&(0!==e.clientX||0!==e.clientY)&&(e.clientX||e.touches)){let{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;r=Math.round(t-d.left),i=Math.round(n-d.top)}else r=Math.round(d.width/2),i=Math.round(d.height/2);a?(s=Math.sqrt((2*d.width**2+d.height**2)/3))%2==0&&(s+=1):s=Math.sqrt((2*Math.max(Math.abs((c?c.clientWidth:0)-r),r)+2)**2+(2*Math.max(Math.abs((c?c.clientHeight:0)-i),i)+2)**2),e?.touches?null===v.current&&(v.current=()=>{I({pulsate:l,rippleX:r,rippleY:i,rippleSize:s,cb:o})},E.start(f,()=>{v.current&&(v.current(),v.current=null)})):I({pulsate:l,rippleX:r,rippleY:i,rippleSize:s,cb:o})},[n,I,E]),w=r.useCallback(()=>{S({},{pulsate:!0})},[S]),k=r.useCallback((e,t)=>{if(E.clear(),e?.type==="touchend"&&v.current){v.current(),v.current=null,E.start(0,()=>{k(e,t)});return}v.current=null,g(e=>e.length>0?e.slice(1):e),_.current=t},[E]);return r.useImperativeHandle(t,()=>({pulsate:w,start:S,stop:k}),[w,S,k]),(0,p.jsx)(b,{className:(0,s.default)(h.default.root,o.root,a),ref:C,...c,children:(0,p.jsx)(i.default,{component:null,exit:!0,children:d})})});e.exports.default=T}),d("2JLaM",function(t,n){e(t.exports,"default",()=>f);var o=c("fmppd"),r=c("8E2mE"),i=c("8rjuF"),s=c("8gNfJ"),a=c("fYo6y"),u=c("i35q9"),d=c("hBmiq"),h=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},p=function(e){function t(t,n){var o=e.call(this,t,n)||this,r=o.handleExited.bind((0,i.default)(o));return o.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},o}(0,s.default)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n=t.children,o=t.handleExited;return{children:t.firstRender?(0,d.getInitialChildMapping)(e,o):(0,d.getNextChildMapping)(e,n,o),firstRender:!1}},n.handleExited=function(e,t){var n=(0,d.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=(0,r.default)({},t.children);return delete n[e.key],{children:n}}))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,o.default)(e,["component","childFactory"]),i=this.state.contextValue,s=h(this.state.children).map(n);return(delete r.appear,delete r.enter,delete r.exit,null===t)?l(a).createElement(u.default.Provider,{value:i},s):l(a).createElement(u.default.Provider,{value:i},l(a).createElement(t,r,s))},t}(l(a).Component);p.propTypes={},p.defaultProps={component:"div",childFactory:function(e){return e}};var f=p}),d("fmppd",function(t,n){e(t.exports,"default",()=>o);function o(e,t){if(null==e)return{};var n={};for(var o in e)if(({}).hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;n[o]=e[o]}return n}}),d("8rjuF",function(t,n){e(t.exports,"default",()=>o);function o(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}),d("8gNfJ",function(t,n){e(t.exports,"default",()=>r);var o=c("8Iiho");function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,o.default)(e,t)}}),d("8Iiho",function(t,n){e(t.exports,"default",()=>o);function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}}),d("i35q9",function(t,n){e(t.exports,"default",()=>o);var o=l(c("fYo6y")).createContext(null)}),d("hBmiq",function(t,n){e(t.exports,"getChildMapping",()=>r),e(t.exports,"getInitialChildMapping",()=>s),e(t.exports,"getNextChildMapping",()=>l);var o=c("fYo6y");function r(e,t){var n=Object.create(null);return e&&o.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=t&&(0,o.isValidElement)(e)?t(e):e}),n}function i(e,t,n){return null!=n[t]?n[t]:e.props[t]}function s(e,t){return r(e.children,function(n){return(0,o.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:i(n,"appear",e),enter:i(n,"enter",e),exit:i(n,"exit",e)})})}function l(e,t,n){var s=r(e.children),l=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var o,r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var l={};for(var a in t){if(r[a])for(o=0;o<r[a].length;o++){var u=r[a][o];l[r[a][o]]=n(u)}l[a]=n(a)}for(o=0;o<i.length;o++)l[i[o]]=n(i[o]);return l}(t,s);return Object.keys(l).forEach(function(r){var a=l[r];if((0,o.isValidElement)(a)){var u=r in t,c=r in s,d=t[r],h=(0,o.isValidElement)(d)&&!d.props.in;c&&(!u||h)?l[r]=(0,o.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:i(a,"exit",e),enter:i(a,"enter",e)}):c||!u||h?c&&u&&(0,o.isValidElement)(d)&&(l[r]=(0,o.cloneElement)(a,{onExited:n.bind(null,a),in:d.props.in,exit:i(a,"exit",e),enter:i(a,"enter",e)})):l[r]=(0,o.cloneElement)(a,{in:!1})}}),l}}),d("fgezg",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"Timeout",{enumerable:!0,get:function(){return o.Timeout}}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("jSijN"))}),d("jSijN",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Timeout=void 0,e.exports.default=function(){let e=(0,o.default)(i.create).current;return(0,r.default)(e.disposeEffect),e};var o=n(c("c3sDl")),r=n(c("2a8Xm"));class i{static create(){return new i}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}e.exports.Timeout=i}),d("2a8Xm",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){o.useEffect(e,r)};var o=n(c("fYo6y"));let r=[]}),d("lzni9",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa")),s=c("iM5HV");e.exports.default=function(e){let{className:t,classes:n,pulsate:o=!1,rippleX:l,rippleY:a,rippleSize:u,in:c,onExited:d,timeout:h}=e,[p,f]=r.useState(!1),g=(0,i.default)(t,n.ripple,n.rippleVisible,o&&n.ripplePulsate),m=(0,i.default)(n.child,p&&n.childLeaving,o&&n.childPulsate);return c||p||f(!0),r.useEffect(()=>{if(!c&&null!=d){let e=setTimeout(d,h);return()=>{clearTimeout(e)}}},[d,c,h]),(0,s.jsx)("span",{className:g,style:{width:u,height:u,top:-(u/2)+a,left:-(u/2)+l},children:(0,s.jsx)("span",{className:m})})}}),d("7ZvZi",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getTouchRippleUtilityClass=function(e){return(0,r.default)("MuiTouchRipple",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);e.exports.default=i}),d("iQYQc",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getButtonBaseUtilityClass=function(e){return(0,r.default)("MuiButtonBase",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiButtonBase",["root","disabled","focusVisible"]);e.exports.default=i}),d("j6wZy",function(e,t){var n=c("2zxFA").default,o=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var r={circularProgressClasses:!0};Object.defineProperty(e.exports,"circularProgressClasses",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return i.default}});var i=o(c("30y1Z")),s=n(c("ominO"));Object.keys(s).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t))&&(t in e.exports&&e.exports[t]===s[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return s[t]}}))})}),d("30y1Z",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa"));n(c("jJZEi"));var s=n(c("exr4N")),l=c("9uMYx"),a=n(c("7N7G2")),u=c("8IlyL"),d=n(c("hbVPp")),h=n(c("aiYwQ")),p=c("ominO"),f=c("iM5HV");let g=(0,l.keyframes)`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,m=(0,l.keyframes)`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,_="string"!=typeof g?(0,l.css)`
        animation: ${g} 1.4s linear infinite;
      `:null,b="string"!=typeof m?(0,l.css)`
        animation: ${m} 1.4s ease-in-out infinite;
      `:null,y=e=>{let{classes:t,variant:n,color:o,disableShrink:r}=e,i={root:["root",n,`color${(0,d.default)(o)}`],svg:["svg"],circle:["circle",`circle${(0,d.default)(n)}`,r&&"circleDisableShrink"]};return(0,s.default)(i,p.getCircularProgressUtilityClass,t)},T=(0,l.styled)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],t[`color${(0,d.default)(n.color)}`]]}})((0,a.default)(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:_||{animation:`${g} 1.4s linear infinite`}},...Object.entries(e.palette).filter((0,h.default)()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),E=(0,l.styled)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),v=(0,l.styled)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.circle,t[`circle${(0,d.default)(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})((0,a.default)(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink,style:b||{animation:`${m} 1.4s ease-in-out infinite`}}]}))),C=r.forwardRef(function(e,t){let n=(0,u.useDefaultProps)({props:e,name:"MuiCircularProgress"}),{className:o,color:r="primary",disableShrink:s=!1,size:l=40,style:a,thickness:c=3.6,value:d=0,variant:h="indeterminate",...p}=n,g={...n,color:r,disableShrink:s,size:l,thickness:c,value:d,variant:h},m=y(g),_={},b={},C={};if("determinate"===h){let e=2*Math.PI*((44-c)/2);_.strokeDasharray=e.toFixed(3),C["aria-valuenow"]=Math.round(d),_.strokeDashoffset=`${((100-d)/100*e).toFixed(3)}px`,b.transform="rotate(-90deg)"}return(0,f.jsx)(T,{className:(0,i.default)(m.root,o),style:{width:l,height:l,...b,...a},ownerState:g,ref:t,role:"progressbar",...C,...p,children:(0,f.jsx)(E,{className:m.svg,ownerState:g,viewBox:"22 22 44 44",children:(0,f.jsx)(v,{className:m.circle,style:_,ownerState:g,cx:44,cy:44,r:(44-c)/2,fill:"none",strokeWidth:c})})})});e.exports.default=C}),d("ominO",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getCircularProgressUtilityClass=function(e){return(0,r.default)("MuiCircularProgress",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);e.exports.default=i}),d("b9pL7",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getIconButtonUtilityClass=function(e){return(0,r.default)("MuiIconButton",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]);e.exports.default=i}),d("4XuF0",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=c("b0aoq")}),d("cp5Pj",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa")),s=n(c("exr4N")),l=c("jjMO3"),a=n(c("aTsCn")),u=n(c("hbVPp")),d=c("9uMYx"),h=n(c("7N7G2")),p=n(c("aiYwQ")),f=c("8IlyL"),g=o(c("9Zptg")),m=n(c("cHdpX")),_=n(c("erk6g")),b=c("iM5HV");let y=e=>{let{classes:t,color:n,disabled:o,disableElevation:r,fullWidth:i,orientation:l,variant:a}=e,c={root:["root",a,l,i&&"fullWidth",r&&"disableElevation",`color${(0,u.default)(n)}`],grouped:["grouped",`grouped${(0,u.default)(l)}`,`grouped${(0,u.default)(a)}`,`grouped${(0,u.default)(a)}${(0,u.default)(l)}`,`grouped${(0,u.default)(a)}${(0,u.default)(n)}`,o&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,s.default)(c,g.getButtonGroupUtilityClass,t)},T=(0,d.styled)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`& .${g.default.grouped}`]:t.grouped},{[`& .${g.default.grouped}`]:t[`grouped${(0,u.default)(n.orientation)}`]},{[`& .${g.default.grouped}`]:t[`grouped${(0,u.default)(n.variant)}`]},{[`& .${g.default.grouped}`]:t[`grouped${(0,u.default)(n.variant)}${(0,u.default)(n.orientation)}`]},{[`& .${g.default.grouped}`]:t[`grouped${(0,u.default)(n.variant)}${(0,u.default)(n.color)}`]},{[`& .${g.default.firstButton}`]:t.firstButton},{[`& .${g.default.lastButton}`]:t.lastButton},{[`& .${g.default.middleButton}`]:t.middleButton},t.root,t[n.variant],!0===n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,"vertical"===n.orientation&&t.vertical]}})((0,h.default)(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(e.vars||e).shadows[2]}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${g.default.lastButton},& .${g.default.middleButton}`]:{borderTopRightRadius:0,borderTopLeftRadius:0},[`& .${g.default.firstButton},& .${g.default.middleButton}`]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{[`& .${g.default.firstButton},& .${g.default.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${g.default.lastButton},& .${g.default.middleButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{[`& .${g.default.firstButton},& .${g.default.middleButton}`]:{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${"light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${g.default.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},{props:{variant:"text",orientation:"vertical"},style:{[`& .${g.default.firstButton},& .${g.default.middleButton}`]:{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${"light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${g.default.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},...Object.entries(e.palette).filter((0,p.default)()).flatMap(([t])=>[{props:{variant:"text",color:t},style:{[`& .${g.default.firstButton},& .${g.default.middleButton}`]:{borderColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / 0.5)`:(0,l.alpha)(e.palette[t].main,.5)}}}]),{props:{variant:"outlined",orientation:"horizontal"},style:{[`& .${g.default.firstButton},& .${g.default.middleButton}`]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},[`& .${g.default.lastButton},& .${g.default.middleButton}`]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{[`& .${g.default.firstButton},& .${g.default.middleButton}`]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},[`& .${g.default.lastButton},& .${g.default.middleButton}`]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{[`& .${g.default.firstButton},& .${g.default.middleButton}`]:{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${g.default.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},{props:{variant:"contained",orientation:"vertical"},style:{[`& .${g.default.firstButton},& .${g.default.middleButton}`]:{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${g.default.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}}}},...Object.entries(e.palette).filter((0,p.default)(["dark"])).map(([t])=>({props:{variant:"contained",color:t},style:{[`& .${g.default.firstButton},& .${g.default.middleButton}`]:{borderColor:(e.vars||e).palette[t].dark}}}))],[`& .${g.default.grouped}`]:{minWidth:40,boxShadow:"none",props:{variant:"contained"},style:{"&:hover":{boxShadow:"none"}}}}))),E=r.forwardRef(function(e,t){let n=(0,f.useDefaultProps)({props:e,name:"MuiButtonGroup"}),{children:o,className:s,color:l="primary",component:u="div",disabled:c=!1,disableElevation:d=!1,disableFocusRipple:h=!1,disableRipple:p=!1,fullWidth:g=!1,orientation:E="horizontal",size:v="medium",variant:C="outlined",...I}=n,S={...n,color:l,component:u,disabled:c,disableElevation:d,disableFocusRipple:h,disableRipple:p,fullWidth:g,orientation:E,size:v,variant:C},w=y(S),k=r.useMemo(()=>({className:w.grouped,color:l,disabled:c,disableElevation:d,disableFocusRipple:h,disableRipple:p,fullWidth:g,size:v,variant:C}),[l,c,d,h,p,g,v,C,w.grouped]),O=(0,a.default)(o),R=O.length,x=e=>{let t=0===e,n=e===R-1;return t&&n?"":t?w.firstButton:n?w.lastButton:w.middleButton};return(0,b.jsx)(T,{as:u,role:"group",className:(0,i.default)(w.root,s),ref:t,ownerState:S,...I,children:(0,b.jsx)(m.default.Provider,{value:k,children:O.map((e,t)=>(0,b.jsx)(_.default.Provider,{value:x(t),children:e},t))})})});e.exports.default=E}),d("aTsCn",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("5yZWE"))}),d("5yZWE",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return o.Children.toArray(e).filter(e=>o.isValidElement(e))};var o=n(c("fYo6y"))}),d("9Zptg",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getButtonGroupUtilityClass=function(e){return(0,r.default)("MuiButtonGroup",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]);e.exports.default=i}),d("cHdpX",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;let o=n(c("fYo6y")).createContext({});e.exports.default=o}),d("erk6g",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;let o=n(c("fYo6y")).createContext(void 0);e.exports.default=o}),d("iHNV0",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa")),s=n(c("5sN54")),l=n(c("exr4N")),a=c("jjMO3"),u=c("b0aoq"),d=n(c("7aPOe")),h=c("9uMYx"),p=n(c("7N7G2")),f=c("8IlyL"),g=n(c("hOBP7")),m=n(c("j6wZy")),_=n(c("hbVPp")),b=n(c("aiYwQ")),y=o(c("3O7D4")),T=n(c("cHdpX")),E=n(c("erk6g")),v=c("iM5HV");let C=e=>{let{color:t,disableElevation:n,fullWidth:o,size:r,variant:i,loading:s,loadingPosition:a,classes:u}=e,c={root:["root",s&&"loading",i,`${i}${(0,_.default)(t)}`,`size${(0,_.default)(r)}`,`${i}Size${(0,_.default)(r)}`,`color${(0,_.default)(t)}`,n&&"disableElevation",o&&"fullWidth",s&&`loadingPosition${(0,_.default)(a)}`],startIcon:["icon","startIcon",`iconSize${(0,_.default)(r)}`],endIcon:["icon","endIcon",`iconSize${(0,_.default)(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=(0,l.default)(c,y.getButtonUtilityClass,u);return{...u,...d}},I=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],S=(0,h.styled)(g.default,{shouldForwardProp:e=>(0,d.default)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,_.default)(n.color)}`],t[`size${(0,_.default)(n.size)}`],t[`${n.variant}Size${(0,_.default)(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})((0,p.default)(({theme:e})=>{let t="light"===e.palette.mode?e.palette.grey[300]:e.palette.grey[800],n="light"===e.palette.mode?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${y.default.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${y.default.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${y.default.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${y.default.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter((0,b.default)()).map(([t])=>({props:{color:t},style:{"--variant-textColor":(e.vars||e).palette[t].main,"--variant-outlinedColor":(e.vars||e).palette[t].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[t].mainChannel} / 0.5)`:(0,a.alpha)(e.palette[t].main,.5),"--variant-containedColor":(e.vars||e).palette[t].contrastText,"--variant-containedBg":(e.vars||e).palette[t].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[t].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,a.alpha)(e.palette[t].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[t].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,a.alpha)(e.palette[t].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,a.alpha)(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,a.alpha)(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${y.default.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${y.default.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${y.default.loading}`]:{color:"transparent"}}}]}})),w=(0,h.styled)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${(0,_.default)(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...I]})),k=(0,h.styled)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${(0,_.default)(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...I]})),O=(0,h.styled)("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),R=(0,h.styled)("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(e,t)=>t.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),x=r.forwardRef(function(e,t){let n=r.useContext(T.default),o=r.useContext(E.default),l=(0,s.default)(n,e),a=(0,f.useDefaultProps)({props:l,name:"MuiButton"}),{children:c,color:d="primary",component:h="button",className:p,disabled:g=!1,disableElevation:_=!1,disableFocusRipple:b=!1,endIcon:y,focusVisibleClassName:I,fullWidth:x=!1,id:$,loading:A=null,loadingIndicator:N,loadingPosition:M="center",size:L="medium",startIcon:D,type:P,variant:B="text",...F}=a,U=(0,u.unstable_useId)($),H=N??(0,v.jsx)(m.default,{"aria-labelledby":U,color:"inherit",size:16}),V={...a,color:d,component:h,disabled:g,disableElevation:_,disableFocusRipple:b,fullWidth:x,loading:A,loadingIndicator:H,loadingPosition:M,size:L,type:P,variant:B},G=C(V),j=(D||A&&"start"===M)&&(0,v.jsx)(w,{className:G.startIcon,ownerState:V,children:D||(0,v.jsx)(R,{className:G.loadingIconPlaceholder,ownerState:V})}),W=(y||A&&"end"===M)&&(0,v.jsx)(k,{className:G.endIcon,ownerState:V,children:y||(0,v.jsx)(R,{className:G.loadingIconPlaceholder,ownerState:V})}),z="boolean"==typeof A?(0,v.jsx)("span",{className:G.loadingWrapper,style:{display:"contents"},children:A&&(0,v.jsx)(O,{className:G.loadingIndicator,ownerState:V,children:H})}):null;return(0,v.jsxs)(S,{ownerState:V,className:(0,i.default)(n.className,G.root,p,o||""),component:h,disabled:g||A,focusRipple:!b,focusVisibleClassName:(0,i.default)(G.focusVisible,I),ref:t,type:P,id:A?U:$,...F,classes:G,children:[j,"end"!==M&&z,c,"end"===M&&z,W]})});e.exports.default=x}),d("3O7D4",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getButtonUtilityClass=function(e){return(0,r.default)("MuiButton",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]);e.exports.default=i}),d("9eYSC",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=e.exports.MenuPaper=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa")),s=n(c("exr4N"));n(c("euGUj"));var l=c("fLdxf"),a=n(c("eY9hg")),u=n(c("4yRcV")),d=o(c("l6OCw")),h=n(c("7aPOe")),p=c("9uMYx"),f=c("8IlyL"),g=c("4mwx6"),m=n(c("d5UVe")),_=c("iM5HV");let b={vertical:"top",horizontal:"right"},y={vertical:"top",horizontal:"left"},T=e=>{let{classes:t}=e;return(0,s.default)({root:["root"],paper:["paper"],list:["list"]},g.getMenuUtilityClass,t)},E=(0,p.styled)(d.default,{shouldForwardProp:e=>(0,h.default)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),v=e.exports.MenuPaper=(0,p.styled)(d.PopoverPaper,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),C=(0,p.styled)(u.default,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),I=r.forwardRef(function(e,t){let n=(0,f.useDefaultProps)({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:s,className:u,disableAutoFocusItem:c=!1,MenuListProps:d={},onClose:h,open:p,PaperProps:g={},PopoverClasses:I,transitionDuration:S="auto",TransitionProps:{onEntering:w,...k}={},variant:O="selectedMenu",slots:R={},slotProps:x={},...$}=n,A=(0,l.useRtl)(),N={...n,autoFocus:o,disableAutoFocusItem:c,MenuListProps:d,onEntering:w,PaperProps:g,transitionDuration:S,TransitionProps:k,variant:O},M=T(N),L=o&&!c&&p,D=r.useRef(null),P=(e,t)=>{D.current&&D.current.adjustStyleForScrollbar(e,{direction:A?"rtl":"ltr"}),w&&w(e,t)},B=e=>{"Tab"===e.key&&(e.preventDefault(),h&&h(e,"tabKeyDown"))},F=-1;r.Children.map(s,(e,t)=>{r.isValidElement(e)&&(e.props.disabled||("selectedMenu"===O&&e.props.selected?F=t:-1===F&&(F=t)))});let U={slots:R,slotProps:{list:d,transition:k,paper:g,...x}},H=(0,a.default)({elementType:R.root,externalSlotProps:x.root,ownerState:N,className:[M.root,u]}),[V,G]=(0,m.default)("paper",{className:M.paper,elementType:v,externalForwardedProps:U,shouldForwardComponentProp:!0,ownerState:N}),[j,W]=(0,m.default)("list",{className:(0,i.default)(M.list,d.className),elementType:C,shouldForwardComponentProp:!0,externalForwardedProps:U,getSlotProps:e=>({...e,onKeyDown:t=>{B(t),e.onKeyDown?.(t)}}),ownerState:N}),z="function"==typeof U.slotProps.transition?U.slotProps.transition(N):U.slotProps.transition;return(0,_.jsx)(E,{onClose:h,anchorOrigin:{vertical:"bottom",horizontal:A?"right":"left"},transformOrigin:A?b:y,slots:{root:R.root,paper:V,backdrop:R.backdrop,...R.transition&&{transition:R.transition}},slotProps:{root:H,paper:G,backdrop:"function"==typeof x.backdrop?x.backdrop(N):x.backdrop,transition:{...z,onEntering:(...e)=>{P(...e),z?.onEntering?.(...e)}}},open:p,ref:t,transitionDuration:S,ownerState:N,...$,classes:I,children:(0,_.jsx)(j,{actions:D,autoFocus:o&&(-1===F||c),autoFocusItem:L,variant:O,...W,children:s})})});e.exports.default=I}),d("euGUj",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("ij2bR"))}),d("ij2bR",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n,o,r){return null}}),d("eY9hg",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("geMo8"))}),d("geMo8",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("fyH0H")),r=n(c("9k77J")),i=n(c("8tb9I")),s=n(c("51p8b"));e.exports.default=function(e){let{elementType:t,externalSlotProps:n,ownerState:l,skipResolvingSlotProps:a=!1,...u}=e,c=a?{}:(0,s.default)(n,l),{props:d,internalRef:h}=(0,i.default)({...u,externalSlotProps:c}),p=(0,o.default)(h,c?.ref,e.additionalProps?.ref);return(0,r.default)(t,{...d,ref:p},l)}}),d("9k77J",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("6DD7g"))}),d("6DD7g",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("k0xyh"));e.exports.default=function(e,t,n){return void 0===e||(0,o.default)(e)?t:{...t,ownerState:{...t.ownerState,...n}}}}),d("k0xyh",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("29RzT"))}),d("29RzT",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default=function(e){return"string"==typeof e}}),d("8tb9I",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("hDTPT"))}),d("hDTPT",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("eUZaa")),r=n(c("870OY")),i=n(c("kNkyB"));e.exports.default=function(e){let{getSlotProps:t,additionalProps:n,externalSlotProps:s,externalForwardedProps:l,className:a}=e;if(!t){let e=(0,o.default)(n?.className,a,l?.className,s?.className),t={...n?.style,...l?.style,...s?.style},r={...n,...l,...s};return e.length>0&&(r.className=e),Object.keys(t).length>0&&(r.style=t),{props:r,internalRef:void 0}}let u=(0,r.default)({...l,...s}),c=(0,i.default)(s),d=(0,i.default)(l),h=t(u),p=(0,o.default)(h?.className,n?.className,a,l?.className,s?.className),f={...h?.style,...n?.style,...l?.style,...s?.style},g={...h,...n,...d,...c};return p.length>0&&(g.className=p),Object.keys(f).length>0&&(g.style=f),{props:g,internalRef:h.ref}}}),d("870OY",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("kSr6I"))}),d("kSr6I",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default=function(e,t=[]){if(void 0===e)return{};let n={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&"function"==typeof e[n]&&!t.includes(n)).forEach(t=>{n[t]=e[t]}),n}}),d("kNkyB",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("2ED0C"))}),d("2ED0C",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default=function(e){if(void 0===e)return{};let t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"==typeof e[t])).forEach(n=>{t[n]=e[n]}),t}}),d("51p8b",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("fvoL2"))}),d("fvoL2",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default=function(e,t,n){return"function"==typeof e?e(t,n):e}}),d("4yRcV",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("aQXy9"))}),d("aQXy9",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("i9mwF")),s=n(c("fLXIW")),l=n(c("d8oVx")),a=n(c("f9e7I")),u=n(c("hSRUb")),d=c("b0aoq"),h=c("iM5HV");function p(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function f(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function g(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join("")))}function m(e,t,n,o,r,i){let s=!1,l=r(e,t,!!t&&n);for(;l;){if(l===e.firstChild){if(s)return!1;s=!0}let t=!o&&(l.disabled||"true"===l.getAttribute("aria-disabled"));if(l.hasAttribute("tabindex")&&g(l,i)&&!t)return l.focus(),!0;l=r(e,l,n)}return!1}let _=r.forwardRef(function(e,t){let{actions:n,autoFocus:o=!1,autoFocusItem:c=!1,children:_,className:b,disabledItemsFocusable:y=!1,disableListWrap:T=!1,onKeyDown:E,variant:v="selectedMenu",...C}=e,I=r.useRef(null),S=r.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,u.default)(()=>{o&&I.current.focus()},[o]),r.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(e,{direction:t})=>{let n=!I.current.style.width;if(e.clientHeight<I.current.clientHeight&&n){let n=`${(0,l.default)((0,d.ownerWindow)(e))}px`;I.current.style["rtl"===t?"paddingLeft":"paddingRight"]=n,I.current.style.width=`calc(100% + ${n})`}return I.current}}),[]);let w=(0,a.default)(I,t),k=-1;r.Children.forEach(_,(e,t)=>{if(!r.isValidElement(e)){k===t&&(k+=1)>=_.length&&(k=-1);return}e.props.disabled||("selectedMenu"===v&&e.props.selected?k=t:-1===k&&(k=t)),k===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(k+=1)>=_.length&&(k=-1)});let O=r.Children.map(_,(e,t)=>{if(t===k){let t={};return c&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===v&&(t.tabIndex=0),r.cloneElement(e,t)}return e});return(0,h.jsx)(s.default,{role:"menu",ref:w,className:b,onKeyDown:e=>{let t=I.current,n=e.key;if(e.ctrlKey||e.metaKey||e.altKey){E&&E(e);return}let o=(0,i.default)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),m(t,o,T,y,p);else if("ArrowUp"===n)e.preventDefault(),m(t,o,T,y,f);else if("Home"===n)e.preventDefault(),m(t,null,T,y,p);else if("End"===n)e.preventDefault(),m(t,null,T,y,f);else if(1===n.length){let r=S.current,i=n.toLowerCase(),s=performance.now();r.keys.length>0&&(s-r.lastTime>500?(r.keys=[],r.repeating=!0,r.previousKeyMatched=!0):r.repeating&&i!==r.keys[0]&&(r.repeating=!1)),r.lastTime=s,r.keys.push(i);let l=o&&!r.repeating&&g(o,r);r.previousKeyMatched&&(l||m(t,o,!1,y,p,r))?e.preventDefault():r.previousKeyMatched=!1}E&&E(e)},tabIndex:o?0:-1,...C,children:O})});e.exports.default=_}),d("fLXIW",function(e,t){var n=c("2zxFA").default,o=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var r={listClasses:!0};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e.exports,"listClasses",{enumerable:!0,get:function(){return s.default}});var i=o(c("hZoD0")),s=n(c("fFkYm"));Object.keys(s).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t))&&(t in e.exports&&e.exports[t]===s[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return s[t]}}))})}),d("hZoD0",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa")),s=n(c("exr4N")),l=c("9uMYx"),a=c("8IlyL"),u=n(c("6zJmc")),d=c("fFkYm"),h=c("iM5HV");let p=e=>{let{classes:t,disablePadding:n,dense:o,subheader:r}=e;return(0,s.default)({root:["root",!n&&"padding",o&&"dense",r&&"subheader"]},d.getListUtilityClass,t)},f=(0,l.styled)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),g=r.forwardRef(function(e,t){let n=(0,a.useDefaultProps)({props:e,name:"MuiList"}),{children:o,className:s,component:l="ul",dense:c=!1,disablePadding:d=!1,subheader:g,...m}=n,_=r.useMemo(()=>({dense:c}),[c]),b={...n,component:l,dense:c,disablePadding:d},y=p(b);return(0,h.jsx)(u.default.Provider,{value:_,children:(0,h.jsxs)(f,{as:l,className:(0,i.default)(y.root,s),ref:t,ownerState:b,...m,children:[g,o]})})});e.exports.default=g}),d("6zJmc",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;let o=n(c("fYo6y")).createContext({});e.exports.default=o}),d("fFkYm",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getListUtilityClass=function(e){return(0,r.default)("MuiList",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiList",["root","padding","dense","subheader"]);e.exports.default=i}),d("d8oVx",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("cP2rz"));e.exports.default=o.default}),d("cP2rz",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("13nVf"))}),d("13nVf",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e=window){let t=e.document.documentElement.clientWidth;return e.innerWidth-t}}),d("l6OCw",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var o={popoverClasses:!0};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e.exports,"popoverClasses",{enumerable:!0,get:function(){return i.default}});var r=n(c("97Il8"));Object.keys(r).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(o,t))&&(t in e.exports&&e.exports[t]===r[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return r[t]}}))});var i=n(c("6W2FD"));Object.keys(i).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(o,t))&&(t in e.exports&&e.exports[t]===i[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return i[t]}}))})}),d("97Il8",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=e.exports.PopoverRoot=e.exports.PopoverPaper=void 0,e.exports.getOffsetLeft=v,e.exports.getOffsetTop=E;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa")),s=n(c("exr4N"));n(c("euGUj")),n(c("cdayC")),n(c("lbrXk")),n(c("fZ1hQ")),n(c("jJZEi"));var l=n(c("2a6Dw")),a=c("9uMYx"),u=c("8IlyL"),d=n(c("gEHyI")),h=n(c("i9mwF")),p=n(c("4Nw0N")),f=n(c("gCYxT")),g=n(c("7qA5O")),m=n(c("jSWP1")),_=c("6W2FD"),b=n(c("d5UVe")),y=c("b0aoq"),T=c("iM5HV");function E(e,t){let n=0;return"number"==typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function v(e,t){let n=0;return"number"==typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function C(e){return[e.horizontal,e.vertical].map(e=>"number"==typeof e?`${e}px`:e).join(" ")}function I(e){return"function"==typeof e?e():e}let S=e=>{let{classes:t}=e;return(0,s.default)({root:["root"],paper:["paper"]},_.getPopoverUtilityClass,t)},w=e.exports.PopoverRoot=(0,a.styled)(g.default,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),k=e.exports.PopoverPaper=(0,a.styled)(m.default,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),O=r.forwardRef(function(e,t){let n=(0,u.useDefaultProps)({props:e,name:"MuiPopover"}),{action:o,anchorEl:s,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:g="anchorEl",children:m,className:_,container:O,elevation:R=8,marginThreshold:x=16,open:$,PaperProps:A={},slots:N={},slotProps:M={},transformOrigin:L={vertical:"top",horizontal:"left"},TransitionComponent:D,transitionDuration:P="auto",TransitionProps:B={},disableScrollLock:F=!1,...U}=n,H=r.useRef(),V={...n,anchorOrigin:a,anchorReference:g,elevation:R,marginThreshold:x,transformOrigin:L,TransitionComponent:D,transitionDuration:P,TransitionProps:B},G=S(V),j=r.useCallback(()=>{if("anchorPosition"===g)return c;let e=I(s),t=(e&&1===e.nodeType?e:(0,h.default)(H.current).body).getBoundingClientRect();return{top:t.top+E(t,a.vertical),left:t.left+v(t,a.horizontal)}},[s,a.horizontal,a.vertical,c,g]),W=r.useCallback(e=>({vertical:E(e,L.vertical),horizontal:v(e,L.horizontal)}),[L.horizontal,L.vertical]),z=r.useCallback(e=>{let t={width:e.offsetWidth,height:e.offsetHeight},n=W(t);if("none"===g)return{top:null,left:null,transformOrigin:C(n)};let o=j(),r=o.top-n.vertical,i=o.left-n.horizontal,l=r+t.height,a=i+t.width,u=(0,p.default)(I(s)),c=u.innerHeight-x,d=u.innerWidth-x;if(null!==x&&r<x){let e=r-x;r-=e,n.vertical+=e}else if(null!==x&&l>c){let e=l-c;r-=e,n.vertical+=e}if(null!==x&&i<x){let e=i-x;i-=e,n.horizontal+=e}else if(a>d){let e=a-d;i-=e,n.horizontal+=e}return{top:`${Math.round(r)}px`,left:`${Math.round(i)}px`,transformOrigin:C(n)}},[s,g,j,W,x]),[X,Y]=r.useState($),K=r.useCallback(()=>{let e=H.current;if(!e)return;let t=z(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,Y(!0)},[z]);r.useEffect(()=>(F&&window.addEventListener("scroll",K),()=>window.removeEventListener("scroll",K)),[s,F,K]);let J=()=>{K()},Z=()=>{Y(!1)};r.useEffect(()=>{$&&K()}),r.useImperativeHandle(o,()=>$?{updatePosition:()=>{K()}}:null,[$,K]),r.useEffect(()=>{if(!$)return;let e=(0,d.default)(()=>{K()}),t=(0,p.default)(I(s));return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[s,$,K]);let q=P,Q={slots:{transition:D,...N},slotProps:{transition:B,paper:A,...M}},[ee,et]=(0,b.default)("transition",{elementType:f.default,externalForwardedProps:Q,ownerState:V,getSlotProps:e=>({...e,onEntering:(t,n)=>{e.onEntering?.(t,n),J()},onExited:t=>{e.onExited?.(t),Z()}}),additionalProps:{appear:!0,in:$}});"auto"!==P||ee.muiSupportAuto||(q=void 0);let en=O||(s?(0,h.default)(I(s)).body:void 0),[eo,{slots:er,slotProps:ei,...es}]=(0,b.default)("root",{ref:t,elementType:w,externalForwardedProps:{...Q,...U},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:N.backdrop},slotProps:{backdrop:(0,y.mergeSlotProps)("function"==typeof M.backdrop?M.backdrop(V):M.backdrop,{invisible:!0})},container:en,open:$},ownerState:V,className:(0,i.default)(G.root,_)}),[el,ea]=(0,b.default)("paper",{ref:H,className:G.paper,elementType:k,externalForwardedProps:Q,shouldForwardComponentProp:!0,additionalProps:{elevation:R,style:X?void 0:{opacity:0}},ownerState:V});return(0,T.jsx)(eo,{...es,...!(0,l.default)(eo)&&{slots:er,slotProps:ei,disableScrollLock:F},children:(0,T.jsx)(ee,{...et,timeout:q,children:(0,T.jsx)(el,{...ea,children:m})})})});e.exports.default=O}),d("2a6Dw",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.default=function(e){return"string"==typeof e}}),d("gCYxT",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("3ic22"))}),d("3ic22",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("fgezg"));n(c("c4gBf"));var s=n(c("ndzfe")),l=c("7o5bq"),a=c("9uMYx"),u=c("dOvjA"),d=n(c("f9e7I")),h=c("iM5HV");function p(e){return`scale(${e}, ${e**2})`}let f={entering:{opacity:1,transform:p(1)},entered:{opacity:1,transform:"none"}},g="undefined"!=typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),m=r.forwardRef(function(e,t){let{addEndListener:n,appear:o=!0,children:c,easing:m,in:_,onEnter:b,onEntered:y,onEntering:T,onExit:E,onExited:v,onExiting:C,style:I,timeout:S="auto",TransitionComponent:w=l.default,...k}=e,O=(0,i.default)(),R=r.useRef(),x=(0,a.useTheme)(),$=r.useRef(null),A=(0,d.default)($,(0,s.default)(c),t),N=e=>t=>{if(e){let n=$.current;void 0===t?e(n):e(n,t)}},M=N(T),L=N((e,t)=>{let n;(0,u.reflow)(e);let{duration:o,delay:r,easing:i}=(0,u.getTransitionProps)({style:I,timeout:S,easing:m},{mode:"enter"});"auto"===S?R.current=n=x.transitions.getAutoHeightDuration(e.clientHeight):n=o,e.style.transition=[x.transitions.create("opacity",{duration:n,delay:r}),x.transitions.create("transform",{duration:g?n:.666*n,delay:r,easing:i})].join(","),b&&b(e,t)}),D=N(y),P=N(C),B=N(e=>{let t,{duration:n,delay:o,easing:r}=(0,u.getTransitionProps)({style:I,timeout:S,easing:m},{mode:"exit"});"auto"===S?R.current=t=x.transitions.getAutoHeightDuration(e.clientHeight):t=n,e.style.transition=[x.transitions.create("opacity",{duration:t,delay:o}),x.transitions.create("transform",{duration:g?t:.666*t,delay:g?o:o||.333*t,easing:r})].join(","),e.style.opacity=0,e.style.transform=p(.75),E&&E(e)}),F=N(v);return(0,h.jsx)(w,{appear:o,in:_,nodeRef:$,onEnter:L,onEntered:D,onEntering:M,onExit:B,onExited:F,onExiting:P,addEndListener:e=>{"auto"===S&&O.start(R.current||0,e),n&&n($.current,e)},timeout:"auto"===S?null:S,...k,children:(e,{ownerState:t,...n})=>r.cloneElement(c,{style:{opacity:0,transform:p(.75),visibility:"exited"!==e||_?void 0:"hidden",...f[e],...I,...c.props.style},ref:A,...n})})});m&&(m.muiSupportAuto=!0),e.exports.default=m}),d("c4gBf",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("76why"))}),d("76why",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=n(c("iCIOI")),r=n(c("jJZEi"));function i(e,t,n,o,r){let i,s=e[t];if(null==s||"undefined"==typeof window)return null;let l=s.type;return("function"==typeof l&&!function(e){let{prototype:t={}}=e;return!!t.isReactComponent}(l)&&(i="Did you accidentally use a plain function component for an element instead?"),void 0!==i)?Error(`Invalid ${o} \`${r||t}\` supplied to \`${n}\`. Expected an element that can hold a ref. ${i} For more information see https://mui.com/r/caveat-with-refs-guide`):null}let s=(0,r.default)(o.default.element,i);s.isRequired=(0,r.default)(o.default.element.isRequired,i),e.exports.default=s}),d("ndzfe",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("2hHbB"))}),d("2hHbB",function(e,t){var n=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return parseInt(o.version,10)>=19?e?.props?.ref||null:e?.ref||null};var o=n(c("fYo6y"))}),d("7o5bq",function(t,n){e(t.exports,"default",()=>y);var o=c("fmppd"),r=c("8gNfJ"),i=c("fYo6y"),s=c("d2L2u"),a=c("4Gk6X"),u=c("i35q9"),d=c("7vnXZ"),h="unmounted",p="exited",f="entering",g="entered",m="exiting",_=function(e){function t(t,n){var o,r=e.call(this,t,n)||this,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=p,r.appearStatus=f):o=g:o=t.unmountOnExit||t.mountOnEnter?h:p,r.state={status:o},r.nextCallback=null,r}(0,r.default)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===h?{status:p}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==f&&n!==g&&(t=f):(n===f||n===g)&&(t=m)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,o=this.props.timeout;return e=t=n=o,null!=o&&"number"!=typeof o&&(e=o.exit,t=o.enter,n=void 0!==o.appear?o.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===f){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:l(s).findDOMNode(this);n&&(0,d.forceReflow)(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===p&&this.setState({status:h})},n.performEnter=function(e){var t=this,n=this.props.enter,o=this.context?this.context.isMounting:e,r=this.props.nodeRef?[o]:[l(s).findDOMNode(this),o],i=r[0],u=r[1],c=this.getTimeouts(),d=o?c.appear:c.enter;if(!e&&!n||a.default.disabled)return void this.safeSetState({status:g},function(){t.props.onEntered(i)});this.props.onEnter(i,u),this.safeSetState({status:f},function(){t.props.onEntering(i,u),t.onTransitionEnd(d,function(){t.safeSetState({status:g},function(){t.props.onEntered(i,u)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),o=this.props.nodeRef?void 0:l(s).findDOMNode(this);if(!t||a.default.disabled)return void this.safeSetState({status:p},function(){e.props.onExited(o)});this.props.onExit(o),this.safeSetState({status:m},function(){e.props.onExiting(o),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:p},function(){e.props.onExited(o)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(o){n&&(n=!1,t.nextCallback=null,e(o))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:l(s).findDOMNode(this),o=null==e&&!this.props.addEndListener;if(!n||o)return void setTimeout(this.nextCallback,0);if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=r[0],a=r[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===h)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,o.default)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l(i).createElement(u.default.Provider,{value:null},"function"==typeof n?n(e,r):l(i).cloneElement(l(i).Children.only(n),r))},t}(l(i).Component);function b(){}_.contextType=u.default,_.propTypes={},_.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:b,onEntering:b,onEntered:b,onExit:b,onExiting:b,onExited:b},_.UNMOUNTED=h,_.EXITED=p,_.ENTERING=f,_.ENTERED=g,_.EXITING=m;var y=_}),d("4Gk6X",function(t,n){e(t.exports,"default",()=>o);var o={disabled:!1}}),d("7vnXZ",function(t,n){e(t.exports,"forceReflow",()=>o);var o=function(e){return e.scrollTop}}),d("dOvjA",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.getTransitionProps=function(e,t){let{timeout:n,easing:o,style:r={}}=e;return{duration:r.transitionDuration??("number"==typeof n?n:n[t.mode]||0),easing:r.transitionTimingFunction??("object"==typeof o?o[t.mode]:o),delay:r.transitionDelay}},e.exports.reflow=void 0,e.exports.reflow=e=>e.scrollTop}),d("7qA5O",function(e,t){var n=c("2zxFA").default,o=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var r={ModalManager:!0,modalClasses:!0};Object.defineProperty(e.exports,"ModalManager",{enumerable:!0,get:function(){return i.ModalManager}}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e.exports,"modalClasses",{enumerable:!0,get:function(){return l.default}});var i=c("32dqZ"),s=o(c("jXCe4")),l=n(c("b5nX1"));Object.keys(l).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t))&&(t in e.exports&&e.exports[t]===l[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return l[t]}}))})}),d("32dqZ",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ModalManager=void 0,e.exports.ariaHidden=i;var n=c("4U0DR"),o=c("buTCk"),r=c("d9nXb");function i(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function s(e){return parseInt((0,r.default)(e).getComputedStyle(e).paddingRight,10)||0}function l(e,t,n,o,r){let s=[t,n,...o];[].forEach.call(e.children,e=>{let t=!s.includes(e),n=!function(e){let t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&i(e,r)})}function a(e,t){let n=-1;return e.some((e,o)=>!!t(e)&&(n=o,!0)),n}e.exports.ModalManager=class{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&i(e.modalRef,!1);let o=function(e){let t=[];return[].forEach.call(e.children,e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);l(t,e.mount,e.modalRef,o,!0);let r=a(this.containers,e=>e.container===t);return -1!==r?this.containers[r].modals.push(e):this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:o}),n}mount(e,t){let i=a(this.containers,t=>t.modals.includes(e)),l=this.containers[i];l.restore||(l.restore=function(e,t){let i=[],l=e.container;if(!t.disableScrollLock){let e;if(function(e){let t=(0,o.default)(e);return t.body===e?(0,r.default)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(l)){let e=(0,n.default)((0,r.default)(l));i.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${s(l)+e}px`;let t=(0,o.default)(l).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{i.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${s(t)+e}px`})}if(l.parentNode instanceof DocumentFragment)e=(0,o.default)(l).body;else{let t=l.parentElement,n=(0,r.default)(l);e=t?.nodeName==="HTML"&&"scroll"===n.getComputedStyle(t).overflowY?t:l}i.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{i.forEach(({value:e,el:t,property:n})=>{e?t.style.setProperty(n,e):t.style.removeProperty(n)})}}(l,t))}remove(e,t=!0){let n=this.modals.indexOf(e);if(-1===n)return n;let o=a(this.containers,t=>t.modals.includes(e)),r=this.containers[o];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(n,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&i(e.modalRef,t),l(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(o,1);else{let e=r.modals[r.modals.length-1];e.modalRef&&i(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}}),d("4U0DR",function(t,n){e(t.exports,"default",()=>o);function o(e=window){let t=e.document.documentElement.clientWidth;return e.innerWidth-t}}),d("buTCk",function(t,n){e(t.exports,"default",()=>o);function o(e){return e&&e.ownerDocument||document}}),d("d9nXb",function(t,n){e(t.exports,"default",()=>r);var o=c("buTCk");function r(e){return(0,o.default)(e).defaultView||window}}),d("jXCe4",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa"));n(c("euGUj")),n(c("c4gBf"));var s=n(c("exr4N")),l=n(c("9VCqg")),a=n(c("kbY3K")),u=c("9uMYx"),d=n(c("7N7G2")),h=c("8IlyL"),p=n(c("5qQpG")),f=n(c("kAruu")),g=c("b5nX1"),m=n(c("d5UVe")),_=c("iM5HV");let b=e=>{let{open:t,exited:n,classes:o}=e;return(0,s.default)({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},g.getModalUtilityClass,o)},y=(0,u.styled)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((0,d.default)(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),T=(0,u.styled)(p.default,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),E=r.forwardRef(function(e,t){let n=(0,h.useDefaultProps)({name:"MuiModal",props:e}),{BackdropComponent:o=T,BackdropProps:s,classes:u,className:c,closeAfterTransition:d=!1,children:p,container:g,component:E,components:v={},componentsProps:C={},disableAutoFocus:I=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:w=!1,disablePortal:k=!1,disableRestoreFocus:O=!1,disableScrollLock:R=!1,hideBackdrop:x=!1,keepMounted:$=!1,onClose:A,onTransitionEnter:N,onTransitionExited:M,open:L,slotProps:D={},slots:P={},theme:B,...F}=n,U={...n,closeAfterTransition:d,disableAutoFocus:I,disableEnforceFocus:S,disableEscapeKeyDown:w,disablePortal:k,disableRestoreFocus:O,disableScrollLock:R,hideBackdrop:x,keepMounted:$},{getRootProps:H,getBackdropProps:V,getTransitionProps:G,portalRef:j,isTopModal:W,exited:z,hasTransition:X}=(0,f.default)({...U,rootRef:t}),Y={...U,exited:z},K=b(Y),J={};if(void 0===p.props.tabIndex&&(J.tabIndex="-1"),X){let{onEnter:e,onExited:t}=G();J.onEnter=e,J.onExited=t}let Z={slots:{root:v.Root,backdrop:v.Backdrop,...P},slotProps:{...C,...D}},[q,Q]=(0,m.default)("root",{ref:t,elementType:y,externalForwardedProps:{...Z,...F,component:E},getSlotProps:H,ownerState:Y,className:(0,i.default)(c,K?.root,!Y.open&&Y.exited&&K?.hidden)}),[ee,et]=(0,m.default)("backdrop",{ref:s?.ref,elementType:o,externalForwardedProps:Z,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:e=>V({...e,onClick:t=>{e?.onClick&&e.onClick(t)}}),className:(0,i.default)(s?.className,K?.backdrop),ownerState:Y});return $||L||X&&!z?(0,_.jsx)(a.default,{ref:j,container:g,disablePortal:k,children:(0,_.jsxs)(q,{...Q,children:[!x&&o?(0,_.jsx)(ee,{...et}):null,(0,_.jsx)(l.default,{disableEnforceFocus:S,disableAutoFocus:I,disableRestoreFocus:O,isEnabled:W,open:L,children:r.cloneElement(p,J)})]})}):null});e.exports.default=E}),d("9VCqg",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("dEOjv"))}),d("dEOjv",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=c("gLc06"),s=c("buTCk"),l=c("axxS2"),a=c("iM5HV");function u(e){let t=[],n=[];return Array.from(e.querySelectorAll('input,select,textarea,a[href],button,[tabindex],audio[controls],video[controls],[contenteditable]:not([contenteditable="false"])')).forEach((e,o)=>{let r=function(e){let t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1===r||e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type||!e.name)return!1;let t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`),n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e)||(0===r?t.push(e):n.push({documentOrder:o,tabIndex:r,node:e}))}),n.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function d(){return!0}e.exports.default=function(e){let{children:t,disableAutoFocus:n=!1,disableEnforceFocus:o=!1,disableRestoreFocus:c=!1,getTabbable:h=u,isEnabled:p=d,open:f}=e,g=r.useRef(!1),m=r.useRef(null),_=r.useRef(null),b=r.useRef(null),y=r.useRef(null),T=r.useRef(!1),E=r.useRef(null),v=(0,l.default)((0,i.default)(t),E),C=r.useRef(null);r.useEffect(()=>{f&&E.current&&(T.current=!n)},[n,f]),r.useEffect(()=>{if(!f||!E.current)return;let e=(0,s.default)(E.current);return!E.current.contains(e.activeElement)&&(E.current.hasAttribute("tabIndex")||E.current.setAttribute("tabIndex","-1"),T.current&&E.current.focus()),()=>{c||(b.current&&b.current.focus&&(g.current=!0,b.current.focus()),b.current=null)}},[f]),r.useEffect(()=>{if(!f||!E.current)return;let e=(0,s.default)(E.current),t=t=>{C.current=t,!o&&p()&&"Tab"===t.key&&e.activeElement===E.current&&t.shiftKey&&(g.current=!0,_.current&&_.current.focus())},n=()=>{let t=E.current;if(null===t)return;if(!e.hasFocus()||!p()||g.current){g.current=!1;return}if(t.contains(e.activeElement)||o&&e.activeElement!==m.current&&e.activeElement!==_.current)return;if(e.activeElement!==y.current)y.current=null;else if(null!==y.current)return;if(!T.current)return;let n=[];if((e.activeElement===m.current||e.activeElement===_.current)&&(n=h(E.current)),n.length>0){let e=!!(C.current?.shiftKey&&C.current?.key==="Tab"),t=n[0],o=n[n.length-1];"string"!=typeof t&&"string"!=typeof o&&(e?o.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);let r=setInterval(()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()},50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}},[n,o,c,p,f,h]);let I=e=>{null===b.current&&(b.current=e.relatedTarget),T.current=!0};return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)("div",{tabIndex:f?0:-1,onFocus:I,ref:m,"data-testid":"sentinelStart"}),r.cloneElement(t,{ref:v,onFocus:e=>{null===b.current&&(b.current=e.relatedTarget),T.current=!0,y.current=e.target;let n=t.props.onFocus;n&&n(e)}}),(0,a.jsx)("div",{tabIndex:f?0:-1,onFocus:I,ref:_,"data-testid":"sentinelEnd"})]})}}),d("gLc06",function(t,n){e(t.exports,"default",()=>r);var o=c("fYo6y");function r(e){return parseInt(o.version,10)>=19?e?.props?.ref||null:e?.ref||null}}),d("axxS2",function(t,n){e(t.exports,"default",()=>i);var o=c("fYo6y"),r=c("9wKGY");function i(...e){return o.useMemo(()=>e.every(e=>null==e)?null:t=>{e.forEach(e=>{(0,r.default)(e,t)})},e)}}),d("9wKGY",function(t,n){e(t.exports,"default",()=>o);function o(e,t){"function"==typeof e?e(t):e&&(e.current=t)}}),d("kbY3K",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("M5DMh"))}),d("M5DMh",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y")),i=o(c("d2L2u"));n(c("iCIOI"));var s=c("gLc06"),l=c("9wKGY"),a=c("hPbx8"),u=c("axxS2");let d=r.forwardRef(function(e,t){let{children:n,container:o,disablePortal:c=!1}=e,[d,h]=r.useState(null),p=(0,u.default)(r.isValidElement(n)?(0,s.default)(n):null,t);return((0,a.default)(()=>{c||h(("function"==typeof o?o():o)||document.body)},[o,c]),(0,a.default)(()=>{if(d&&!c)return(0,l.default)(t,d),()=>{(0,l.default)(t,null)}},[t,d,c]),c)?r.isValidElement(n)?r.cloneElement(n,{ref:p}):n:d?i.createPortal(n,d):d});e.exports.default=d}),d("hPbx8",function(t,n){e(t.exports,"default",()=>r);var o=c("fYo6y"),r="undefined"!=typeof window?o.useLayoutEffect:o.useEffect}),d("5qQpG",function(e,t){var n=c("2zxFA").default,o=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var r={backdropClasses:!0};Object.defineProperty(e.exports,"backdropClasses",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return i.default}});var i=o(c("ji3IH")),s=n(c("b58NY"));Object.keys(s).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t))&&(t in e.exports&&e.exports[t]===s[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return s[t]}}))})}),d("ji3IH",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa")),s=n(c("exr4N")),l=c("9uMYx"),a=c("8IlyL"),u=n(c("d5UVe")),d=n(c("gdZe7")),h=c("b58NY"),p=c("iM5HV");let f=e=>{let{classes:t,invisible:n}=e;return(0,s.default)({root:["root",n&&"invisible"]},h.getBackdropUtilityClass,t)},g=(0,l.styled)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),m=r.forwardRef(function(e,t){let n=(0,a.useDefaultProps)({props:e,name:"MuiBackdrop"}),{children:o,className:r,component:s="div",invisible:l=!1,open:c,components:h={},componentsProps:m={},slotProps:_={},slots:b={},TransitionComponent:y,transitionDuration:T,...E}=n,v={...n,component:s,invisible:l},C=f(v),I={slots:{transition:y,root:h.Root,...b},slotProps:{...m,..._}},[S,w]=(0,u.default)("root",{elementType:g,externalForwardedProps:I,className:(0,i.default)(C.root,r),ownerState:v}),[k,O]=(0,u.default)("transition",{elementType:d.default,externalForwardedProps:I,ownerState:v});return(0,p.jsx)(k,{in:c,timeout:T,...E,...O,children:(0,p.jsx)(S,{"aria-hidden":!0,...w,classes:C,ref:t,children:o})})});e.exports.default=m}),d("d5UVe",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){let{className:n,elementType:l,ownerState:a,externalForwardedProps:u,internalForwardedProps:c,shouldForwardComponentProp:d=!1,...h}=t,{component:p,slots:f={[e]:void 0},slotProps:g={[e]:void 0},...m}=u,_=f[e]||l,b=(0,i.default)(g[e],a),{props:{component:y,...T},internalRef:E}=(0,s.default)({className:n,...h,externalForwardedProps:"root"===e?m:void 0,externalSlotProps:b}),v=(0,o.default)(E,b?.ref,t.ref),C="root"===e?y||p:y,I=(0,r.default)(_,{..."root"===e&&!p&&!f[e]&&c,..."root"!==e&&!f[e]&&c,...T,...C&&!d&&{as:C},...C&&d&&{component:C},ref:v},a);return[_,I]};var o=n(c("fyH0H")),r=n(c("9k77J")),i=n(c("51p8b")),s=n(c("8tb9I"))}),d("gdZe7",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return o.default}});var o=n(c("3eziK"))}),d("3eziK",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=c("7o5bq");n(c("c4gBf"));var s=n(c("ndzfe")),l=c("9uMYx"),a=c("dOvjA"),u=n(c("f9e7I")),d=c("iM5HV");let h={entering:{opacity:1},entered:{opacity:1}},p=r.forwardRef(function(e,t){let n=(0,l.useTheme)(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:c,appear:p=!0,children:f,easing:g,in:m,onEnter:_,onEntered:b,onEntering:y,onExit:T,onExited:E,onExiting:v,style:C,timeout:I=o,TransitionComponent:S=i.default,...w}=e,k=r.useRef(null),O=(0,u.default)(k,(0,s.default)(f),t),R=e=>t=>{if(e){let n=k.current;void 0===t?e(n):e(n,t)}},x=R(y),$=R((e,t)=>{(0,a.reflow)(e);let o=(0,a.getTransitionProps)({style:C,timeout:I,easing:g},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",o),e.style.transition=n.transitions.create("opacity",o),_&&_(e,t)}),A=R(b),N=R(v),M=R(e=>{let t=(0,a.getTransitionProps)({style:C,timeout:I,easing:g},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),T&&T(e)}),L=R(E);return(0,d.jsx)(S,{appear:p,in:m,nodeRef:k,onEnter:$,onEntered:A,onEntering:x,onExit:M,onExited:L,onExiting:N,addEndListener:e=>{c&&c(k.current,e)},timeout:I,...w,children:(e,{ownerState:t,...n})=>r.cloneElement(f,{style:{opacity:0,visibility:"exited"!==e||m?void 0:"hidden",...h[e],...C,...f.props.style},ref:O,...n})})});e.exports.default=p}),d("b58NY",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getBackdropUtilityClass=function(e){return(0,r.default)("MuiBackdrop",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiBackdrop",["root","invisible"]);e.exports.default=i}),d("kAruu",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y")),i=c("9Z6zr"),s=c("buTCk"),l=c("c8cqN"),a=c("axxS2"),u=n(c("870OY")),d=c("32dqZ");let h=()=>{},p=new d.ModalManager;e.exports.default=function(e){let{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:o=!1,closeAfterTransition:c=!1,onTransitionEnter:f,onTransitionExited:g,children:m,onClose:_,open:b,rootRef:y}=e,T=r.useRef({}),E=r.useRef(null),v=r.useRef(null),C=(0,a.default)(v,y),[I,S]=r.useState(!b),w=!!m&&m.props.hasOwnProperty("in"),k=!0;("false"===e["aria-hidden"]||!1===e["aria-hidden"])&&(k=!1);let O=()=>(0,s.default)(E.current),R=()=>(T.current.modalRef=v.current,T.current.mount=E.current,T.current),x=()=>{p.mount(R(),{disableScrollLock:o}),v.current&&(v.current.scrollTop=0)},$=(0,l.default)(()=>{let e=("function"==typeof t?t():t)||O().body;p.add(R(),e),v.current&&x()}),A=()=>p.isTopModal(R()),N=(0,l.default)(e=>{E.current=e,e&&(b&&A()?x():v.current&&(0,d.ariaHidden)(v.current,k))}),M=r.useCallback(()=>{p.remove(R(),k)},[k]);r.useEffect(()=>()=>{M()},[M]),r.useEffect(()=>{b?$():w&&c||M()},[b,M,w,c,$]);let L=e=>t=>{e.onKeyDown?.(t),"Escape"===t.key&&229!==t.which&&A()&&!n&&(t.stopPropagation(),_&&_(t,"escapeKeyDown"))},D=e=>t=>{e.onClick?.(t),t.target===t.currentTarget&&_&&_(t,"backdropClick")};return{getRootProps:(t={})=>{let n=(0,u.default)(e);delete n.onTransitionEnter,delete n.onTransitionExited;let o={...n,...t};return{role:"presentation",...o,onKeyDown:L(o),ref:C}},getBackdropProps:(e={})=>({"aria-hidden":!0,...e,onClick:D(e),open:b}),getTransitionProps:()=>({onEnter:(0,i.default)(()=>{S(!1),f&&f()},m?.props.onEnter??h),onExited:(0,i.default)(()=>{S(!0),g&&g(),c&&M()},m?.props.onExited??h)}),rootRef:C,portalRef:N,isTopModal:A,exited:I,hasTransition:w}}}),d("9Z6zr",function(t,n){e(t.exports,"default",()=>o);function o(...e){return e.reduce((e,t)=>null==t?e:function(...n){e.apply(this,n),t.apply(this,n)},()=>{})}}),d("c8cqN",function(t,n){e(t.exports,"default",()=>i);var o=c("fYo6y"),r=c("hPbx8"),i=function(e){let t=o.useRef(e);return(0,r.default)(()=>{t.current=e}),o.useRef((...e)=>(0,t.current)(...e)).current}}),d("b5nX1",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getModalUtilityClass=function(e){return(0,r.default)("MuiModal",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiModal",["root","hidden","backdrop"]);e.exports.default=i}),d("6W2FD",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getPopoverUtilityClass=function(e){return(0,r.default)("MuiPopover",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiPopover",["root","paper"]);e.exports.default=i}),d("4mwx6",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getMenuUtilityClass=function(e){return(0,r.default)("MuiMenu",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiMenu",["root","paper","list"]);e.exports.default=i}),d("dxwkZ",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.overridesResolver=e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa")),s=n(c("exr4N")),l=c("jjMO3"),a=n(c("7aPOe")),u=c("9uMYx"),d=n(c("7N7G2")),h=c("8IlyL"),p=n(c("6zJmc")),f=n(c("hOBP7")),g=n(c("hSRUb")),m=n(c("f9e7I")),_=c("ekHTn"),b=c("eotKh"),y=c("7JWbn"),T=o(c("3oBtp")),E=c("iM5HV");let v=(e,t)=>{let{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]};e.exports.overridesResolver=v;let C=e=>{let{disabled:t,dense:n,divider:o,disableGutters:r,selected:i,classes:l}=e,a=(0,s.default)({root:["root",n&&"dense",t&&"disabled",!r&&"gutters",o&&"divider",i&&"selected"]},T.getMenuItemUtilityClass,l);return{...l,...a}},I=(0,u.styled)(f.default,{shouldForwardProp:e=>(0,a.default)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:v})((0,d.default)(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${T.default.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${T.default.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,l.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${T.default.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,l.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${T.default.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${T.default.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${_.dividerClasses.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${_.dividerClasses.inset}`]:{marginLeft:52},[`& .${y.listItemTextClasses.root}`]:{marginTop:0,marginBottom:0},[`& .${y.listItemTextClasses.inset}`]:{paddingLeft:36},[`& .${b.listItemIconClasses.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${b.listItemIconClasses.root} svg`]:{fontSize:"1.25rem"}}}]}))),S=r.forwardRef(function(e,t){let n,o=(0,h.useDefaultProps)({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:l="li",dense:a=!1,divider:u=!1,disableGutters:c=!1,focusVisibleClassName:d,role:f="menuitem",tabIndex:_,className:b,...y}=o,T=r.useContext(p.default),v=r.useMemo(()=>({dense:a||T.dense||!1,disableGutters:c}),[T.dense,a,c]),S=r.useRef(null);(0,g.default)(()=>{s&&S.current&&S.current.focus()},[s]);let w={...o,dense:v.dense,divider:u,disableGutters:c},k=C(o),O=(0,m.default)(S,t);return o.disabled||(n=void 0!==_?_:-1),(0,E.jsx)(p.default.Provider,{value:v,children:(0,E.jsx)(I,{ref:O,role:f,tabIndex:n,component:l,focusVisibleClassName:(0,i.default)(k.focusVisible,d),className:(0,i.default)(k.root,b),...y,ownerState:w,classes:k})})});e.exports.default=S}),d("ekHTn",function(e,t){var n=c("2zxFA").default,o=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var r={dividerClasses:!0};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e.exports,"dividerClasses",{enumerable:!0,get:function(){return s.default}});var i=o(c("b1j4J")),s=n(c("6sjT5"));Object.keys(s).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t))&&(t in e.exports&&e.exports[t]===s[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return s[t]}}))})}),d("b1j4J",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa")),s=n(c("exr4N")),l=c("jjMO3"),a=c("9uMYx"),u=n(c("7N7G2")),d=c("8IlyL"),h=c("6sjT5"),p=c("iM5HV");let f=e=>{let{absolute:t,children:n,classes:o,flexItem:r,light:i,orientation:l,textAlign:a,variant:u}=e;return(0,s.default)({root:["root",t&&"absolute",u,i&&"light","vertical"===l&&"vertical",r&&"flexItem",n&&"withChildren",n&&"vertical"===l&&"withChildrenVertical","right"===a&&"vertical"!==l&&"textAlignRight","left"===a&&"vertical"!==l&&"textAlignLeft"],wrapper:["wrapper","vertical"===l&&"wrapperVertical"]},h.getDividerUtilityClass,o)},g=(0,a.styled)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((0,u.default)(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:(0,l.alpha)(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&"vertical"!==e.orientation,style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>"vertical"===e.orientation&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>"right"===e.textAlign&&"vertical"!==e.orientation,style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>"left"===e.textAlign&&"vertical"!==e.orientation,style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),m=(0,a.styled)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((0,u.default)(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),_=r.forwardRef(function(e,t){let n=(0,d.useDefaultProps)({props:e,name:"MuiDivider"}),{absolute:o=!1,children:r,className:s,orientation:l="horizontal",component:a=r||"vertical"===l?"div":"hr",flexItem:u=!1,light:c=!1,role:h="hr"!==a?"separator":void 0,textAlign:_="center",variant:b="fullWidth",...y}=n,T={...n,absolute:o,component:a,flexItem:u,light:c,orientation:l,role:h,textAlign:_,variant:b},E=f(T);return(0,p.jsx)(g,{as:a,className:(0,i.default)(E.root,s),role:h,ref:t,ownerState:T,"aria-orientation":"separator"===h&&("hr"!==a||"vertical"===l)?l:void 0,...y,children:r?(0,p.jsx)(m,{className:E.wrapper,ownerState:T,children:r}):null})});_&&(_.muiSkipListHighlight=!0),e.exports.default=_}),d("6sjT5",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getDividerUtilityClass=function(e){return(0,r.default)("MuiDivider",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);e.exports.default=i}),d("eotKh",function(e,t){var n=c("2zxFA").default,o=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var r={listItemIconClasses:!0};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e.exports,"listItemIconClasses",{enumerable:!0,get:function(){return s.default}});var i=o(c("2xYjv")),s=n(c("5cNKH"));Object.keys(s).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t))&&(t in e.exports&&e.exports[t]===s[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return s[t]}}))})}),d("2xYjv",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa")),s=n(c("exr4N")),l=c("9uMYx"),a=n(c("7N7G2")),u=c("8IlyL"),d=c("5cNKH"),h=n(c("6zJmc")),p=c("iM5HV");let f=e=>{let{alignItems:t,classes:n}=e;return(0,s.default)({root:["root","flex-start"===t&&"alignItemsFlexStart"]},d.getListItemIconUtilityClass,n)},g=(0,l.styled)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((0,a.default)(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),m=r.forwardRef(function(e,t){let n=(0,u.useDefaultProps)({props:e,name:"MuiListItemIcon"}),{className:o,...s}=n,l=r.useContext(h.default),a={...n,alignItems:l.alignItems},c=f(a);return(0,p.jsx)(g,{className:(0,i.default)(c.root,o),ownerState:a,ref:t,...s})});e.exports.default=m}),d("5cNKH",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getListItemIconUtilityClass=function(e){return(0,r.default)("MuiListItemIcon",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiListItemIcon",["root","alignItemsFlexStart"]);e.exports.default=i}),d("7JWbn",function(e,t){var n=c("2zxFA").default,o=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var r={listItemTextClasses:!0};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e.exports,"listItemTextClasses",{enumerable:!0,get:function(){return s.default}});var i=o(c("5U2f1")),s=n(c("bNRyX"));Object.keys(s).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t))&&(t in e.exports&&e.exports[t]===s[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return s[t]}}))})}),d("5U2f1",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa")),s=n(c("exr4N")),l=o(c("6p5FN")),a=n(c("6zJmc")),u=c("9uMYx"),d=c("8IlyL"),h=o(c("bNRyX")),p=n(c("d5UVe")),f=c("iM5HV");let g=e=>{let{classes:t,inset:n,primary:o,secondary:r,dense:i}=e;return(0,s.default)({root:["root",n&&"inset",i&&"dense",o&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},h.getListItemTextUtilityClass,t)},m=(0,u.styled)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`& .${h.default.primary}`]:t.primary},{[`& .${h.default.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${l.typographyClasses.root}:where(& .${h.default.primary})`]:{display:"block"},[`.${l.typographyClasses.root}:where(& .${h.default.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),_=r.forwardRef(function(e,t){let n=(0,d.useDefaultProps)({props:e,name:"MuiListItemText"}),{children:o,className:s,disableTypography:u=!1,inset:c=!1,primary:h,primaryTypographyProps:_,secondary:b,secondaryTypographyProps:y,slots:T={},slotProps:E={},...v}=n,{dense:C}=r.useContext(a.default),I=null!=h?h:o,S=b,w={...n,disableTypography:u,inset:c,primary:!!I,secondary:!!S,dense:C},k=g(w),O={slots:T,slotProps:{primary:_,secondary:y,...E}},[R,x]=(0,p.default)("root",{className:(0,i.default)(k.root,s),elementType:m,externalForwardedProps:{...O,...v},ownerState:w,ref:t}),[$,A]=(0,p.default)("primary",{className:k.primary,elementType:l.default,externalForwardedProps:O,ownerState:w}),[N,M]=(0,p.default)("secondary",{className:k.secondary,elementType:l.default,externalForwardedProps:O,ownerState:w});return null==I||I.type===l.default||u||(I=(0,f.jsx)($,{variant:C?"body2":"body1",component:A?.variant?void 0:"span",...A,children:I})),null==S||S.type===l.default||u||(S=(0,f.jsx)(N,{variant:"body2",color:"textSecondary",...M,children:S})),(0,f.jsxs)(R,{...x,children:[I,S]})});e.exports.default=_}),d("6p5FN",function(e,t){var n=c("2zxFA").default,o=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0});var r={typographyClasses:!0};Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e.exports,"typographyClasses",{enumerable:!0,get:function(){return s.default}});var i=o(c("2Fgxe")),s=n(c("7rNal"));Object.keys(s).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t))&&(t in e.exports&&e.exports[t]===s[t]||Object.defineProperty(e.exports,t,{enumerable:!0,get:function(){return s[t]}}))})}),d("2Fgxe",function(e,t){var n=c("lHCw5").default,o=c("2zxFA").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=e.exports.TypographyRoot=void 0;var r=o(c("fYo6y"));n(c("iCIOI"));var i=n(c("eUZaa")),s=n(c("exr4N")),l=c("9uMYx"),a=n(c("7N7G2")),u=c("8IlyL"),d=n(c("hbVPp")),h=n(c("aiYwQ")),p=c("7rNal"),f=c("iM5HV");let g={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},m=(0,l.internal_createExtendSxProp)(),_=e=>{let{align:t,gutterBottom:n,noWrap:o,paragraph:r,variant:i,classes:l}=e,a={root:["root",i,"inherit"!==e.align&&`align${(0,d.default)(t)}`,n&&"gutterBottom",o&&"noWrap",r&&"paragraph"]};return(0,s.default)(a,p.getTypographyUtilityClass,l)},b=e.exports.TypographyRoot=(0,l.styled)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,d.default)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((0,a.default)(({theme:e})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([e,t])=>"inherit"!==e&&t&&"object"==typeof t).map(([e,t])=>({props:{variant:e},style:t})),...Object.entries(e.palette).filter((0,h.default)()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette?.text||{}).filter(([,e])=>"string"==typeof e).map(([t])=>({props:{color:`text${(0,d.default)(t)}`},style:{color:(e.vars||e).palette.text[t]}})),{props:({ownerState:e})=>"inherit"!==e.align,style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),y={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},T=r.forwardRef(function(e,t){let{color:n,...o}=(0,u.useDefaultProps)({props:e,name:"MuiTypography"}),r=!g[n],s=m({...o,...r&&{color:n}}),{align:l="inherit",className:a,component:c,gutterBottom:d=!1,noWrap:h=!1,paragraph:p=!1,variant:T="body1",variantMapping:E=y,...v}=s,C={...s,align:l,color:n,className:a,component:c,gutterBottom:d,noWrap:h,paragraph:p,variant:T,variantMapping:E},I=c||(p?"p":E[T]||y[T])||"span",S=_(C);return(0,f.jsx)(b,{as:I,ref:t,className:(0,i.default)(S.root,a),...v,ownerState:C,style:{..."inherit"!==l&&{"--Typography-textAlign":l},...v.style}})});e.exports.default=T}),d("7rNal",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getTypographyUtilityClass=function(e){return(0,r.default)("MuiTypography",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);e.exports.default=i}),d("bNRyX",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getListItemTextUtilityClass=function(e){return(0,r.default)("MuiListItemText",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);e.exports.default=i}),d("3oBtp",function(e,t){var n=c("lHCw5").default;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,e.exports.getMenuItemUtilityClass=function(e){return(0,r.default)("MuiMenuItem",e)};var o=n(c("hBe9M")),r=n(c("gfTbt"));let i=(0,o.default)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);e.exports.default=i});var h=c("iM5HV");c("fYo6y");var p={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),p=c("bgXWC");var h=c("iM5HV");c("fYo6y");var h=c("iM5HV"),f={};t=function(e,t,n){return e.setLocale(t),e},"function"==typeof define&&define.amd?define(["blockly/core","blockly/msg/en","blockly/blocks"],t):f=t(c("jVSxT"),c("jy87s"),c("9cjru"));const{Events:g,Variables:m,Xml:_,inject:b,utils:y}=l(f);var T={};n=function(e){var t,n,o=e.__namespace__,r=function(e,t){var o=0;let r="";t.STATEMENT_PREFIX&&(r+=t.injectId(t.STATEMENT_PREFIX,e));do{let i=t.valueToCode(e,"IF"+o,n.NONE)||"false",s=t.statementToCode(e,"DO"+o);t.STATEMENT_SUFFIX&&(s=t.prefixLines(t.injectId(t.STATEMENT_SUFFIX,e),t.INDENT)+s),r+=(0<o?" else ":"")+"if ("+i+") {\n"+s+"}",o++}while(e.getInput("IF"+o))return(e.getInput("ELSE")||t.STATEMENT_SUFFIX)&&(o=e.getInput("ELSE")?t.statementToCode(e,"ELSE"):"",t.STATEMENT_SUFFIX&&(o=t.prefixLines(t.injectId(t.STATEMENT_SUFFIX,e),t.INDENT)+o),r+=" else {\n"+o+"}"),r+"\n"},i=function(e,t){let r;r=e.getField("TIMES")?String(Number(e.getFieldValue("TIMES"))):t.valueToCode(e,"TIMES",n.ASSIGNMENT)||"0";let i=t.statementToCode(e,"DO");i=t.addLoopTrap(i,e),e="";let s=t.nameDB_.getDistinctName("count",o.NameType$$module$build$src$core$names.VARIABLE),l=r;return r.match(/^\w+$/)||o.isNumber$$module$build$src$core$utils$string(r)||(e+="var "+(l=t.nameDB_.getDistinctName("repeat_end",o.NameType$$module$build$src$core$names.VARIABLE))+" = "+r+";\n"),e+("for (var "+s+" = 0; "+s+" < "+l+"; "+s+"++) {\n")+i+"}\n"},s=function(e,t){let o,r=e.getFieldValue("OP");if("NEG"===r)return"-"===(e=t.valueToCode(e,"NUM",n.UNARY_NEGATION)||"0")[0]&&(e=" "+e),["-"+e,n.UNARY_NEGATION];switch(e="SIN"===r||"COS"===r||"TAN"===r?t.valueToCode(e,"NUM",n.DIVISION)||"0":t.valueToCode(e,"NUM",n.NONE)||"0",r){case"ABS":o="Math.abs("+e+")";break;case"ROOT":o="Math.sqrt("+e+")";break;case"LN":o="Math.log("+e+")";break;case"EXP":o="Math.exp("+e+")";break;case"POW10":o="Math.pow(10,"+e+")";break;case"ROUND":o="Math.round("+e+")";break;case"ROUNDUP":o="Math.ceil("+e+")";break;case"ROUNDDOWN":o="Math.floor("+e+")";break;case"SIN":o="Math.sin("+e+" / 180 * Math.PI)";break;case"COS":o="Math.cos("+e+" / 180 * Math.PI)";break;case"TAN":o="Math.tan("+e+" / 180 * Math.PI)"}if(o)return[o,n.FUNCTION_CALL];switch(r){case"LOG10":o="Math.log("+e+") / Math.log(10)";break;case"ASIN":o="Math.asin("+e+") / Math.PI * 180";break;case"ACOS":o="Math.acos("+e+") / Math.PI * 180";break;case"ATAN":o="Math.atan("+e+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+r)}return[o,n.DIVISION]},l=function(e,t){let o=t.getProcedureName(e.getFieldValue("NAME"));var r="";t.STATEMENT_PREFIX&&(r+=t.injectId(t.STATEMENT_PREFIX,e)),t.STATEMENT_SUFFIX&&(r+=t.injectId(t.STATEMENT_SUFFIX,e)),r&&(r=t.prefixLines(r,t.INDENT));let i="";t.INFINITE_LOOP_TRAP&&(i=t.prefixLines(t.injectId(t.INFINITE_LOOP_TRAP,e),t.INDENT));let s="";e.getInput("STACK")&&(s=t.statementToCode(e,"STACK"));let l="";e.getInput("RETURN")&&(l=t.valueToCode(e,"RETURN",n.NONE)||"");let a="";s&&l&&(a=r),l&&(l=t.INDENT+"return "+l+";\n");let u=[],c=e.getVars();for(let e=0;e<c.length;e++)u[e]=t.getVariableName(c[e]);return r="function "+o+"("+u.join(", ")+") {\n"+r+i+s+a+l+"}",r=t.scrub_(e,r),t.definitions_["%"+o]=r,null},a=function(e,t){return t="window.prompt("+(e.getField("TEXT")?t.quote_(e.getFieldValue("TEXT")):t.valueToCode(e,"TEXT",n.NONE)||"''")+")","NUMBER"===e.getFieldValue("TYPE")&&(t="Number("+t+")"),[t,n.FUNCTION_CALL]},u=function(e,t){return[t.getVariableName(e.getFieldValue("VAR")),n.ATOMIC]},c=function(e,t){let o=t.valueToCode(e,"VALUE",n.ASSIGNMENT)||"0";return t.getVariableName(e.getFieldValue("VAR"))+" = "+o+";\n"};(t=n||(n={}))[t.ATOMIC=0]="ATOMIC",t[t.NEW=1.1]="NEW",t[t.MEMBER=1.2]="MEMBER",t[t.FUNCTION_CALL=2]="FUNCTION_CALL",t[t.INCREMENT=3]="INCREMENT",t[t.DECREMENT=3]="DECREMENT",t[t.BITWISE_NOT=4.1]="BITWISE_NOT",t[t.UNARY_PLUS=4.2]="UNARY_PLUS",t[t.UNARY_NEGATION=4.3]="UNARY_NEGATION",t[t.LOGICAL_NOT=4.4]="LOGICAL_NOT",t[t.TYPEOF=4.5]="TYPEOF",t[t.VOID=4.6]="VOID",t[t.DELETE=4.7]="DELETE",t[t.AWAIT=4.8]="AWAIT",t[t.EXPONENTIATION=5]="EXPONENTIATION",t[t.MULTIPLICATION=5.1]="MULTIPLICATION",t[t.DIVISION=5.2]="DIVISION",t[t.MODULUS=5.3]="MODULUS",t[t.SUBTRACTION=6.1]="SUBTRACTION",t[t.ADDITION=6.2]="ADDITION",t[t.BITWISE_SHIFT=7]="BITWISE_SHIFT",t[t.RELATIONAL=8]="RELATIONAL",t[t.IN=8]="IN",t[t.INSTANCEOF=8]="INSTANCEOF",t[t.EQUALITY=9]="EQUALITY",t[t.BITWISE_AND=10]="BITWISE_AND",t[t.BITWISE_XOR=11]="BITWISE_XOR",t[t.BITWISE_OR=12]="BITWISE_OR",t[t.LOGICAL_AND=13]="LOGICAL_AND",t[t.LOGICAL_OR=14]="LOGICAL_OR",t[t.CONDITIONAL=15]="CONDITIONAL",t[t.ASSIGNMENT=16]="ASSIGNMENT",t[t.YIELD=17]="YIELD",t[t.COMMA=18]="COMMA",t[t.NONE=99]="NONE";var d=class extends o.CodeGenerator$$module$build$src$core$generator{constructor(e="JavaScript"){for(let t in super(e),this.ORDER_OVERRIDES=[[n.FUNCTION_CALL,n.MEMBER],[n.FUNCTION_CALL,n.FUNCTION_CALL],[n.MEMBER,n.MEMBER],[n.MEMBER,n.FUNCTION_CALL],[n.LOGICAL_NOT,n.LOGICAL_NOT],[n.MULTIPLICATION,n.MULTIPLICATION],[n.ADDITION,n.ADDITION],[n.LOGICAL_AND,n.LOGICAL_AND],[n.LOGICAL_OR,n.LOGICAL_OR]],this.isInitialized=!1,n)"string"!=typeof(e=n[t])&&(this["ORDER_"+t]=e);this.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(globalThis).join(","))}init(e){super.init(e),this.nameDB_?this.nameDB_.reset():this.nameDB_=new o.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(e.getVariableMap()),this.nameDB_.populateVariables(e),this.nameDB_.populateProcedures(e);let t=[];var n=o.allDeveloperVariables$$module$build$src$core$variables(e);for(let e=0;e<n.length;e++)t.push(this.nameDB_.getName(n[e],o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));for(n=0,e=o.allUsedVarModels$$module$build$src$core$variables(e);n<e.length;n++)t.push(this.nameDB_.getName(e[n].getId(),o.NameType$$module$build$src$core$names.VARIABLE));t.length&&(this.definitions_.variables="var "+t.join(", ")+";"),this.isInitialized=!0}finish(e){let t=Object.values(this.definitions_);return super.finish(e),this.isInitialized=!1,this.nameDB_.reset(),t.join("\n\n")+"\n\n\n"+e}scrubNakedValue(e){return e+";\n"}quote_(e){return"'"+(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"}multiline_quote_(e){return e.split(/\n/g).map(this.quote_).join(" + '\\n' +\n")}scrub_(e,t,n=!1){let r="";if(!e.outputConnection||!e.outputConnection.targetConnection){var i=e.getCommentText();i&&(i=o.wrap$$module$build$src$core$utils$string(i,this.COMMENT_WRAP-3),r+=this.prefixLines(i+"\n","// "));for(let t=0;t<e.inputList.length;t++)e.inputList[t].type===o.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(i=e.inputList[t].connection.targetBlock())&&(i=this.allNestedComments(i))&&(r+=this.prefixLines(i,"// "))}return e=e.nextConnection&&e.nextConnection.targetBlock(),r+t+(n=n?"":this.blockToCode(e))}getAdjusted(e,t,r=0,i=!1,s=n.NONE){e.workspace.options.oneBasedIndex&&r--;let l=e.workspace.options.oneBasedIndex?"1":"0",a=s;return 0<r?a=n.ADDITION:0>r?a=n.SUBTRACTION:i&&(a=n.UNARY_NEGATION),e=this.valueToCode(e,t,a)||l,(0!==r||i)&&(o.isNumber$$module$build$src$core$utils$string(e)?(e=String(Number(e)+r),i&&(e=String(-Number(e)))):(0<r?e=`${e} + ${r}`:0>r&&(e=`${e} - ${-r}`),i&&(e=r?`-(${e})`:`-${e}`),Math.floor(s)>=Math.floor(a)&&(e=`(${e})`))),e}},h={};h.JavascriptGenerator=d,h.Order=n;var p=function(e,t,n){return"FIRST"===t?"0":"FROM_END"===t?e+".length - 1 - "+n:"LAST"===t?e+".length - 1":n},f={};f.lists_create_empty=function(e,t){return["[]",n.ATOMIC]},f.lists_create_with=function(e,t){let o=Array(e.itemCount_);for(let r=0;r<e.itemCount_;r++)o[r]=t.valueToCode(e,"ADD"+r,n.NONE)||"null";return["["+o.join(", ")+"]",n.ATOMIC]},f.lists_getIndex=function(e,t){let o=e.getFieldValue("MODE")||"GET",r=e.getFieldValue("WHERE")||"FROM_START";var i=t.valueToCode(e,"VALUE","RANDOM"===r?n.NONE:n.MEMBER)||"[]";switch(r){case"FIRST":if("GET"===o)return[i+"[0]",n.MEMBER];if("GET_REMOVE"===o)return[i+".shift()",n.MEMBER];if("REMOVE"===o)return i+".shift();\n";break;case"LAST":if("GET"===o)return[i+".slice(-1)[0]",n.MEMBER];if("GET_REMOVE"===o)return[i+".pop()",n.MEMBER];if("REMOVE"===o)return i+".pop();\n";break;case"FROM_START":if(e=t.getAdjusted(e,"AT"),"GET"===o)return[i+"["+e+"]",n.MEMBER];if("GET_REMOVE"===o)return[i+".splice("+e+", 1)[0]",n.FUNCTION_CALL];if("REMOVE"===o)return i+".splice("+e+", 1);\n";break;case"FROM_END":if(e=t.getAdjusted(e,"AT",1,!0),"GET"===o)return[i+".slice("+e+")[0]",n.FUNCTION_CALL];if("GET_REMOVE"===o)return[i+".splice("+e+", 1)[0]",n.FUNCTION_CALL];if("REMOVE"===o)return i+".splice("+e+", 1);";break;case"RANDOM":if(i=t.provideFunction_("listsGetRandomItem",`
function ${t.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {
  var x = Math.floor(Math.random() * list.length);
  if (remove) {
    return list.splice(x, 1)[0];
  } else {
    return list[x];
  }
}
`)+"("+i+", "+("GET"!==o)+")","GET"===o||"GET_REMOVE"===o)return[i,n.FUNCTION_CALL];if("REMOVE"===o)return i+";\n"}throw Error("Unhandled combination (lists_getIndex).")},f.lists_getSublist=function(e,t){var o={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"},r=t.valueToCode(e,"LIST",n.MEMBER)||"[]";let i=e.getFieldValue("WHERE1"),s=e.getFieldValue("WHERE2");if("FIRST"===i&&"LAST"===s)r+=".slice(0)";else if(r.match(/^\w+$/)||"FROM_END"!==i&&"FROM_START"===s){switch(i){case"FROM_START":o=t.getAdjusted(e,"AT1");break;case"FROM_END":o=r+".length - "+(o=t.getAdjusted(e,"AT1",1,!1,n.SUBTRACTION));break;case"FIRST":o="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(s){case"FROM_START":t=t.getAdjusted(e,"AT2",1);break;case"FROM_END":t=r+".length - "+(t=t.getAdjusted(e,"AT2",0,!1,n.SUBTRACTION));break;case"LAST":t=r+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}r=r+".slice("+o+", "+t+")"}else{let n=t.getAdjusted(e,"AT1");e=t.getAdjusted(e,"AT2"),r=t.provideFunction_("subsequence"+o[i]+o[s],`
function ${t.FUNCTION_NAME_PLACEHOLDER_}(sequence${"FROM_END"===i||"FROM_START"===i?", at1":""}${"FROM_END"===s||"FROM_START"===s?", at2":""}) {
  var start = ${p("sequence",i,"at1")};
  var end = ${p("sequence",s,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+r+("FROM_END"===i||"FROM_START"===i?", "+n:"")+("FROM_END"===s||"FROM_START"===s?", "+e:"")+")"}return[r,n.FUNCTION_CALL]},f.lists_indexOf=function(e,t){let o="FIRST"===e.getFieldValue("END")?"indexOf":"lastIndexOf",r=t.valueToCode(e,"FIND",n.NONE)||"''";return t=(t.valueToCode(e,"VALUE",n.MEMBER)||"[]")+"."+o+"("+r+")",e.workspace.options.oneBasedIndex?[t+" + 1",n.ADDITION]:[t,n.FUNCTION_CALL]},f.lists_isEmpty=function(e,t){return["!"+(t.valueToCode(e,"VALUE",n.MEMBER)||"[]")+".length",n.LOGICAL_NOT]},f.lists_length=function(e,t){return[(t.valueToCode(e,"VALUE",n.MEMBER)||"[]")+".length",n.MEMBER]},f.lists_repeat=function(e,t){let o=t.provideFunction_("listsRepeat",`
function ${t.FUNCTION_NAME_PLACEHOLDER_}(value, n) {
  var array = [];
  for (var i = 0; i < n; i++) {
    array[i] = value;
  }
  return array;
}
`);return[o+"("+(t.valueToCode(e,"ITEM",n.NONE)||"null")+", "+(e=t.valueToCode(e,"NUM",n.NONE)||"0")+")",n.FUNCTION_CALL]},f.lists_reverse=function(e,t){return[(t.valueToCode(e,"LIST",n.FUNCTION_CALL)||"[]")+".slice().reverse()",n.FUNCTION_CALL]},f.lists_setIndex=function(e,t){function r(){if(i.match(/^\w+$/))return"";let e=t.nameDB_.getDistinctName("tmpList",o.NameType$$module$build$src$core$names.VARIABLE),n="var "+e+" = "+i+";\n";return i=e,n}let i=t.valueToCode(e,"LIST",n.MEMBER)||"[]",s=e.getFieldValue("MODE")||"GET";var l=e.getFieldValue("WHERE")||"FROM_START";let a=t.valueToCode(e,"TO",n.ASSIGNMENT)||"null";switch(l){case"FIRST":if("SET"===s)return i+"[0] = "+a+";\n";if("INSERT"===s)return i+".unshift("+a+");\n";break;case"LAST":if("SET"===s)return r()+(i+"["+i+".length - 1] = ")+a+";\n";if("INSERT"===s)return i+".push("+a+");\n";break;case"FROM_START":if(e=t.getAdjusted(e,"AT"),"SET"===s)return i+"["+e+"] = "+a+";\n";if("INSERT"===s)return i+".splice("+e+", 0, "+a+");\n";break;case"FROM_END":if(e=t.getAdjusted(e,"AT",1,!1,n.SUBTRACTION),l=r(),"SET"===s)return l+(i+"["+i+".length - "+e+"] = ")+a+";\n";if("INSERT"===s)return l+(i+".splice("+i+".length - "+e+", 0, ")+a+");\n";break;case"RANDOM":if(e=r()+("var "+(l=t.nameDB_.getDistinctName("tmpX",o.NameType$$module$build$src$core$names.VARIABLE))+" = Math.floor(Math.random() * "+i+".length);\n"),"SET"===s)return e+(i+"["+l+"] = ")+a+";\n";if("INSERT"===s)return e+(i+".splice("+l+", 0, ")+a+");\n"}throw Error("Unhandled combination (lists_setIndex).")},f.lists_sort=function(e,t){let o=t.valueToCode(e,"LIST",n.FUNCTION_CALL)||"[]",r="1"===e.getFieldValue("DIRECTION")?1:-1;return e=e.getFieldValue("TYPE"),[o+".slice().sort("+(t=t.provideFunction_("listsGetSortCompare",`
function ${t.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {
  var compareFuncs = {
    'NUMERIC': function(a, b) {
        return Number(a) - Number(b); },
    'TEXT': function(a, b) {
        return String(a) > String(b) ? 1 : -1; },
    'IGNORE_CASE': function(a, b) {
        return String(a).toLowerCase() > String(b).toLowerCase() ? 1 : -1; },
  };
  var compare = compareFuncs[type];
  return function(a, b) { return compare(a, b) * direction; };
}
      `))+'("'+e+'", '+r+"))",n.FUNCTION_CALL]},f.lists_split=function(e,t){let o=t.valueToCode(e,"INPUT",n.MEMBER);if(t=t.valueToCode(e,"DELIM",n.NONE)||"''","SPLIT"===(e=e.getFieldValue("MODE")))o||(o="''"),e="split";else if("JOIN"===e)o||(o="[]"),e="join";else throw Error("Unknown mode: "+e);return[o+"."+e+"("+t+")",n.FUNCTION_CALL]};var g={};g.controls_if=r,g.controls_ifelse=r,g.logic_boolean=function(e,t){return["TRUE"===e.getFieldValue("BOOL")?"true":"false",n.ATOMIC]},g.logic_compare=function(e,t){let o={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],r="=="===o||"!="===o?n.EQUALITY:n.RELATIONAL;return[(t.valueToCode(e,"A",r)||"0")+" "+o+" "+(e=t.valueToCode(e,"B",r)||"0"),r]},g.logic_negate=function(e,t){let o=n.LOGICAL_NOT;return["!"+(t.valueToCode(e,"BOOL",o)||"true"),o]},g.logic_null=function(e,t){return["null",n.ATOMIC]},g.logic_operation=function(e,t){let o="AND"===e.getFieldValue("OP")?"&&":"||",r="&&"===o?n.LOGICAL_AND:n.LOGICAL_OR,i=t.valueToCode(e,"A",r);return e=t.valueToCode(e,"B",r),i||e?(t="&&"===o?"true":"false",i||(i=t),e||(e=t)):e=i="false",[i+" "+o+" "+e,r]},g.logic_ternary=function(e,t){let o=t.valueToCode(e,"IF",n.CONDITIONAL)||"false";return[o+" ? "+(t.valueToCode(e,"THEN",n.CONDITIONAL)||"null")+" : "+(e=t.valueToCode(e,"ELSE",n.CONDITIONAL)||"null"),n.CONDITIONAL]};var m={};m.controls_flow_statements=function(e,t){let n="";if(t.STATEMENT_PREFIX&&(n+=t.injectId(t.STATEMENT_PREFIX,e)),t.STATEMENT_SUFFIX&&(n+=t.injectId(t.STATEMENT_SUFFIX,e)),t.STATEMENT_PREFIX){let o=e.getSurroundLoop();o&&!o.suppressPrefixSuffix&&(n+=t.injectId(t.STATEMENT_PREFIX,o))}switch(e.getFieldValue("FLOW")){case"BREAK":return n+"break;\n";case"CONTINUE":return n+"continue;\n"}throw Error("Unknown flow statement.")},m.controls_for=function(e,t){var r=t.getVariableName(e.getFieldValue("VAR")),i=t.valueToCode(e,"FROM",n.ASSIGNMENT)||"0",s=t.valueToCode(e,"TO",n.ASSIGNMENT)||"0";let l=t.valueToCode(e,"BY",n.ASSIGNMENT)||"1",a=t.statementToCode(e,"DO");if(a=t.addLoopTrap(a,e),o.isNumber$$module$build$src$core$utils$string(i)&&o.isNumber$$module$build$src$core$utils$string(s)&&o.isNumber$$module$build$src$core$utils$string(l))t=Number(i)<=Number(s),e="for ("+r+" = "+i+"; "+r+(t?" <= ":" >= ")+s+"; "+r,e=(1===(r=Math.abs(Number(l)))?e+(t?"++":"--"):e+(t?" += ":" -= ")+r)+(") {\n"+a)+"}\n";else{e="";let n=i;i.match(/^\w+$/)||o.isNumber$$module$build$src$core$utils$string(i)||(e+="var "+(n=t.nameDB_.getDistinctName(r+"_start",o.NameType$$module$build$src$core$names.VARIABLE))+" = "+i+";\n"),i=s,s.match(/^\w+$/)||o.isNumber$$module$build$src$core$utils$string(s)||(e+="var "+(i=t.nameDB_.getDistinctName(r+"_end",o.NameType$$module$build$src$core$names.VARIABLE))+" = "+s+";\n"),e+="var "+(s=t.nameDB_.getDistinctName(r+"_inc",o.NameType$$module$build$src$core$names.VARIABLE))+" = ",e=(e=(o.isNumber$$module$build$src$core$utils$string(l)?e+(Math.abs(Number(l))+";\n"):e+"Math.abs("+l+");\n")+("if ("+n+" > "+i)+") {\n"+(t.INDENT+s+" = -"+s)+";\n")+"}\nfor ("+(r+" = "+n+"; "+s+" >= 0 ? "+r+" <= "+i+" : "+r+" >= "+i+"; "+r+" += "+s+") {\n")+a+"}\n"}return e},m.controls_forEach=function(e,t){let r=t.getVariableName(e.getFieldValue("VAR"));var i=t.valueToCode(e,"LIST",n.ASSIGNMENT)||"[]";let s=t.statementToCode(e,"DO");s=t.addLoopTrap(s,e),e="";let l=i;return i.match(/^\w+$/)||(e+="var "+(l=t.nameDB_.getDistinctName(r+"_list",o.NameType$$module$build$src$core$names.VARIABLE))+" = "+i+";\n"),i=t.nameDB_.getDistinctName(r+"_index",o.NameType$$module$build$src$core$names.VARIABLE),s=t.INDENT+r+" = "+l+"["+i+"];\n"+s,e+("for (var "+i+" in "+l+") {\n")+s+"}\n"},m.controls_repeat=i,m.controls_repeat_ext=i,m.controls_whileUntil=function(e,t){let o="UNTIL"===e.getFieldValue("MODE"),r=t.valueToCode(e,"BOOL",o?n.LOGICAL_NOT:n.NONE)||"false",i=t.statementToCode(e,"DO");return i=t.addLoopTrap(i,e),o&&(r="!"+r),"while ("+r+") {\n"+i+"}\n"};var _={};_.math_arithmetic=function(e,t){var o={ADD:[" + ",n.ADDITION],MINUS:[" - ",n.SUBTRACTION],MULTIPLY:[" * ",n.MULTIPLICATION],DIVIDE:[" / ",n.DIVISION],POWER:[null,n.NONE]}[e.getFieldValue("OP")];let r=o[0];o=o[1];let i=t.valueToCode(e,"A",o)||"0";return e=t.valueToCode(e,"B",o)||"0",r?[i+r+e,o]:["Math.pow("+i+", "+e+")",n.FUNCTION_CALL]},_.math_atan2=function(e,t){let o=t.valueToCode(e,"X",n.NONE)||"0";return["Math.atan2("+(t.valueToCode(e,"Y",n.NONE)||"0")+", "+o+") / Math.PI * 180",n.DIVISION]},_.math_change=function(e,t){let o=t.valueToCode(e,"DELTA",n.ADDITION)||"0";return(e=t.getVariableName(e.getFieldValue("VAR")))+" = (typeof "+e+" === 'number' ? "+e+" : 0) + "+o+";\n"},_.math_constant=function(e,t){return({PI:["Math.PI",n.MEMBER],E:["Math.E",n.MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",n.DIVISION],SQRT2:["Math.SQRT2",n.MEMBER],SQRT1_2:["Math.SQRT1_2",n.MEMBER],INFINITY:["Infinity",n.ATOMIC]})[e.getFieldValue("CONSTANT")]},_.math_constrain=function(e,t){let o=t.valueToCode(e,"VALUE",n.NONE)||"0";return["Math.min(Math.max("+o+", "+(t.valueToCode(e,"LOW",n.NONE)||"0")+"), "+(e=t.valueToCode(e,"HIGH",n.NONE)||"Infinity")+")",n.FUNCTION_CALL]},_.math_modulo=function(e,t){return[(t.valueToCode(e,"DIVIDEND",n.MODULUS)||"0")+" % "+(e=t.valueToCode(e,"DIVISOR",n.MODULUS)||"0"),n.MODULUS]},_.math_number=function(e,t){return[String(e=Number(e.getFieldValue("NUM"))),0<=e?n.ATOMIC:n.UNARY_NEGATION]},_.math_number_property=function(e,t){var o={EVEN:[" % 2 === 0",n.MODULUS,n.EQUALITY],ODD:[" % 2 === 1",n.MODULUS,n.EQUALITY],WHOLE:[" % 1 === 0",n.MODULUS,n.EQUALITY],POSITIVE:[" > 0",n.RELATIONAL,n.RELATIONAL],NEGATIVE:[" < 0",n.RELATIONAL,n.RELATIONAL],DIVISIBLE_BY:[null,n.MODULUS,n.EQUALITY],PRIME:[null,n.NONE,n.FUNCTION_CALL]};let r=e.getFieldValue("PROPERTY"),[i,s,l]=o[r];return o=t.valueToCode(e,"NUMBER_TO_CHECK",s)||"0",[e="PRIME"===r?t.provideFunction_("mathIsPrime",`
function ${t.FUNCTION_NAME_PLACEHOLDER_}(n) {
  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  if (n == 2 || n == 3) {
    return true;
  }
  // False if n is NaN, negative, is 1, or not whole.
  // And false if n is divisible by 2 or 3.
  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {
    return false;
  }
  // Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {
    if (n % (x - 1) === 0 || n % (x + 1) === 0) {
      return false;
    }
  }
  return true;
}
`)+"("+o+")":"DIVISIBLE_BY"===r?o+" % "+(e=t.valueToCode(e,"DIVISOR",n.MODULUS)||"0")+" === 0":o+i,l]},_.math_on_list=function(e,t){var o=e.getFieldValue("OP");switch(o){case"SUM":e=(t.valueToCode(e,"LIST",n.MEMBER)||"[]")+".reduce(function(x, y) {return x + y;}, 0)";break;case"MIN":e="Math.min.apply(null, "+(e=t.valueToCode(e,"LIST",n.NONE)||"[]")+")";break;case"MAX":e="Math.max.apply(null, "+(e=t.valueToCode(e,"LIST",n.NONE)||"[]")+")";break;case"AVERAGE":e=(o=t.provideFunction_("mathMean",`
function ${t.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;
}
`))+"("+(e=t.valueToCode(e,"LIST",n.NONE)||"[]")+")";break;case"MEDIAN":e=(o=t.provideFunction_("mathMedian",`
function ${t.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  var localList = myList.filter(function (x) {return typeof x === 'number';});
  if (!localList.length) return null;
  localList.sort(function(a, b) {return b - a;});
  if (localList.length % 2 === 0) {
    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;
  } else {
    return localList[(localList.length - 1) / 2];
  }
}
`))+"("+(e=t.valueToCode(e,"LIST",n.NONE)||"[]")+")";break;case"MODE":e=(o=t.provideFunction_("mathModes",`
function ${t.FUNCTION_NAME_PLACEHOLDER_}(values) {
  var modes = [];
  var counts = [];
  var maxCount = 0;
  for (var i = 0; i < values.length; i++) {
    var value = values[i];
    var found = false;
    var thisCount;
    for (var j = 0; j < counts.length; j++) {
      if (counts[j][0] === value) {
        thisCount = ++counts[j][1];
        found = true;
        break;
      }
    }
    if (!found) {
      counts.push([value, 1]);
      thisCount = 1;
    }
    maxCount = Math.max(thisCount, maxCount);
  }
  for (var j = 0; j < counts.length; j++) {
    if (counts[j][1] === maxCount) {
      modes.push(counts[j][0]);
    }
  }
  return modes;
}
`))+"("+(e=t.valueToCode(e,"LIST",n.NONE)||"[]")+")";break;case"STD_DEV":e=(o=t.provideFunction_("mathStandardDeviation",`
function ${t.FUNCTION_NAME_PLACEHOLDER_}(numbers) {
  var n = numbers.length;
  if (!n) return null;
  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;
  var variance = 0;
  for (var j = 0; j < n; j++) {
    variance += Math.pow(numbers[j] - mean, 2);
  }
  variance /= n;
  return Math.sqrt(variance);
}
`))+"("+(e=t.valueToCode(e,"LIST",n.NONE)||"[]")+")";break;case"RANDOM":e=(o=t.provideFunction_("mathRandomList",`
function ${t.FUNCTION_NAME_PLACEHOLDER_}(list) {
  var x = Math.floor(Math.random() * list.length);
  return list[x];
}
`))+"("+(e=t.valueToCode(e,"LIST",n.NONE)||"[]")+")";break;default:throw Error("Unknown operator: "+o)}return[e,n.FUNCTION_CALL]},_.math_random_float=function(e,t){return["Math.random()",n.FUNCTION_CALL]},_.math_random_int=function(e,t){let o=t.valueToCode(e,"FROM",n.NONE)||"0";return e=t.valueToCode(e,"TO",n.NONE)||"0",[t.provideFunction_("mathRandomInt",`
function ${t.FUNCTION_NAME_PLACEHOLDER_}(a, b) {
  if (a > b) {
    // Swap a and b to ensure a is smaller.
    var c = a;
    a = b;
    b = c;
  }
  return Math.floor(Math.random() * (b - a + 1) + a);
}
`)+"("+o+", "+e+")",n.FUNCTION_CALL]},_.math_round=s,_.math_single=s,_.math_trig=s;var b={};b.procedures_callnoreturn=function(e,t){return t.forBlock.procedures_callreturn(e,t)[0]+";\n"},b.procedures_callreturn=function(e,t){let o=t.getProcedureName(e.getFieldValue("NAME")),r=[],i=e.getVars();for(let o=0;o<i.length;o++)r[o]=t.valueToCode(e,"ARG"+o,n.NONE)||"null";return[o+"("+r.join(", ")+")",n.FUNCTION_CALL]},b.procedures_defnoreturn=l,b.procedures_defreturn=l,b.procedures_ifreturn=function(e,t){let o="if ("+(t.valueToCode(e,"CONDITION",n.NONE)||"false")+") {\n";return t.STATEMENT_SUFFIX&&(o+=t.prefixLines(t.injectId(t.STATEMENT_SUFFIX,e),t.INDENT)),e.hasReturnValue_?(e=t.valueToCode(e,"VALUE",n.NONE)||"null",o+=t.INDENT+"return "+e+";\n"):o+=t.INDENT+"return;\n",o+"}\n"};var y=/^\s*'([^']|\\')*'\s*$/,T=function(e){return y.test(e)?[e,n.ATOMIC]:["String("+e+")",n.FUNCTION_CALL]},E=function(e,t,n){return"FIRST"===t?"0":"FROM_END"===t?e+".length - 1 - "+n:"LAST"===t?e+".length - 1":n},v={};v.text=function(e,t){return[t.quote_(e.getFieldValue("TEXT")),n.ATOMIC]},v.text_append=function(e,t){return t.getVariableName(e.getFieldValue("VAR"))+" += "+T(e=t.valueToCode(e,"TEXT",n.NONE)||"''")[0]+";\n"},v.text_changeCase=function(e,t){let o={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[e.getFieldValue("CASE")];return e=t.valueToCode(e,"TEXT",o?n.MEMBER:n.NONE)||"''",[o?e+o:t.provideFunction_("textToTitleCase",`
function ${t.FUNCTION_NAME_PLACEHOLDER_}(str) {
  return str.replace(/\\S+/g,
      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});
}
`)+"("+e+")",n.FUNCTION_CALL]},v.text_charAt=function(e,t){let o=e.getFieldValue("WHERE")||"FROM_START",r=t.valueToCode(e,"VALUE","RANDOM"===o?n.NONE:n.MEMBER)||"''";switch(o){case"FIRST":return[r+".charAt(0)",n.FUNCTION_CALL];case"LAST":return[r+".slice(-1)",n.FUNCTION_CALL];case"FROM_START":return[r+".charAt("+(e=t.getAdjusted(e,"AT"))+")",n.FUNCTION_CALL];case"FROM_END":return[r+".slice("+(e=t.getAdjusted(e,"AT",1,!0))+").charAt(0)",n.FUNCTION_CALL];case"RANDOM":return[t.provideFunction_("textRandomLetter",`
function ${t.FUNCTION_NAME_PLACEHOLDER_}(text) {
  var x = Math.floor(Math.random() * text.length);
  return text[x];
}
`)+"("+r+")",n.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},v.text_count=function(e,t){let o=t.valueToCode(e,"TEXT",n.NONE)||"''";return e=t.valueToCode(e,"SUB",n.NONE)||"''",[t.provideFunction_("textCount",`
function ${t.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle) {
  if (needle.length === 0) {
    return haystack.length + 1;
  } else {
    return haystack.split(needle).length - 1;
  }
}
`)+"("+o+", "+e+")",n.FUNCTION_CALL]},v.text_getSubstring=function(e,t){var o={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};let r=e.getFieldValue("WHERE1"),i=e.getFieldValue("WHERE2");var s="FROM_END"!==r&&"LAST"!==r&&"FROM_END"!==i&&"LAST"!==i,l=t.valueToCode(e,"STRING",s?n.MEMBER:n.NONE)||"''";if("FIRST"===r&&"LAST"===i)return[l,n.NONE];if(l.match(/^'?\w+'?$/)||s){switch(r){case"FROM_START":o=t.getAdjusted(e,"AT1");break;case"FROM_END":o=l+".length - "+(o=t.getAdjusted(e,"AT1",1,!1,n.SUBTRACTION));break;case"FIRST":o="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(i){case"FROM_START":t=t.getAdjusted(e,"AT2",1);break;case"FROM_END":t=l+".length - "+(t=t.getAdjusted(e,"AT2",0,!1,n.SUBTRACTION));break;case"LAST":t=l+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}l=l+".slice("+o+", "+t+")"}else s=t.getAdjusted(e,"AT1"),e=t.getAdjusted(e,"AT2"),l=t.provideFunction_("subsequence"+o[r]+o[i],`
function ${t.FUNCTION_NAME_PLACEHOLDER_}(sequence${"FROM_END"===r||"FROM_START"===r?", at1":""}${"FROM_END"===i||"FROM_START"===i?", at2":""}) {
  var start = ${E("sequence",r,"at1")};
  var end = ${E("sequence",i,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+l+("FROM_END"===r||"FROM_START"===r?", "+s:"")+("FROM_END"===i||"FROM_START"===i?", "+e:"")+")";return[l,n.FUNCTION_CALL]},v.text_indexOf=function(e,t){let o="FIRST"===e.getFieldValue("END")?"indexOf":"lastIndexOf",r=t.valueToCode(e,"FIND",n.NONE)||"''";return t=(t.valueToCode(e,"VALUE",n.MEMBER)||"''")+"."+o+"("+r+")",e.workspace.options.oneBasedIndex?[t+" + 1",n.ADDITION]:[t,n.FUNCTION_CALL]},v.text_isEmpty=function(e,t){return["!"+(t.valueToCode(e,"VALUE",n.MEMBER)||"''")+".length",n.LOGICAL_NOT]},v.text_join=function(e,t){switch(e.itemCount_){case 0:return["''",n.ATOMIC];case 1:return T(e=t.valueToCode(e,"ADD0",n.NONE)||"''");case 2:var o=t.valueToCode(e,"ADD0",n.NONE)||"''";return e=t.valueToCode(e,"ADD1",n.NONE)||"''",[T(o)[0]+" + "+T(e)[0],n.ADDITION];default:o=Array(e.itemCount_);for(let r=0;r<e.itemCount_;r++)o[r]=t.valueToCode(e,"ADD"+r,n.NONE)||"''";return["["+o.join(",")+"].join('')",n.FUNCTION_CALL]}},v.text_length=function(e,t){return[(t.valueToCode(e,"VALUE",n.MEMBER)||"''")+".length",n.MEMBER]},v.text_print=function(e,t){return"window.alert("+(t.valueToCode(e,"TEXT",n.NONE)||"''")+");\n"},v.text_prompt=a,v.text_prompt_ext=a,v.text_replace=function(e,t){let o=t.valueToCode(e,"TEXT",n.NONE)||"''",r=t.valueToCode(e,"FROM",n.NONE)||"''";return e=t.valueToCode(e,"TO",n.NONE)||"''",[t.provideFunction_("textReplace",`
function ${t.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle, replacement) {
  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')
                 .replace(/\\x08/g, '\\\\x08');
  return haystack.replace(new RegExp(needle, 'g'), replacement);
}
`)+"("+o+", "+r+", "+e+")",n.FUNCTION_CALL]},v.text_reverse=function(e,t){return[(t.valueToCode(e,"TEXT",n.MEMBER)||"''")+".split('').reverse().join('')",n.FUNCTION_CALL]},v.text_trim=function(e,t){let o={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[e.getFieldValue("MODE")];return[(t.valueToCode(e,"TEXT",n.MEMBER)||"''")+o,n.FUNCTION_CALL]};var C={};C.variables_get=u,C.variables_set=c;var I={};I.variables_get_dynamic=u,I.variables_set_dynamic=c;var S=new d,w=Object.assign({},f,g,m,_,b,v,C,I);for(let e in w)S.forBlock[e]=w[e];var k={};return k.JavascriptGenerator=d,k.Order=n,k.javascriptGenerator=S,k.__namespace__=o,k},"function"==typeof define&&define.amd?define(["./blockly_compressed.js"],n):n(c("8GNui"));const{pythonGenerator:E}=l(c("asGCo"));var v=c("fYo6y");const C=(0,v.createContext)(),I={WORKSPACE_XML:"blockly_workspace_cache",EDITOR_CODE:"blockly_editor_code_cache",LAST_SAVE:"blockly_last_save_timestamp"},S=({children:e})=>{let t=(0,v.useRef)(null),[n,o]=(0,v.useState)(0),[r,i]=(0,v.useState)(()=>{try{return localStorage.getItem(I.EDITOR_CODE)||"# Welcome to Blockly\n# Start coding here"}catch(e){return console.log("Could not load cached code:",e),"# Welcome to Blockly\n# Start coding here"}}),[s,l]=(0,v.useState)(!0),[a,u]=(0,v.useState)(""),[c,d]=(0,v.useState)(!1),[p,f]=(0,v.useState)("blockly"),m=(0,v.useRef)(!1),b=()=>{try{if(t.current){let e=_.workspaceToDom(t.current),n=_.domToPrettyText(e);localStorage.setItem(I.WORKSPACE_XML,n)}localStorage.setItem(I.EDITOR_CODE,r),localStorage.setItem(I.LAST_SAVE,new Date().toISOString()),console.log("✅ Workspace and code cached successfully")}catch(e){console.error("❌ Error saving cache:",e)}},T=()=>{if(!m.current)try{let e=localStorage.getItem(I.WORKSPACE_XML),n=localStorage.getItem(I.LAST_SAVE);if(e&&t.current){if(n){let e=new Date(n);console.log(`\u{1F4E6} Found cached workspace from ${e.toLocaleString()}`)}try{let n=y.xml.textToDom(e);_.clearWorkspaceAndLoadFromXml(n,t.current),m.current=!0,console.log("✅ Workspace restored from cache")}catch(e){console.error("❌ Error loading cached workspace:",e),S()}}}catch(e){console.error("❌ Error loading cache:",e)}},S=()=>{try{localStorage.removeItem(I.WORKSPACE_XML),localStorage.removeItem(I.EDITOR_CODE),localStorage.removeItem(I.LAST_SAVE),console.log("\uD83D\uDDD1️ Cache cleared")}catch(e){console.error("❌ Error clearing cache:",e)}};(0,v.useEffect)(()=>{let e=e=>{b()};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[r]),(0,v.useEffect)(()=>{t.current&&!m.current&&setTimeout(()=>{T()},100)},[t.current]),(0,v.useEffect)(()=>{if(t.current){let e=t.current,n=t=>{if(!t.isUiEvent&&t.type!==g.FINISHED_LOADING){let t=E.workspaceToCode(e);"blockly"===p&&w(t)}};return e.addChangeListener(n),()=>{e.removeChangeListener(n)}}},[t.current,p]);let w=e=>{i(e)};return(0,v.useEffect)(()=>{let e=()=>t.current?.workspace?.resize();return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[n]),(0,h.jsx)(C.Provider,{value:{workspaceRef:t,code:r,isDarkTheme:s,toggleTheme:()=>{l(e=>!e)},setCurrentCode:w,generatePython:()=>t.current?E.workspaceToCode(t.current):"",runCode:()=>{try{let e;if("blockly"===p){let n=E.workspaceToCode(t.current);w(n),e=n}else e=r;u(Date.now()+"\n"+e),d(!0)}catch(e){alert(`Execution Error: ${e.message}`)}},exportToXml:()=>{if(t.current){let e=_.workspaceToDom(t.current),n=new Blob([_.domToPrettyText(e)],{type:"text/xml"}),o=URL.createObjectURL(n),r=document.createElement("a");r.href=o,r.download="workspace.xml",r.click(),URL.revokeObjectURL(o)}},importFromXml:e=>{if(t.current)try{let n=y.xml.textToDom(e);_.clearWorkspaceAndLoadFromXml(n,t.current),S(),m.current=!1}catch(e){alert(`Error importing XML: ${e.message}`)}},viewMode:n,setViewMode:()=>{o(e=>(requestAnimationFrame(()=>{t.current?.workspace?.resize()}),(e+1)%3))},toggleEditor:()=>o(e=>+(1!==e)),pythonCodeToRun:a,showBrythonConsole:c,setShowBrythonConsole:d,editorFocus:p,setEditorFocus:f,saveToCache:b,clearCache:S},children:e})},w=()=>(0,v.useContext)(C);var h=c("iM5HV"),v=c("fYo6y");c("jVSxT"),c("9R5n6"),c("jy87s");var h=c("iM5HV"),v=c("fYo6y");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){var o;o=n[t],t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $(e){return function t(){for(var n=this,o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return r.length>=e.length?e.apply(this,r):function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(n,[].concat(r,o))}}}function A(e){return({}).toString.call(e).includes("Object")}function N(e){return"function"==typeof e}var M=$(function(e,t){throw Error(e[t]||e.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),L=function(e,t){return A(t)||M("changeType"),Object.keys(t).some(function(t){return!Object.prototype.hasOwnProperty.call(e,t)})&&M("changeField"),t},D=function(e){N(e)||M("selectorType")},P=function(e){N(e)||A(e)||M("handlerType"),A(e)&&Object.values(e).some(function(e){return!N(e)})&&M("handlersType")},B=function(e){e||M("initialIsRequired"),A(e)||M("initialType"),Object.keys(e).length||M("initialContent")};function F(e,t){return N(t)?t(e.current):t}function U(e,t){return e.current=x(x({},e.current),t),t}function H(e,t,n){return N(t)?t(e.current):Object.keys(n).forEach(function(n){var o;return null==(o=t[n])?void 0:o.call(t,e.current[n])}),n}var V={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},G=(o=function(e,t){throw Error(e[t]||e.default)},function e(){for(var t=this,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.length>=o.length?o.apply(this,r):function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return e.apply(t,[].concat(r,o))}})(V),j=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}},W={type:"cancelation",msg:"operation is manually canceled"},z=function(e){var t=!1,n=new Promise(function(n,o){e.then(function(e){return t?o(W):n(e)}),e.catch(o)});return n.cancel=function(){return t=!0},n},X=function(e){if(Array.isArray(e))return e}(r=({create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};B(e),P(t);var n={current:e},o=$(H)(n,t),r=$(U)(n),i=$(L)(e),s=$(F)(n);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return D(e),e(n.current)},function(e){(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}})(o,r,i,s)(e)}]}}).create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var s,l=e[Symbol.iterator]();!(o=(s=l.next()).done)&&(n.push(s.value),n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw i}}return n}}(r,2)||function(e,t){if(e){if("string"==typeof e)return O(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Y=X[0],K=X[1];function J(e){return document.body.appendChild(e)}function Z(e){var t,n,o=Y(function(e){return{config:e.config,reject:e.reject}}),r=(t="".concat(o.config.paths.vs,"/loader.js"),n=document.createElement("script"),t&&(n.src=t),n);return r.onload=function(){return e()},r.onerror=o.reject,r}function q(){var e=Y(function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(t){Q(t),e.resolve(t)},function(t){e.reject(t)})}function Q(e){Y().monaco||K({monaco:e})}var ee=new Promise(function(e,t){return K({resolve:e,reject:t})}),et=function(){var e=Y(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!e.isInitialized){if(K({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),z(ee);if(window.monaco&&window.monaco.editor)return Q(window.monaco),e.resolve(window.monaco),z(ee);j(J,Z)(q)}return z(ee)},v=c("fYo6y"),en={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},eo={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},er=function({children:e}){return l(v).createElement("div",{style:eo},e)},ei=(0,v.memo)(function({width:e,height:t,isEditorReady:n,loading:o,_ref:r,className:i,wrapperProps:s}){return l(v).createElement("section",{style:{...en.wrapper,width:e,height:t},...s},!n&&l(v).createElement(er,null,o),l(v).createElement("div",{ref:r,style:{...en.fullWidth,...!n&&en.hide},className:i}))}),es=function(e){(0,v.useEffect)(e,[])},el=function(e,t,n=!0){let o=(0,v.useRef)(!0);(0,v.useEffect)(o.current||!n?()=>{o.current=!1}:e,t)};function ea(){}function eu(e,t,n,o){var r,i,s,l,a,u;return r=e,i=o,r.editor.getModel(ec(r,i))||(s=e,l=t,a=n,u=o,s.editor.createModel(l,a,u?ec(s,u):void 0))}function ec(e,t){return e.Uri.parse(t)}(0,v.memo)(function({original:e,modified:t,language:n,originalLanguage:o,modifiedLanguage:r,originalModelPath:i,modifiedModelPath:s,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:u=!1,theme:c="light",loading:d="Loading...",options:h={},height:p="100%",width:f="100%",className:g,wrapperProps:m={},beforeMount:_=ea,onMount:b=ea}){let[y,T]=(0,v.useState)(!1),[E,C]=(0,v.useState)(!0),I=(0,v.useRef)(null),S=(0,v.useRef)(null),w=(0,v.useRef)(null),k=(0,v.useRef)(b),O=(0,v.useRef)(_),R=(0,v.useRef)(!1);es(()=>{let e=et();return e.then(e=>(S.current=e)&&C(!1)).catch(e=>e?.type!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>{let t;return I.current?(t=I.current?.getModel(),void(a||t?.original?.dispose(),u||t?.modified?.dispose(),I.current?.dispose())):e.cancel()}}),el(()=>{if(I.current&&S.current){let t=I.current.getOriginalEditor(),r=eu(S.current,e||"",o||n||"text",i||"");r!==t.getModel()&&t.setModel(r)}},[i],y),el(()=>{if(I.current&&S.current){let e=I.current.getModifiedEditor(),o=eu(S.current,t||"",r||n||"text",s||"");o!==e.getModel()&&e.setModel(o)}},[s],y),el(()=>{let e=I.current.getModifiedEditor();e.getOption(S.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())},[t],y),el(()=>{I.current?.getModel()?.original.setValue(e||"")},[e],y),el(()=>{let{original:e,modified:t}=I.current.getModel();S.current.editor.setModelLanguage(e,o||n||"text"),S.current.editor.setModelLanguage(t,r||n||"text")},[n,o,r],y),el(()=>{S.current?.editor.setTheme(c)},[c],y),el(()=>{I.current?.updateOptions(h)},[h],y);let x=(0,v.useCallback)(()=>{if(!S.current)return;O.current(S.current);let l=eu(S.current,e||"",o||n||"text",i||""),a=eu(S.current,t||"",r||n||"text",s||"");I.current?.setModel({original:l,modified:a})},[n,t,r,e,o,i,s]),$=(0,v.useCallback)(()=>{!R.current&&w.current&&(I.current=S.current.editor.createDiffEditor(w.current,{automaticLayout:!0,...h}),x(),S.current?.editor.setTheme(c),T(!0),R.current=!0)},[h,c,x]);return(0,v.useEffect)(()=>{y&&k.current(I.current,S.current)},[y]),(0,v.useEffect)(()=>{E||y||$()},[E,y,$]),l(v).createElement(ei,{width:f,height:p,isEditorReady:y,loading:d,_ref:w,className:g,wrapperProps:m})});var ed=function(e){let t=(0,v.useRef)();return(0,v.useEffect)(()=>{t.current=e},[e]),t.current},eh=new Map,ep=(0,v.memo)(function({defaultValue:e,defaultLanguage:t,defaultPath:n,value:o,language:r,path:i,theme:s="light",line:a,loading:u="Loading...",options:c={},overrideServices:d={},saveViewState:h=!0,keepCurrentModel:p=!1,width:f="100%",height:g="100%",className:m,wrapperProps:_={},beforeMount:b=ea,onMount:y=ea,onChange:T,onValidate:E=ea}){let[C,I]=(0,v.useState)(!1),[S,w]=(0,v.useState)(!0),k=(0,v.useRef)(null),O=(0,v.useRef)(null),R=(0,v.useRef)(null),x=(0,v.useRef)(y),$=(0,v.useRef)(b),A=(0,v.useRef)(),N=(0,v.useRef)(o),M=ed(i),L=(0,v.useRef)(!1),D=(0,v.useRef)(!1);es(()=>{let e=et();return e.then(e=>(k.current=e)&&w(!1)).catch(e=>e?.type!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>O.current?void(A.current?.dispose(),p?h&&eh.set(i,O.current.saveViewState()):O.current.getModel()?.dispose(),O.current.dispose()):e.cancel()}),el(()=>{let s=eu(k.current,e||o||"",t||r||"",i||n||"");s!==O.current?.getModel()&&(h&&eh.set(M,O.current?.saveViewState()),O.current?.setModel(s),h&&O.current?.restoreViewState(eh.get(i)))},[i],C),el(()=>{O.current?.updateOptions(c)},[c],C),el(()=>{O.current&&void 0!==o&&(O.current.getOption(k.current.editor.EditorOption.readOnly)?O.current.setValue(o):o!==O.current.getValue()&&(D.current=!0,O.current.executeEdits("",[{range:O.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),O.current.pushUndoStop(),D.current=!1))},[o],C),el(()=>{let e=O.current?.getModel();e&&r&&k.current?.editor.setModelLanguage(e,r)},[r],C),el(()=>{void 0!==a&&O.current?.revealLine(a)},[a],C),el(()=>{k.current?.editor.setTheme(s)},[s],C);let P=(0,v.useCallback)(()=>{if(!(!R.current||!k.current)&&!L.current){$.current(k.current);let l=i||n,u=eu(k.current,o||e||"",t||r||"",l||"");O.current=k.current?.editor.create(R.current,{model:u,automaticLayout:!0,...c},d),h&&O.current.restoreViewState(eh.get(l)),k.current.editor.setTheme(s),void 0!==a&&O.current.revealLine(a),I(!0),L.current=!0}},[e,t,n,o,r,i,c,d,h,s,a]);return(0,v.useEffect)(()=>{C&&x.current(O.current,k.current)},[C]),(0,v.useEffect)(()=>{S||C||P()},[S,C,P]),N.current=o,(0,v.useEffect)(()=>{C&&T&&(A.current?.dispose(),A.current=O.current?.onDidChangeModelContent(e=>{D.current||T(O.current.getValue(),e)}))},[C,T]),(0,v.useEffect)(()=>{if(C){let e=k.current.editor.onDidChangeMarkers(e=>{let t=O.current.getModel()?.uri;if(t&&e.find(e=>e.path===t.path)){let e=k.current.editor.getModelMarkers({resource:t});E?.(e)}});return()=>{e?.dispose()}}return()=>{}},[C,E]),l(v).createElement(ei,{width:f,height:g,isEditorReady:C,loading:u,_ref:R,className:m,wrapperProps:_})}),ef=()=>{let{code:e,setCurrentCode:t,isDarkTheme:n,generatePython:o,setEditorFocus:r}=w();return(0,v.useEffect)(()=>{let n=o();n&&n!==e&&t(n)},[]),(0,h.jsx)("div",{style:{height:"100%",width:"100%"},onClick:()=>{r("editor")},children:(0,h.jsx)(ep,{height:"100%",width:"100%",language:"python",theme:n?"vs-dark":"light",value:e,onChange:t,onFocus:()=>{r("editor")},options:{minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:14,automaticLayout:!0,tabSize:2,wordWrap:"on",lineNumbers:"on",folding:!0,renderLineHighlight:"all"}})})},eg={kind:"categoryToolbox",contents:[{kind:"category",name:"\uD83D\uDDA6 IO/var",colour:"#FF8C1A",contents:[{kind:"label",text:"Input/Output"},{kind:"block",type:"from_import"},{kind:"block",type:"text_input"},{kind:"block",type:"math_type_conversion",inputs:{VALUE:{shadow:{type:"text_input"}}}},{kind:"block",type:"print_with_args",inputs:{ARG0:{shadow:{type:"text",fields:{TEXT:"Hi"}}}}},{kind:"label",text:"Variables"},{kind:"block",type:"let_set",inputs:{LET:{shadow:{type:"let_reference",fields:{LET:"x"}}},VALUE:{shadow:{type:"math_number",fields:{NUM:1}}}}},{kind:"block",type:"let_reference",fields:{LET:"x"}},{kind:"block",type:"var_declaration"}]},{kind:"category",name:"\uD83D\uDD22 math+",colour:230,contents:[{kind:"block",type:"math_number",fields:{NUM:1}},{kind:"block",type:"math_basic_arith",inputs:{A:{shadow:{type:"math_number",fields:{NUM:1}}},B:{shadow:{type:"math_number",fields:{NUM:2}}}}},{kind:"block",type:"math_advanced_arith",inputs:{A:{shadow:{type:"math_number",fields:{NUM:10}}},B:{shadow:{type:"math_number",fields:{NUM:3}}}}},{kind:"block",type:"math_round_abs",inputs:{NUM:{shadow:{type:"math_number",fields:{NUM:9.7}}}}},{kind:"block",type:"math_type_conversion",inputs:{VALUE:{shadow:{type:"math_number",fields:{NUM:123}}}}},{kind:"block",type:"math_functions",inputs:{NUM:{shadow:{type:"math_number",fields:{NUM:.5}}}}},{kind:"block",type:"math_char_funcs",inputs:{VAL:{shadow:{type:"text",fields:{TEXT:"A"}}}}},{kind:"block",type:"math_constants"},{kind:"block",type:"min_max_with_args",inputs:{ARG0:{shadow:{type:"math_number",fields:{NUM:5}}}}},{kind:"block",type:"math_random_int_custom",inputs:{FROM:{shadow:{type:"math_number",fields:{NUM:1}}},TO:{shadow:{type:"math_number",fields:{NUM:100}}}}}]},{kind:"category",name:"\uD83D\uDD00 logic",colour:120,contents:[{kind:"block",type:"logic_compare",inputs:{A:{shadow:{type:"math_number",fields:{NUM:0}}},B:{shadow:{type:"math_number",fields:{NUM:0}}}}},{kind:"block",type:"logic_operation"},{kind:"block",type:"logic_is_odd_even"},{kind:"block",type:"logic_is_comparison"},{kind:"block",type:"logic_is_in"},{kind:"block",type:"logic_boolean"},{kind:"block",type:"controls_if"},{kind:"block",type:"controls_if",extraState:{hasElse:"true"}}]},{kind:"category",name:"\uD83D\uDD02 repeat",colour:"#FF8C1A",contents:[{kind:"block",type:"range_block",inputs:{ARG0:{shadow:{type:"math_number",fields:{NUM:10}}}}},{kind:"block",type:"controls_for_in",inputs:{VAR:{shadow:{type:"let_reference",fields:{LET:"i"}}}}},{kind:"block",type:"controls_repeat_ext",inputs:{TIMES:{shadow:{type:"math_number",fields:{NUM:10}}}}},{kind:"block",type:"controls_whileUntil",fields:{MODE:"WHILE"}}]},{kind:"category",name:"\uD83D\uDD24 text",colour:"#FBC02D",contents:[{kind:"block",type:"text",fields:{TEXT:""}},{kind:"block",type:"text_create_with"},{kind:"block",type:"sequence_slice"},{kind:"block",type:"text_get_index"},{kind:"block",type:"text_method_return"},{kind:"block",type:"text_length"}]},{kind:"category",name:"fx functions",colour:"%{BKY_PROCEDURES_HUE}",contents:[{kind:"block",type:"function_definition"},{kind:"block",type:"function_call"},{kind:"block",type:"function_call_return"},{kind:"block",type:"logic_function_call_return"},{kind:"block",type:"function_return"}]},{kind:"category",name:"\uD83D\uDCCB list",colour:"#FF8C1A",contents:[{kind:"block",type:"list_create_with"},{kind:"block",type:"list_get_index"},{kind:"block",type:"list_set_index"},{kind:"block",type:"list_method_void"},{kind:"block",type:"list_method_return"}]},{kind:"category",name:"\uD83D\uDCD6 dict",colour:"#FF9900",contents:[{kind:"block",type:"dict_create_with"},{kind:"block",type:"dict_get"},{kind:"block",type:"dict_set"},{kind:"block",type:"tuple_create_with"},{kind:"block",type:"tuple_get_index"}]},{kind:"category",name:"\uD83D\uDC22 Turtle",colour:180,contents:[{kind:"category",name:"motion",colour:180,contents:[{kind:"block",type:"turtle_move",fields:{FUNC:"forward"},inputs:{VALUE:{shadow:{type:"math_number",fields:{NUM:100}}}}},{kind:"block",type:"turtle_move",fields:{FUNC:"left"},inputs:{VALUE:{shadow:{type:"math_number",fields:{NUM:90}}}}},{kind:"block",type:"turtle_goto",fields:{FUNC:"goto"},inputs:{X:{shadow:{type:"math_number",fields:{NUM:0}}},Y:{shadow:{type:"math_number",fields:{NUM:0}}}}},{kind:"block",type:"turtle_circle",inputs:{ARG0:{shadow:{type:"math_number",fields:{NUM:50}}}}},{kind:"block",type:"turtle_setheading",inputs:{ANGLE:{shadow:{type:"math_number",fields:{NUM:90}}}}},{kind:"block",type:"turtle_position",fields:{FUNC:"pos"}},{kind:"block",type:"turtle_distance_towards",fields:{FUNCTION_TYPE:"DISTANCE",TARGET_TYPE:"COORDS"},inputs:{X:{shadow:{type:"math_number",fields:{NUM:0}}},Y:{shadow:{type:"math_number",fields:{NUM:0}}}},mutation:{target_type:"COORDS"}}]},{kind:"category",name:"pen",colour:180,contents:[{kind:"block",type:"turtle_move",fields:{FUNC:"pensize"},inputs:{VALUE:{shadow:{type:"math_number",fields:{NUM:5}}}}},{kind:"block",type:"turtle_pen",fields:{FUNC:"penup"}},{kind:"block",type:"turtle_color",fields:{FUNC:"pencolor"},inputs:{ARG0:{shadow:{type:"text",fields:{TEXT:"blue"}}}}},{kind:"block",type:"turtle_fill_block",inputs:{COLOR:{shadow:{type:"text",fields:{TEXT:"yellow"}}}}},{kind:"block",type:"turtle_shape",inputs:{SHAPE:{shadow:{type:"text",fields:{TEXT:"turtle"}}}}},{kind:"block",type:"turtle_shapesize",fields:{FUNC:"shapesize"},inputs:{ARG0:{shadow:{type:"math_number",fields:{NUM:1}}}}}]},{kind:"category",name:"text",colour:180,contents:[{kind:"block",type:"turtle_write",inputs:{ARG0:{shadow:{type:"text",fields:{TEXT:"Hello, Turtle!"}}}}},{kind:"block",type:"turtle_textinput",inputs:{TITLE:{shadow:{type:"text",fields:{TEXT:"Question"}}},PROMPT:{shadow:{type:"text",fields:{TEXT:"Enter some text:"}}}}},{kind:"block",type:"turtle_numinput",inputs:{TITLE:{shadow:{type:"text",fields:{TEXT:"Question"}}},PROMPT:{shadow:{type:"text",fields:{TEXT:"Enter a number:"}}},DEFAULT:{shadow:{type:"math_number",fields:{NUM:0}}}}}]}]},{kind:"category",name:"\uD83C\uDFAE Game",colour:230,contents:[{kind:"label",text:"\uD83C\uDFAE Game Control"},{kind:"block",type:"pixi_game_loop",fields:{FUNCTION_NAME:"loop",FUNCTION_CALL_NAME:"loop"}},{kind:"label",text:"\uD83D\uDDBC️ Sprite & Background"},{kind:"block",type:"pixi_sprite_functions",inputs:{ARG0:{block:{type:"pixi_shape_functions",fields:{FUNC:"circle"},inputs:{ARG0:{shadow:{type:"math_number",fields:{NUM:20}}}}}}}},{kind:"block",type:"pixi_sprite_getter",inputs:{SPRITE:{shadow:{type:"let_reference",fields:{LET:"my_sprite"}}}},fields:{PROP:"x"}},{kind:"block",type:"pixi_background",inputs:{ARG0:{shadow:{type:"text",fields:{TEXT:"https://thaysang.github.io/game/bg/scratch/underwater2.png"}}}}},{kind:"label",text:"⚡ Physics Control"},{kind:"block",type:"pixi_set_gravity",inputs:{X:{shadow:{type:"math_number",fields:{NUM:0}}},Y:{shadow:{type:"math_number",fields:{NUM:.5}}}}},{kind:"block",type:"pixi_add_physics",inputs:{SPRITE:{shadow:{type:"let_reference",fields:{LET:"my_sprite"}}}},fields:{BODY_TYPE:"rect"}},{kind:"label",text:"⚙️ Sprite Actions"},{kind:"block",type:"pixi_sprite_action_two_params",inputs:{SPRITE:{shadow:{type:"let_reference",fields:{LET:"my_sprite"}}},ARG1:{shadow:{type:"math_number",fields:{NUM:100}}},ARG2:{shadow:{type:"math_number",fields:{NUM:100}}}}},{kind:"block",type:"pixi_sprite_action_one_param",inputs:{SPRITE:{shadow:{type:"let_reference",fields:{LET:"my_sprite"}}},ARG1:{shadow:{type:"text",fields:{TEXT:"red"}}}}},{kind:"block",type:"pixi_sprite_action_no_params",inputs:{SPRITE:{shadow:{type:"let_reference",fields:{LET:"my_sprite"}}}}},{kind:"label",text:"\uD83D\uDCA5 Collision Detection"},{kind:"block",type:"pixi_collides",inputs:{OBJ1:{shadow:{type:"let_reference",fields:{LET:"sprite1"}}},OBJ2:{shadow:{type:"let_reference",fields:{LET:"sprite2"}}}}},{kind:"block",type:"pixi_distance",inputs:{OBJ1:{shadow:{type:"let_reference",fields:{LET:"sprite1"}}},OBJ2:{shadow:{type:"let_reference",fields:{LET:"sprite2"}}}}},{kind:"block",type:"pixi_point_in_circle",inputs:{X:{shadow:{type:"math_number",fields:{NUM:100}}},Y:{shadow:{type:"math_number",fields:{NUM:100}}},CX:{shadow:{type:"math_number",fields:{NUM:150}}},CY:{shadow:{type:"math_number",fields:{NUM:150}}},RADIUS:{shadow:{type:"math_number",fields:{NUM:50}}}}},{kind:"label",text:"\uD83D\uDD36 Textures"},{kind:"block",type:"pixi_image",inputs:{URL:{shadow:{type:"text",fields:{TEXT:"https://thaysang.github.io/game/sp/scratch/fish1.svg"}}}}},{kind:"block",type:"pixi_shape_functions",inputs:{ARG0:{shadow:{type:"math_number",fields:{NUM:20}}}},fields:{FUNC:"circle"}},{kind:"block",type:"pixi_text_functions",inputs:{ARG0:{shadow:{type:"text",fields:{TEXT:"Hello Physics!"}}}}},{kind:"label",text:"⌨️ Events & Math"},{kind:"block",type:"pixi_is_key_pressed",inputs:{KEY:{shadow:{type:"text",fields:{TEXT:"w"}}}}},{kind:"block",type:"pixi_math_functions",inputs:{X1:{shadow:{type:"math_number",fields:{NUM:0}}},Y1:{shadow:{type:"math_number",fields:{NUM:0}}},X2:{shadow:{type:"math_number",fields:{NUM:100}}},Y2:{shadow:{type:"math_number",fields:{NUM:100}}}},fields:{FUNC:"angle_between"}},{kind:"label",text:"\uD83D\uDD0A Sound"},{kind:"block",type:"pixi_sound_functions",inputs:{URL:{shadow:{type:"text",fields:{TEXT:"https://thaysang.github.io/game/sound/scratch/bird.wav"}}}}},{kind:"block",type:"pixi_sound_actions",inputs:{SOUND:{shadow:{type:"let_reference",fields:{LET:"my_sound"}}}},fields:{FUNC:"play"}}]}]};const em={startHat:!0,hat:!0,borderRadius:4},e_=f.Theme.defineTheme("dark",{...em,base:f.Themes.Classic,componentStyles:{workspaceBackgroundColour:"#1e1e1e",toolboxBackgroundColour:"#333333",toolboxForegroundColour:"#fff",flyoutBackgroundColour:"#252526",flyoutForegroundColour:"#ccc",flyoutOpacity:.9,scrollbarColour:"#797979",insertionMarkerColour:"#fff",insertionMarkerOpacity:.3,scrollbarOpacity:.4,cursorColour:"#fff"},blockStyles:{colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#39C5BB",colourSecondary:"#2FB3AA",colourTertiary:"#2B9D94"},logic_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},loop_blocks:{colourPrimary:"#FFAB19",colourSecondary:"#EC9C13",colourTertiary:"#CF8B17"},math_blocks:{colourPrimary:"#40BF4A",colourSecondary:"#389438",colourTertiary:"#317A3F"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},let_blocks:{colourPrimary:"#FF4040",colourSecondary:"#CC3333",colourTertiary:"#AA2222"}},fontStyle:{"field-let-reference":{fill:"#FFFFFF",background:"#FF4040"}}}),eb=f.Theme.defineTheme("light",{...em,base:f.Themes.Classic,componentStyles:{workspaceBackgroundColour:"#ffffff",toolboxBackgroundColour:"#f5f5f5",toolboxForegroundColour:"#212121",flyoutBackgroundColour:"#f9f9f9",flyoutForegroundColour:"#666",flyoutOpacity:.9,scrollbarColour:"#bbb",insertionMarkerColour:"#000",insertionMarkerOpacity:.3,scrollbarOpacity:.4,cursorColour:"#d0d0d0"},blockStyles:{colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#39C5BB",colourSecondary:"#2FB3AA",colourTertiary:"#2B9D94"},logic_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},loop_blocks:{colourPrimary:"#FFAB19",colourSecondary:"#EC9C13",colourTertiary:"#CF8B17"},math_blocks:{colourPrimary:"#40BF4A",colourSecondary:"#389438",colourTertiary:"#317A3F"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"}}}),ey="#2196F3",eT="#FF8C1A";function eE(e){let t=e.replace(/[^a-zA-Z0-9_]/g,"_");return/^[0-9]/.test(t)&&(t="_"+t),t}function ev(e){let t=e.replace(/[^a-zA-Z0-9_]/g,"_");return/^[0-9]/.test(t)&&(t="_"+t),t}function eC(e){let t=e.replace(/[^a-zA-Z0-9_]/g,"_");return/^[0-9]/.test(t)&&(t="_"+t),t}const eI="#FBC02D";var eS={};eS=c("asGCo"),f.Blocks.turtle_move={init:function(){this.appendValueInput("VALUE").setCheck("Number").appendField(new f.FieldDropdown([["forward","forward"],["backward","backward"],["left","left"],["right","right"],["pensize","pensize"],["speed","speed"],["dot","dot"]]),"FUNC"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(180),this.setTooltip("Movement commands: fd, bk, rt, lt, pensize")}},f.Blocks.turtle_circle={init:function(){this.paramCount_=1,this.appendDummyInput("HEADER").appendField("circle"),this.appendValueInput("ARG0").setCheck("Number"),this.appendDummyInput("FOOTER").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add parameter",()=>this.addParam_())),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(180),this.setTooltip("Draw a circle with given radius and optional extent/steps")},updateShape_:function(){let e=1;for(;this.getInput("ARG"+e);)this.removeInput("ARG"+e),e++;let t=["extent","steps"];for(let e=1;e<this.paramCount_;e++)e<=t.length&&(this.appendValueInput("ARG"+e).setCheck("Number").appendField(t[e-1]),this.moveInputBefore("ARG"+e,"FOOTER"))},addParam_:function(){this.paramCount_<3&&(this.paramCount_++,this.updateShape_())},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("args",this.paramCount_),e},domToMutation:function(e){this.paramCount_=Math.max(1,parseInt(e.getAttribute("args")||"1",10)),this.updateShape_()}},f.Blocks.turtle_pen={init:function(){this.appendDummyInput().appendField(new f.FieldDropdown([["penup","penup"],["pendown","pendown"],["hideturtle","hideturtle"],["showturtle","showturtle"],["begin_fill","begin_fill"],["end_fill","end_fill"],["home","home"]]),"FUNC"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(180),this.setTooltip("Control pen state: up, down, or check if down"),this.setOnChange(function(e){e.type===f.Events.BLOCK_CHANGE&&"field"===e.element&&"FUNC"===e.name&&(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0))})}},f.Blocks.turtle_goto={init:function(){this.appendDummyInput().appendField(new f.FieldDropdown([["goto","goto"],["setposition","setposition"]]),"FUNC"),this.appendValueInput("X").setCheck("Number").appendField("x"),this.appendValueInput("Y").setCheck("Number").appendField("y"),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(180),this.setTooltip("Move turtle to x,y position")}},f.Blocks.turtle_position={init:function(){this.appendDummyInput().appendField(new f.FieldDropdown([["position","position"],["heading","heading"]]),"FUNC"),this.setOutput(!0,"Array"),this.setColour(180),this.setTooltip("Get the current position")}},f.Blocks.turtle_distance_towards={init:function(){this.appendDummyInput().appendField(new f.FieldDropdown([["distance to","DISTANCE"],["angle towards","TOWARDS"]]),"FUNCTION_TYPE"),this.appendDummyInput().appendField(new f.FieldDropdown([["coordinates","COORDS"],["object","OBJECT"]],this.onTargetTypeChanged.bind(this)),"TARGET_TYPE"),this.appendValueInput("X").setCheck("Number").appendField("x:"),this.appendValueInput("Y").setCheck("Number").appendField("y:"),this.setInputsInline(!0),this.setOutput(!0,"Number"),this.setColour("#5DA699"),this.updateTooltip(),this.targetType="COORDS"},onTargetTypeChanged:function(e){return this.targetType=e,this.updateShape(),this.updateTooltip(),e},updateShape:function(){this.getInput("X")&&this.removeInput("X"),this.getInput("Y")&&this.removeInput("Y"),this.getInput("OBJECT")&&this.removeInput("OBJECT"),"COORDS"===this.targetType?(this.appendValueInput("X").setCheck("Number").appendField("x:"),this.appendValueInput("Y").setCheck("Number").appendField("y:")):this.appendValueInput("OBJECT").setCheck(null).appendField("object:")},updateTooltip:function(){let e=this.getFieldValue("FUNCTION_TYPE"),t=this.getFieldValue("TARGET_TYPE"),n="";n="DISTANCE"===e?"COORDS"===t?"Get distance to the specified coordinates":"Get distance to the specified object":"COORDS"===t?"Get angle towards the specified coordinates":"Get angle towards the specified object",this.setTooltip(n)},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("target_type",this.targetType),e},domToMutation:function(e){this.targetType=e.getAttribute("target_type")||"COORDS",this.updateShape(),this.updateTooltip()}},f.Blocks.turtle_setheading={init:function(){this.appendValueInput("ANGLE").setCheck("Number").appendField("setheading"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(180),this.setTooltip("Set the turtle heading (angle)")}},f.Blocks.turtle_color={init:function(){this.appendDummyInput().appendField(new f.FieldDropdown([["pencolor","pencolor"],["fillcolor","fillcolor"],["color","color"]]),"FUNC"),this.paramCount_=1,this.appendValueInput("ARG0").setCheck("String"),this.appendDummyInput("FOOTER").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add parameter",()=>this.addParam_())),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(180),this.setTooltip("Set pen color, fill color, or both"),this.setOnChange(function(e){if(e.type===f.Events.BLOCK_CHANGE&&"field"===e.element&&"FUNC"===e.name){let e="color"===this.getFieldValue("FUNC");this.getInput("FOOTER").setVisible(e),!e&&this.paramCount_>1&&(this.paramCount_=1,this.updateShape_())}})},updateShape_:function(){this.getInput("ARG1")&&this.removeInput("ARG1"),this.paramCount_>1&&(this.appendValueInput("ARG1").setCheck("String"),this.moveInputBefore("ARG1","FOOTER"))},addParam_:function(){this.paramCount_<2&&(this.paramCount_++,this.updateShape_())},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("args",this.paramCount_),e},domToMutation:function(e){this.paramCount_=Math.max(1,parseInt(e.getAttribute("args")||"1",10)),this.updateShape_()}},f.Blocks.turtle_fill_block={init:function(){this.appendValueInput("COLOR").setCheck("String").appendField("fill_block"),this.appendStatementInput("DO").appendField("do"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(180),this.setTooltip("Fill a shape with the specified color")}},f.Blocks.turtle_shape={init:function(){this.appendValueInput("SHAPE").setCheck("String").appendField("shape"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(180),this.setTooltip("Set the turtle shape (turtle, arrow, circle, etc.)")}},f.Blocks.turtle_shapesize={init:function(){this.paramCount_=1,this.appendDummyInput("HEADER").appendField(new f.FieldDropdown([["shapesize","shapesize"],["turtlesize","turtlesize"]]),"FUNC"),this.appendValueInput("ARG0").setCheck("Number").appendField("stretch_wid"),this.appendDummyInput("FOOTER").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add parameter",()=>this.addParam_())),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(180),this.setTooltip("Set the turtle size")},updateShape_:function(){for(let e=1;e<3;e++)this.getInput("ARG"+e)&&this.removeInput("ARG"+e);let e=["stretch_len","outline"];for(let t=1;t<this.paramCount_;t++)t<=e.length&&(this.appendValueInput("ARG"+t).setCheck("Number").appendField(e[t-1]),this.moveInputBefore("ARG"+t,"FOOTER"))},addParam_:function(){this.paramCount_<3&&(this.paramCount_++,this.updateShape_())},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("args",this.paramCount_),e},domToMutation:function(e){this.paramCount_=Math.max(1,parseInt(e.getAttribute("args")||"1",10)),this.updateShape_()}},f.Blocks.turtle_clear_reset={init:function(){this.appendDummyInput().appendField(new f.FieldDropdown([["update","update"],["clear","clear"],["reset","reset"],["exitonclick","exitonclick"]]),"FUNC"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(180),this.setTooltip("Update display, clear screen, or reset turtle")}},f.Blocks.turtle_animation={init:function(){this.appendDummyInput().appendField(new f.FieldDropdown([["tracer","tracer"],["delay","delay"]]),"FUNC"),this.paramCount_=1,this.appendValueInput("ARG0").setCheck("Number"),this.appendDummyInput("FOOTER").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add parameter",()=>this.addParam_())),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(180),this.setTooltip("Control animation speed"),this.setOnChange(function(e){if(e.type===f.Events.BLOCK_CHANGE&&"field"===e.element&&"FUNC"===e.name){let e="tracer"===this.getFieldValue("FUNC");this.getInput("FOOTER").setVisible(e),!e&&this.paramCount_>1&&(this.paramCount_=1,this.updateShape_())}})},updateShape_:function(){this.getInput("ARG1")&&this.removeInput("ARG1"),this.paramCount_>1&&(this.appendValueInput("ARG1").setCheck("Number").appendField("delay"),this.moveInputBefore("ARG1","FOOTER"))},addParam_:function(){this.paramCount_<2&&(this.paramCount_++,this.updateShape_())},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("args",this.paramCount_),e},domToMutation:function(e){this.paramCount_=Math.max(1,parseInt(e.getAttribute("args")||"1",10)),this.updateShape_()}},f.Blocks.turtle_ontimer={init:function(){this.appendValueInput("FUNC_NAME").setCheck("String").appendField("ontimer func"),this.appendValueInput("MS").setCheck("Number").appendField("ms"),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(180),this.setTooltip("Call a function after a specified time")}},f.Blocks.turtle_write={init:function(){this.paramCount_=1,this.appendDummyInput("HEADER").appendField("write"),this.appendValueInput("ARG0").setCheck("String").appendField("text"),this.appendDummyInput("FOOTER").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add parameter",()=>this.addParam_())),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(180),this.setTooltip("Write text at the current turtle position")},updateShape_:function(){for(let e=1;e<4;e++)this.getInput("ARG"+e)&&this.removeInput("ARG"+e);let e=["move","align","font"],t=["Boolean","String","Array"];for(let n=1;n<this.paramCount_;n++)n<=e.length&&(this.appendValueInput("ARG"+n).setCheck(t[n-1]).appendField(e[n-1]),this.moveInputBefore("ARG"+n,"FOOTER"))},addParam_:function(){this.paramCount_<4&&(this.paramCount_++,this.updateShape_())},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("args",this.paramCount_),e},domToMutation:function(e){this.paramCount_=Math.max(1,parseInt(e.getAttribute("args")||"1",10)),this.updateShape_()}},f.Blocks.turtle_textinput={init:function(){this.appendValueInput("TITLE").setCheck("String").appendField("textinput title"),this.appendValueInput("PROMPT").setCheck("String").appendField("prompt"),this.setInputsInline(!0),this.setOutput(!0,"String"),this.setColour(180),this.setTooltip("Get text input from user")}},f.Blocks.turtle_numinput={init:function(){this.appendValueInput("TITLE").setCheck("String").appendField("numinput title"),this.appendValueInput("PROMPT").setCheck("String").appendField("prompt"),this.appendValueInput("DEFAULT").setCheck("Number").appendField("default"),this.paramCount_=3,this.appendDummyInput("FOOTER").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add parameter",()=>this.addParam_())),this.setInputsInline(!0),this.setOutput(!0,"Number"),this.setColour(180),this.setTooltip("Get numeric input from user")},updateShape_:function(){this.getInput("MINVAL")&&this.removeInput("MINVAL"),this.getInput("MAXVAL")&&this.removeInput("MAXVAL"),this.paramCount_>3&&(this.appendValueInput("MINVAL").setCheck("Number").appendField("minval"),this.moveInputBefore("MINVAL","FOOTER")),this.paramCount_>4&&(this.appendValueInput("MAXVAL").setCheck("Number").appendField("maxval"),this.moveInputBefore("MAXVAL","FOOTER"))},addParam_:function(){this.paramCount_<5&&(this.paramCount_++,this.updateShape_())},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("args",this.paramCount_),e},domToMutation:function(e){this.paramCount_=Math.max(3,parseInt(e.getAttribute("args")||"3",10)),this.updateShape_()}},f.Blocks.pixi_background={init:function(){this.paramCount_=1,this.appendDummyInput("HEADER").appendField("background("),this.appendValueInput("ARG0").setCheck("String").appendField("URL:"),this.appendDummyInput("FOOTER").appendField(")").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add parameter",()=>this.addParam_())),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(230),this.setTooltip("Create tiling background from image URL with optional properties")},updateShape_:function(){let e=1;for(;this.getInput("ARG"+e);)this.removeInput("ARG"+e),e++;for(let e=1;e<this.paramCount_;e++)this.appendValueInput("ARG"+e).setCheck(null).appendField(", "),this.moveInputBefore("ARG"+e,"FOOTER")},addParam_:function(){this.paramCount_++,this.updateShape_()},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("args",this.paramCount_),e},domToMutation:function(e){this.paramCount_=Math.max(1,parseInt(e.getAttribute("args")||"1",10)),this.updateShape_()}},f.Blocks.pixi_image={init:function(){this.appendDummyInput("HEADER").appendField("\uD83D\uDDBC️").appendField("image("),this.appendValueInput("URL").setCheck("String").appendField("URL:"),this.appendDummyInput("FOOTER").appendField(")"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(230),this.setTooltip("Load image texture from URL")}},f.Blocks.pixi_shape_functions={init:function(){this.paramCount_=1,this.appendDummyInput("HEADER").appendField("\uD83D\uDD36").appendField(new f.FieldDropdown([["circle","circle"],["rect","rect"],["star","star"],["polygon","polygon"]]),"FUNC").appendField("("),this.appendValueInput("ARG0").setCheck("Number").appendField("size:"),this.appendDummyInput("FOOTER").appendField(")").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add parameter",()=>this.addParam_())),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(230),this.setTooltip("Create shapes with size and optional style properties")},updateShape_:function(){let e=1;for(;this.getInput("ARG"+e);)this.removeInput("ARG"+e),e++;for(let e=1;e<this.paramCount_;e++)this.appendValueInput("ARG"+e).setCheck(null).appendField(", "),this.moveInputBefore("ARG"+e,"FOOTER")},addParam_:function(){this.paramCount_++,this.updateShape_()},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("args",this.paramCount_),e},domToMutation:function(e){this.paramCount_=Math.max(1,parseInt(e.getAttribute("args")||"1",10)),this.updateShape_()}},f.Blocks.pixi_text_functions={init:function(){this.paramCount_=1,this.appendDummyInput("HEADER").appendField("\uD83D\uDCDD").appendField("text("),this.appendValueInput("ARG0").setCheck("String").appendField("content:"),this.appendDummyInput("FOOTER").appendField(")").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add parameter",()=>this.addParam_())),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(230),this.setTooltip("Create text with content and optional style properties")},updateShape_:function(){let e=1;for(;this.getInput("ARG"+e);)this.removeInput("ARG"+e),e++;for(let e=1;e<this.paramCount_;e++)this.appendValueInput("ARG"+e).setCheck(null).appendField(", "),this.moveInputBefore("ARG"+e,"FOOTER")},addParam_:function(){this.paramCount_++,this.updateShape_()},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("args",this.paramCount_),e},domToMutation:function(e){this.paramCount_=Math.max(1,parseInt(e.getAttribute("args")||"1",10)),this.updateShape_()}},f.Blocks.pixi_sprite_functions={init:function(){this.paramCount_=1,this.appendDummyInput("HEADER").appendField("\uD83C\uDFA8").appendField("sprite("),this.appendValueInput("ARG0").setCheck(null).appendField("texture:"),this.appendDummyInput("FOOTER").appendField(")").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add parameter",()=>this.addParam_())),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(230),this.setTooltip("Create sprite with texture and optional properties")},updateShape_:function(){let e=1;for(;this.getInput("ARG"+e);)this.removeInput("ARG"+e),e++;for(let e=1;e<this.paramCount_;e++)this.appendValueInput("ARG"+e).setCheck(null).appendField(", "),this.moveInputBefore("ARG"+e,"FOOTER")},addParam_:function(){this.paramCount_++,this.updateShape_()},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("args",this.paramCount_),e},domToMutation:function(e){this.paramCount_=Math.max(1,parseInt(e.getAttribute("args")||"1",10)),this.updateShape_()}},f.Blocks.pixi_sound_functions={init:function(){this.appendDummyInput("HEADER").appendField("\uD83D\uDD0A").appendField("sound("),this.appendValueInput("URL").setCheck("String").appendField("URL:"),this.appendDummyInput("FOOTER").appendField(")"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(230),this.setTooltip("Create sound from URL")}},f.Blocks.pixi_set_gravity={init:function(){this.appendDummyInput("HEADER").appendField("⚡").appendField("setGravity("),this.appendValueInput("X").setCheck("Number").appendField("x:"),this.appendValueInput("Y").setCheck("Number").appendField(", y:"),this.appendDummyInput("FOOTER").appendField(")"),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(180),this.setTooltip("Set gravity for the physics world (x, y)")}},f.Blocks.pixi_add_physics={init:function(){this.appendValueInput("SPRITE").setCheck(null).appendField("⚡"),this.appendDummyInput("METHOD").appendField(".addPhysics(").appendField(new f.FieldDropdown([["rect","rect"],["circle","circle"]]),"BODY_TYPE").appendField(")"),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(180),this.setTooltip("Add physics body to sprite")}},f.Blocks.pixi_sprite_action_no_params={init:function(){this.appendValueInput("SPRITE").setCheck(null).appendField("⚙️"),this.appendDummyInput("METHOD").appendField(".").appendField(new f.FieldDropdown([["remove()","remove"]]),"FUNC"),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(230),this.setTooltip("Sprite methods with no parameters")}},f.Blocks.pixi_sprite_action_one_param={init:function(){this.method_="setTint",this.appendValueInput("SPRITE").setCheck(null).appendField("⚙️"),this.appendDummyInput("METHOD").appendField(".").appendField(new f.FieldDropdown([["setTint()","setTint"],["setScale()","setScale"],["setRotation()","setRotation"],["setAlpha()","setAlpha"],["setStatic()","setStatic"],["setMass()","setMass"],["setDensity()","setDensity"],["setFriction()","setFriction"],["setBounce()","setBounce"]],this.methodChanged.bind(this)),"FUNC"),this.appendValueInput("ARG1").setCheck(null).appendField("color:"),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(230),this.setTooltip("Sprite methods with one parameter")},methodChanged:function(e){return this.method_=e,this.updateLabel_(),this.updateColor_(),e},updateLabel_:function(){let e=this.getInput("ARG1");if(e&&e.fieldRow&&e.fieldRow.length>0){let t=this.getParameterLabel_(this.method_);e.fieldRow[0].setValue(t+":")}},getParameterLabel_:function(e){switch(e){case"setTint":return"color";case"setScale":return"scale";case"setRotation":return"angle";case"setAlpha":return"alpha";case"setStatic":return"static";case"setMass":return"mass";case"setDensity":return"density";case"setFriction":return"friction";case"setBounce":return"bounce";default:return"value"}},updateColor_:function(){["setStatic","setMass","setDensity","setFriction","setBounce"].includes(this.method_)?this.setColour(180):this.setColour(230)},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("method",this.method_),e},domToMutation:function(e){this.method_=e.getAttribute("method")||"setTint",this.updateLabel_(),this.updateColor_()}},f.Blocks.pixi_sprite_action_two_params={init:function(){this.method_="setPosition",this.appendValueInput("SPRITE").setCheck(null).appendField("⚙️"),this.appendDummyInput("METHOD").appendField(".").appendField(new f.FieldDropdown([["setPosition()","setPosition"],["setVelocity()","setVelocity"],["applyForce()","applyForce"]],this.methodChanged.bind(this)),"FUNC"),this.appendValueInput("ARG1").setCheck(null).appendField("x:"),this.appendValueInput("ARG2").setCheck(null).appendField("y:"),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(230),this.setTooltip("Sprite methods with two parameters")},methodChanged:function(e){return this.method_=e,this.updateLabels_(),this.updateColor_(),e},updateLabels_:function(){let e=this.getInput("ARG1"),t=this.getInput("ARG2");if(e&&e.fieldRow&&e.fieldRow.length>0&&t&&t.fieldRow&&t.fieldRow.length>0){let n=this.getParameterLabels_(this.method_);e.fieldRow[0].setValue(n[0]+":"),t.fieldRow[0].setValue(n[1]+":")}},getParameterLabels_:function(e){switch(e){case"setPosition":default:return["x","y"];case"setVelocity":return["vx","vy"];case"applyForce":return["fx","fy"]}},updateColor_:function(){["setVelocity","applyForce"].includes(this.method_)?this.setColour(180):this.setColour(230)},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("method",this.method_),e},domToMutation:function(e){this.method_=e.getAttribute("method")||"setPosition",this.updateLabels_(),this.updateColor_()}},f.Blocks.pixi_collides={init:function(){this.appendDummyInput("HEADER").appendField("\uD83D\uDCA5").appendField("collides("),this.appendValueInput("OBJ1").setCheck(null).appendField("object1:"),this.appendValueInput("OBJ2").setCheck(null).appendField(", object2:"),this.appendDummyInput("FOOTER").appendField(")"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setColour(180),this.setTooltip("Check if two sprites are colliding")}},f.Blocks.pixi_distance={init:function(){this.appendDummyInput("HEADER").appendField("\uD83D\uDCCF").appendField("distance("),this.appendValueInput("OBJ1").setCheck(null).appendField("from:"),this.appendValueInput("OBJ2").setCheck(null).appendField(", to:"),this.appendDummyInput("FOOTER").appendField(")"),this.setInputsInline(!0),this.setOutput(!0,"Number"),this.setColour(180),this.setTooltip("Calculate distance between two objects or points")}},f.Blocks.pixi_point_in_circle={init:function(){this.appendDummyInput("HEADER").appendField("\uD83C\uDFAF").appendField("pointInCircle("),this.appendValueInput("X").setCheck("Number").appendField("x:"),this.appendValueInput("Y").setCheck("Number").appendField(", y:"),this.appendValueInput("CX").setCheck("Number").appendField(", cx:"),this.appendValueInput("CY").setCheck("Number").appendField(", cy:"),this.appendValueInput("RADIUS").setCheck("Number").appendField(", radius:"),this.appendDummyInput("FOOTER").appendField(")"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setColour(180),this.setTooltip("Check if point is inside circle")}},f.Blocks.pixi_math_functions={init:function(){this.appendDummyInput("HEADER").appendField("\uD83D\uDCD0").appendField(new f.FieldDropdown([["angle_between","angle_between"]]),"FUNC").appendField("("),this.appendValueInput("X1").setCheck("Number").appendField("x1:"),this.appendValueInput("Y1").setCheck("Number").appendField(", y1:"),this.appendValueInput("X2").setCheck("Number").appendField(", x2:"),this.appendValueInput("Y2").setCheck("Number").appendField(", y2:"),this.appendDummyInput("FOOTER").appendField(")"),this.setInputsInline(!0),this.setOutput(!0,"Number"),this.setColour(230),this.setTooltip("Math utility functions")}},f.Blocks.pixi_is_key_pressed={init:function(){this.appendDummyInput("HEADER").appendField("⌨️").appendField("isKeyPressed("),this.appendValueInput("KEY").setCheck("String").appendField("key:"),this.appendDummyInput("FOOTER").appendField(")"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setColour(230),this.setTooltip("Check if a key is currently pressed")}},f.Blocks.pixi_sprite_getter={init:function(){this.appendValueInput("SPRITE").setCheck(null).appendField("\uD83C\uDFAF"),this.appendDummyInput("PROPERTY").appendField(".").appendField(new f.FieldDropdown([["x","x"],["y","y"],["width","width"],["height","height"],["rotation","rotation"],["alpha","alpha"]]),"PROP"),this.setInputsInline(!0),this.setOutput(!0,"Number"),this.setColour(230),this.setTooltip("Get sprite properties")}},f.Blocks.pixi_sound_actions={init:function(){this.appendValueInput("SOUND").setCheck(null).appendField("\uD83D\uDD0A"),this.appendDummyInput("METHOD").appendField(".").appendField(new f.FieldDropdown([["play","play"],["stop","stop"]]),"FUNC").appendField("()"),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(230),this.setTooltip("Sound action methods")}},f.Blocks.pixi_game_loop={init:function(){this.appendDummyInput("HEADER").appendField("\uD83C\uDFAE").appendField("function ").appendField(new f.FieldTextInput("loop"),"FUNCTION_NAME"),this.appendStatementInput("STACK").setCheck(null),this.appendDummyInput("FOOTER").appendField("game_loop").appendField(new f.FieldTextInput("loop"),"FUNCTION_CALL_NAME"),this.setInputsInline(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(230),this.setTooltip("Define game loop function and start it")}},f.Blocks.comment={init:function(){this.appendDummyInput().appendField("\uD83D\uDCA1").appendField(new f.FieldTextInput("Enter your comment here..."),"COMMENT"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(120),this.setTooltip("Add a comment to document your code")}},f.Blocks.math_basic_arith={init:function(){this.appendValueInput("A").setCheck(null),this.appendDummyInput().appendField(new f.FieldDropdown([["+","ADD"],["-","MINUS"],["*","MULTIPLY"],["/","DIVIDE"],["=","ASSIGNMENT"],["&","BITWISE_AND"],["|","BITWISE_OR"]]),"OP"),this.appendValueInput("B").setCheck(null),this.setInputsInline(!0),this.setOutput(!0,"Number"),this.setColour(230)}},f.Blocks.math_advanced_arith={init:function(){this.appendValueInput("A").setCheck(null),this.appendDummyInput().appendField(new f.FieldDropdown([["%","MODULO"],["//","FLOORDIV"],["**","POWER"],["<<","LEFT_SHIFT"],[">>","RIGHT_SHIFT"]]),"OP"),this.appendValueInput("B").setCheck(null),this.setInputsInline(!0),this.setOutput(!0,"Number"),this.setColour(230)}},f.Blocks.math_round_abs={init:function(){this.appendValueInput("NUM").setCheck(null).appendField(new f.FieldDropdown([["floor","floor"],["ceil","ceil"],["round","round"],["abs","abs"],["factorial","factorial"],["fabs","fabs"]]),"FUNC"),this.setOutput(!0,"Number"),this.setColour(230),this.setTooltip("Apply rounding or absolute function")}},f.Blocks.math_type_conversion={init:function(){this.appendValueInput("VALUE").setCheck(null).appendField(new f.FieldDropdown([["int","int"],["float","float"],["str","str"],["bool","bool"],["list","list"],["set","set"],["tuple","tuple"],["complex","complex"]]),"FUNC"),this.setOutput(!0,null),this.setColour(230),this.setTooltip("Type conversion")}},f.Blocks.math_functions={init:function(){this.appendValueInput("NUM").setCheck(null).appendField(new f.FieldDropdown([["sqrt","sqrt"],["isqrt","isqrt"],["sin","sin"],["cos","cos"],["tan","tan"],["log","log"],["log10","log10"]]),"FUNC"),this.setOutput(!0,"Number"),this.setColour(230),this.setTooltip("Basic mathematical functions")}},f.Blocks.math_char_funcs={init:function(){this.appendValueInput("VAL").setCheck(null).appendField(new f.FieldDropdown([["len","len"],["chr","chr"],["ord","ord"]]),"FUNC"),this.setOutput(!0,null),this.setColour(230),this.setTooltip("Character functions: len, chr, ord")}},f.Blocks.math_constants={init:function(){this.appendDummyInput().appendField(new f.FieldDropdown([["π (pi)","pi"],["e","e"],["τ (tau)","tau"],["∞ (inf)","inf"]]),"CONST"),this.setOutput(!0,"Number"),this.setColour(230),this.setTooltip("Mathematical constants")}},f.Blocks.math_random_int_custom={init:function(){this.appendDummyInput().appendField("random int between"),this.appendValueInput("FROM").setCheck(null),this.appendDummyInput().appendField("and"),this.appendValueInput("TO").setCheck(null),this.setOutput(!0,"Number"),this.setColour(230),this.setTooltip("Generate a random integer between two numbers")}},f.Blocks.text_input={init:function(){this.appendValueInput("TEXT").setCheck(null).appendField("input"),this.setOutput(!0,null),this.setColour(ey),this.setTooltip("Get input from user with prompt")}},f.Blocks.text_print={init:function(){this.appendValueInput("TEXT").setCheck(null).appendField("print"),this.appendDummyInput(),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(ey),this.setTooltip("Print text to output")}},f.Blocks.text_format={init:function(){this.appendValueInput("TEXT").setCheck("String").appendField("format"),this.appendValueInput("ARGS").setCheck(null).appendField("with"),this.setOutput(!0,"String"),this.setColour(ey),this.setTooltip("Format string with value")}},f.Blocks.from_import={init:function(){this.appendDummyInput().appendField("from").appendField(new f.FieldTextInput("module"),"MODULE").appendField("import").appendField(new f.FieldTextInput("item"),"ITEM"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(ey),this.setTooltip("Import items from a module")}},f.Blocks.dict_create_with={init:function(){this.pairCount_=0,this.appendDummyInput("HEADER").appendField("{"),this.appendDummyInput("FOOTER").appendField("}").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add pair",()=>this.addPair_())),this.setInputsInline(!0),this.setOutput(!0,"Dictionary"),this.setColour(170),this.setTooltip("Tạo từ điển với các cặp key: value")},updateShape_:function(){let e=0;for(;this.getInput("KEY"+e);)this.removeInput("KEY"+e),this.removeInput("VALUE"+e),e++;for(let e=0;e<this.pairCount_;e++){let t=this.appendValueInput("KEY"+e).setCheck(null);e>0&&t.appendField(", "),t.appendField("key:"),this.appendValueInput("VALUE"+e).setCheck(null).appendField("value:"),this.moveInputBefore("KEY"+e,"FOOTER"),this.moveInputBefore("VALUE"+e,"FOOTER")}},addPair_:function(){this.pairCount_++,this.updateShape_()},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("pairs",this.pairCount_),e},domToMutation:function(e){this.pairCount_=parseInt(e.getAttribute("pairs"),10),this.updateShape_()}},f.Blocks.dict_get={init:function(){this.appendValueInput("DICT").setCheck("Dictionary").appendField("get value from"),this.appendValueInput("KEY").setCheck(null).appendField("with key"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(170),this.setTooltip("Lấy giá trị từ từ điển theo key")}},f.Blocks.dict_set={init:function(){this.appendValueInput("DICT").setCheck("Dictionary").appendField("set in dictionary"),this.appendValueInput("KEY").setCheck(null).appendField("key"),this.appendValueInput("VALUE").setCheck(null).appendField("to value"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(170),this.setTooltip("Gán giá trị cho key trong từ điển")}},f.Blocks.tuple_create_with={init:function(){this.paramCount_=0,this.appendDummyInput("HEADER").appendField("("),this.appendDummyInput("FOOTER").appendField(")").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add element",()=>this.addElement_())),this.setInputsInline(!0),this.setOutput(!0,"Tuple"),this.setColour(300),this.setTooltip("Tạo tuple với các phần tử cho trước")},updateShape_:function(){let e=0;for(;this.getInput("ITEM"+e);)this.removeInput("ITEM"+e),e++;for(let e=0;e<this.paramCount_;e++){let t=this.appendValueInput("ITEM"+e).setCheck(null);e>0&&t.appendField(", "),this.moveInputBefore("ITEM"+e,"FOOTER")}},addElement_:function(){this.paramCount_++,this.updateShape_()},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("items",this.paramCount_),e},domToMutation:function(e){this.paramCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()}},f.Blocks.tuple_get_index={init:function(){this.appendValueInput("TUPLE").setCheck("Tuple").appendField("item of"),this.appendValueInput("INDEX").setCheck("Number").appendField("at index"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(300),this.setTooltip("Lấy phần tử của tuple tại vị trí chỉ định")}},f.Blocks.function_definition={init:function(){this.paramCount_=0,this.params_=[],this.appendDummyInput("TOPROW").appendField("function").appendField(new f.FieldTextInput("fX",eE),"NAME").appendField("("),this.appendDummyInput("ADD_PARAM").setAlign(f.ALIGN_RIGHT).appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add parameter",()=>this.addParameter_())).appendField(")"),this.appendStatementInput("STACK").setCheck(null),this.setInputsInline(!0),this.setColour(290),this.setTooltip("Define a function")},updateShape_:function(){let e=0;for(;this.getInput("PARAM"+e);)this.removeInput("PARAM"+e),e++;for(let e=0;e<this.paramCount_;e++){let t="PARAM"+e;this.appendValueInput(t).setCheck("let_reference").setAlign(f.ALIGN_RIGHT),this.moveInputBefore(t,"ADD_PARAM")}},addParameter_:function(){let e=this.paramCount_;this.params_.push({name:"param"+(e+1)}),this.paramCount_++,this.updateShape_()},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");e.setAttribute("params",this.paramCount_);for(let t=0;t<this.paramCount_;t++){let n=f.utils.xml.createElement("arg"),o=this.params_[t];n.setAttribute("name",o.name),e.appendChild(n)}return e},domToMutation:function(e){this.params_=[];let t=e.getElementsByTagName("arg");for(let e=0;e<t.length;e++)this.params_.push({name:t[e].getAttribute("name")||"param"+e});this.paramCount_=this.params_.length,this.updateShape_()}},f.Blocks.function_call={init:function(){this.paramCount_=0,this.appendDummyInput("HEADER").appendField(new f.FieldTextInput("fX",ev),"NAME").appendField("("),this.appendDummyInput("FOOTER").appendField(")").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add parameter",()=>this.addParam_())),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(290),this.setTooltip("Call a function (statement)")},updateShape_:function(){let e=0;for(;this.getInput("ARG"+e);)this.removeInput("ARG"+e),e++;for(let e=0;e<this.paramCount_;e++){let t="ARG"+e,n=this.appendValueInput(t).setCheck(null);e>0&&n.appendField(", "),this.moveInputBefore(t,"FOOTER")}},addParam_:function(){this.paramCount_++,this.updateShape_()},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("args",this.paramCount_),e},domToMutation:function(e){this.paramCount_=parseInt(e.getAttribute("args")||"0",10),this.updateShape_()}},f.Blocks.function_call_return={init:function(){this.paramCount_=0,this.appendDummyInput("HEADER").appendField(new f.FieldTextInput("fX",ev),"NAME").appendField("("),this.appendDummyInput("FOOTER").appendField(")").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add parameter",()=>this.addParam_())),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(290),this.setTooltip("Call a function (return value)")},updateShape_:function(){let e=0;for(;this.getInput("ARG"+e);)this.removeInput("ARG"+e),e++;for(let e=0;e<this.paramCount_;e++){let t="ARG"+e,n=this.appendValueInput(t).setCheck(null);e>0&&n.appendField(", "),this.moveInputBefore(t,"FOOTER")}},addParam_:function(){this.paramCount_++,this.updateShape_()},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("args",this.paramCount_),e},domToMutation:function(e){this.paramCount_=parseInt(e.getAttribute("args")||"0",10),this.updateShape_()}},f.Blocks.function_return={init:function(){this.appendValueInput("VALUE").appendField("return"),this.setPreviousStatement(!0),this.setNextStatement(!1),this.setColour(290),this.setTooltip("Return a value from a function")}},f.Blocks.function_return_logic={init:function(){this.appendValueInput("VALUE").setCheck(null).appendField("return"),this.setPreviousStatement(!0,null),this.setNextStatement(!1,null),this.setColour(290),this.setTooltip("Return a boolean value from a function"),this.setHelpUrl("")}},f.Blocks.let_reference={init:function(){this.appendDummyInput().appendField("","OVAL_START").appendField(new f.FieldTextInput("x",null),"LET").appendField("","OVAL_END"),this.setOutput(!0,null),this.setColour(eT);let e=this.getField("LET");e.setValidator(function(e){return e}),e.border_="#000000",e.background_="#FF4040",e.radius_=15}},f.Blocks.let_set={init:function(){this.appendValueInput("LET").setCheck("let_reference"),this.setInputsInline(!0),this.appendDummyInput().appendField(new f.FieldDropdown([["=","="],["+=","+="],["-=","-="],["*=","*="],["/=","/="],["//=","//="]]),"OPERATOR").appendField(" "),this.appendValueInput("VALUE").setCheck(null),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(eT)}},f.Blocks.print_with_args={init:function(){this.paramCount_=1,this.appendDummyInput("HEADER").appendField("print"),this.appendValueInput("ARG0").setCheck(null),this.appendDummyInput("FOOTER").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add parameter",()=>this.addParam_())),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#2196F3")},updateShape_:function(){let e=1;for(;this.getInput("ARG"+e);)this.removeInput("ARG"+e),e++;for(let e=1;e<this.paramCount_;e++)this.appendValueInput("ARG"+e).setCheck(null).appendField(", "),this.moveInputBefore("ARG"+e,"FOOTER")},addParam_:function(){this.paramCount_++,this.updateShape_()},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("args",this.paramCount_),e},domToMutation:function(e){this.paramCount_=Math.max(1,parseInt(e.getAttribute("args")||"1",10)),this.updateShape_()}},f.Blocks.controls_for_in={init:function(){this.appendDummyInput().appendField("for"),this.appendValueInput("VAR").setCheck("let_reference").appendField(""),this.appendDummyInput().appendField("in"),this.appendValueInput("ITERABLE").setCheck(null).appendField(""),this.appendStatementInput("DO").appendField("do"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#FFAB19"),this.setTooltip("Python for ... in loop")}},f.Blocks.range_block={init:function(){this.paramCount_=1,this.appendDummyInput("HEADER").appendField(new f.FieldDropdown([["range","range"],["enumerate","enumerate"]]),"FUNC"),this.appendValueInput("ARG0").setCheck(null),this.appendDummyInput("FOOTER").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add parameter",()=>this.addParam_())),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(230),this.setTooltip("range, enumerate with multiple arguments"),this.setHelpUrl("")},updateShape_:function(){let e=1;for(;this.getInput("ARG"+e);)this.removeInput("ARG"+e),e++;for(let e=1;e<this.paramCount_;e++)this.appendValueInput("ARG"+e).setCheck(null).appendField(", "),this.moveInputBefore("ARG"+e,"FOOTER")},addParam_:function(){this.paramCount_++,this.updateShape_()},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("args",this.paramCount_),e},domToMutation:function(e){this.paramCount_=Math.max(1,parseInt(e.getAttribute("args")||"1",10)),this.updateShape_()}},f.Blocks.logic_is_odd_even={init:function(){this.appendValueInput("NUM").setCheck(null),this.appendDummyInput().appendField(new f.FieldDropdown([["odd","ODD"],["even","EVEN"]]),"MODE"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setColour(120),this.setTooltip("Kiểm tra số lẻ/chẵn sử dụng toán tử & 1"),this.setHelpUrl("")}},f.Blocks.logic_is_in={init:function(){this.appendValueInput("ITEM").setCheck(null).appendField("item"),this.appendDummyInput().appendField(new f.FieldDropdown([["in","IN"],["not in","NOT_IN"]]),"OP"),this.appendValueInput("CONTAINER").setCheck(null).appendField("container"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setColour(120),this.setTooltip("Kiểm tra xem một giá trị có nằm trong container hay không"),this.setHelpUrl("")}},f.Blocks.logic_is_comparison={init:function(){this.appendValueInput("LEFT").setCheck(null).appendField("value"),this.appendDummyInput().appendField(new f.FieldDropdown([["is","IS"],["is not","IS_NOT"]]),"OP"),this.appendValueInput("RIGHT").setCheck(null).appendField("value"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setColour(120),this.setTooltip("So sánh 2 giá trị với toán tử 'is' hoặc 'is not'"),this.setHelpUrl("")}},f.Blocks.min_max_with_args={init:function(){this.paramCount_=1,this.appendDummyInput("HEADER").appendField(new f.FieldDropdown([["min","min"],["max","max"],["gcd","gcd"],["lcm","lcm"],["comb","comb"],["perm","perm"],["map","map"],["sum","sum"],["range","range"],["filter","filter"],["permutations","permutations"]]),"FUNC"),this.appendValueInput("ARG0").setCheck(null),this.appendDummyInput("FOOTER").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add parameter",()=>this.addParam_())),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(230),this.setTooltip("Call a function with multiple arguments"),this.setHelpUrl("")},updateShape_:function(){let e=1;for(;this.getInput("ARG"+e);)this.removeInput("ARG"+e),e++;for(let e=1;e<this.paramCount_;e++)this.appendValueInput("ARG"+e).setCheck(null).appendField(", "),this.moveInputBefore("ARG"+e,"FOOTER")},addParam_:function(){this.paramCount_++,this.updateShape_()},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("args",this.paramCount_),e},domToMutation:function(e){this.paramCount_=Math.max(1,parseInt(e.getAttribute("args")||"1",10)),this.updateShape_()}},f.Blocks.logic_function_call_return={init:function(){this.paramCount_=0,this.appendDummyInput("HEADER").appendField(new f.FieldTextInput("fX",eC),"NAME").appendField("("),this.appendDummyInput("FOOTER").appendField(")").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add parameter",()=>this.addParam_())),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setColour(290),this.setTooltip("Call a function (return value) and treat it as a Boolean value"),this.setHelpUrl("")},updateShape_:function(){let e=0;for(;this.getInput("ARG"+e);)this.removeInput("ARG"+e),e++;for(let e=0;e<this.paramCount_;e++){let t=this.appendValueInput("ARG"+e).setCheck(null);e>0&&t.appendField(", "),this.moveInputBefore("ARG"+e,"FOOTER")}},addParam_:function(){this.paramCount_++,this.updateShape_()},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("args",this.paramCount_),e},domToMutation:function(e){this.paramCount_=parseInt(e.getAttribute("args")||"0",10),this.updateShape_()}},f.Blocks.list_create_with={init:function(){this.paramCount_=0,this.appendDummyInput("HEADER").appendField("["),this.appendDummyInput("FOOTER").appendField("]").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add element",()=>this.addElement_())),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setColour(190)},updateShape_:function(){let e=0;for(;this.getInput("ITEM"+e);)this.removeInput("ITEM"+e),e++;for(let e=0;e<this.paramCount_;e++){let t=this.appendValueInput("ITEM"+e).setCheck(null);e>0&&t.appendField(", "),this.moveInputBefore("ITEM"+e,"FOOTER")}},addElement_:function(){this.paramCount_++,this.updateShape_()},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("items",this.paramCount_),e},domToMutation:function(e){this.paramCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()}},f.Blocks.list_get_index={init:function(){this.appendValueInput("LIST").setCheck("Array").appendField("item of"),this.setInputsInline(!0),this.appendValueInput("INDEX").setCheck(null).appendField("at index"),this.setOutput(!0,null),this.setColour(190)}},f.Blocks.list_set_index={init:function(){this.appendValueInput("LIST").setCheck("Array").appendField("set item in"),this.appendValueInput("INDEX").setCheck().appendField("atIndex"),this.appendValueInput("VALUE").setCheck(null).appendField("to"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(190)}},f.Blocks.list_method_void={init:function(){this.method_="append",this.appendValueInput("LIST").setCheck("Array").appendField("list"),this.appendDummyInput("METHOD_DROPDOWN").appendField(new f.FieldDropdown([["append()","append"],["clear()","clear"],["extend()","extend"],["insert()","insert"],["remove()","remove"],["reverse()","reverse"],["sort()","sort"]],this.methodChanged.bind(this)),"METHOD"),this.updateShape_(),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(190)},methodChanged:function(e){return this.method_=e,this.updateShape_(),e},updateShape_:function(){let e=["ARG1","ARG2"];for(let t=0;t<e.length;t++)this.getInput(e[t])&&this.removeInput(e[t]);switch(this.method_){case"append":case"extend":case"remove":this.appendValueInput("ARG1").setCheck(null).appendField("value");break;case"insert":this.appendValueInput("ARG1").setCheck(null).appendField("at index"),this.appendValueInput("ARG2").setCheck(null).appendField("value")}},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("method",this.method_),e},domToMutation:function(e){this.method_=e.getAttribute("method"),this.updateShape_()}},f.Blocks.list_method_return={init:function(){this.method_="copy",this.appendValueInput("LIST").setCheck("Array").appendField("list"),this.appendDummyInput("METHOD_DROPDOWN").appendField(new f.FieldDropdown([["copy()","copy"],["count()","count"],["index()","index"],["pop()","pop"]],this.methodChanged.bind(this)),"METHOD"),this.updateShape_(),this.setOutput(!0,null),this.setColour(190)},methodChanged:function(e){return this.method_=e,this.updateShape_(),e},updateShape_:function(){switch(this.getInput("ARG1")&&this.removeInput("ARG1"),this.method_){case"count":case"index":this.appendValueInput("ARG1").setCheck(null).appendField("value");break;case"pop":this.appendValueInput("ARG1").setCheck(null).appendField("at index")}},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("method",this.method_),e},domToMutation:function(e){this.method_=e.getAttribute("method"),this.updateShape_()}},f.Blocks.text_create_with={init:function(){this.paramCount_=0,this.appendDummyInput("HEADER").appendField('"'),this.appendDummyInput("FOOTER").appendField('"').appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add part",()=>this.addPart_())),this.setInputsInline(!0),this.setOutput(!0,"String"),this.setColour(eI)},updateShape_:function(){let e=0;for(;this.getInput("PART"+e);)this.removeInput("PART"+e),e++;for(let e=0;e<this.paramCount_;e++){let t=this.appendValueInput("PART"+e).setCheck("String");e>0&&t.appendField(" + "),this.moveInputBefore("PART"+e,"FOOTER")}},addPart_:function(){this.paramCount_++,this.updateShape_()},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("parts",this.paramCount_),e},domToMutation:function(e){this.paramCount_=parseInt(e.getAttribute("parts"),10),this.updateShape_()}},f.Blocks.text_get_index={init:function(){this.appendValueInput("TEXT").setCheck("String").appendField("char"),this.appendValueInput("INDEX").setCheck(null).appendField("at index"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(eI)}},f.Blocks.text_method_return={init:function(){this.method_="lower",this.appendValueInput("TEXT").setCheck("String").appendField(""),this.appendDummyInput("METHOD_DROPDOWN").appendField(new f.FieldDropdown([["lower()","lower"],["upper()","upper"],["strip()","strip"],["replace()","replace"],["find()","find"],["count()","count"],["split()","split"]],this.methodChanged.bind(this)),"METHOD"),this.updateShape_(),this.setOutput(!0,null),this.setColour(eI)},methodChanged:function(e){return this.method_=e,this.updateShape_(),e},updateShape_:function(){switch(this.getInput("ARG1")&&this.removeInput("ARG1"),this.getInput("ARG2")&&this.removeInput("ARG2"),this.method_){case"replace":this.appendValueInput("ARG1").setCheck("String").appendField("old"),this.appendValueInput("ARG2").setCheck("String").appendField("new");break;case"find":case"count":this.appendValueInput("ARG1").setCheck("String").appendField("sub")}},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("method",this.method_),e},domToMutation:function(e){this.method_=e.getAttribute("method"),this.updateShape_()}},f.Blocks.text_length={init:function(){this.appendValueInput("TEXT").setCheck("String").appendField("len"),this.setOutput(!0,"Number"),this.setColour(eI)}},f.Blocks.var_declaration={init:function(){this.paramCount_=0,this.appendDummyInput("HEADER").appendField(new f.FieldDropdown([["global","global"],["nonlocal","nonlocal"]]),"SCOPE"),this.appendDummyInput("FOOTER").appendField(new f.FieldImage("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==",15,15,"Add variable",()=>this.addParam_())),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour("#FF8C1A"),this.setTooltip("Declare variables with global or nonlocal scope (variables separated by commas)."),this.setHelpUrl("")},updateShape_:function(){let e=0;for(;this.getInput("VAR"+e);)this.removeInput("VAR"+e),e++;for(let e=0;e<this.paramCount_;e++){let t=this.appendValueInput("VAR"+e).setCheck(null);e>0&&t.appendField(", "),this.moveInputBefore("VAR"+e,"FOOTER")}},addParam_:function(){this.paramCount_++,this.updateShape_()},mutationToDom:function(){let e=f.utils.xml.createElement("mutation");return e.setAttribute("args",this.paramCount_),e},domToMutation:function(e){this.paramCount_=parseInt(e.getAttribute("args")||"0",10),this.updateShape_()}},f.Blocks.sequence_slice={init:function(){this.appendValueInput("SEQUENCE").setCheck(null).appendField("slice"),this.appendDummyInput().appendField("[").appendField(new f.FieldTextInput(""),"START").appendField(":").appendField(new f.FieldTextInput(""),"STOP").appendField(":").appendField(new f.FieldTextInput(""),"STEP").appendField("]"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour("#FBC02D"),this.setTooltip("Tạo biểu thức slice, ví dụ: a[1:5:-1]"),this.setHelpUrl("")}},function(){var e,t,n,o,r,i,s,l,a,u,c,d,h,p,f,g,m,_=eS.pythonGenerator;_.addReservedWords("turtle");let b=_.init;_.init=function(e){b.call(this,e),e.getAllBlocks(!1).some(e=>e.type&&e.type.startsWith("turtle_"))&&(this.definitions_.import_turtle="from turtle import *")},_.forBlock.turtle_move=function(e){let t=e.getFieldValue("FUNC"),n=_.valueToCode(e,"VALUE",_.ORDER_NONE)||"0";return`${t}(${n})
`},_.forBlock.turtle_circle=function(e){let t=_.valueToCode(e,"ARG0",_.ORDER_NONE)||"0",n=`circle(${t}`;for(let t=1;t<e.paramCount_;t++){let o=_.valueToCode(e,"ARG"+t,_.ORDER_NONE);o&&(n+=`, ${o}`)}return n+")\n"},_.forBlock.turtle_pen=function(e){let t=e.getFieldValue("FUNC");return`${t}()
`},_.forBlock.turtle_goto=function(e){let t=e.getFieldValue("FUNC"),n=_.valueToCode(e,"X",_.ORDER_NONE)||"0",o=_.valueToCode(e,"Y",_.ORDER_NONE)||"0";return`${t}(${n}, ${o})
`},_.forBlock.turtle_position=function(e){let t=e.getFieldValue("FUNC");return[`${t}()`,_.ORDER_FUNCTION_CALL]},_.forBlock.turtle_distance_towards=function(e){let t,n=e.getFieldValue("FUNCTION_TYPE"),o=e.getFieldValue("TARGET_TYPE"),r=_.ORDER_FUNCTION_CALL;if("COORDS"===o){let o=_.valueToCode(e,"X",_.ORDER_ATOMIC)||"0",r=_.valueToCode(e,"Y",_.ORDER_ATOMIC)||"0";t="DISTANCE"===n?`distance(${o}, ${r})`:`towards(${o}, ${r})`}else{let o=_.valueToCode(e,"OBJECT",_.ORDER_ATOMIC)||"None";t="DISTANCE"===n?`distance(${o})`:`towards(${o})`}return[t,r]},_.forBlock.turtle_setheading=function(e){let t=_.valueToCode(e,"ANGLE",_.ORDER_NONE)||"0";return`setheading(${t})
`},_.forBlock.turtle_color=function(e){let t=e.getFieldValue("FUNC"),n=_.valueToCode(e,"ARG0",_.ORDER_NONE)||"'black'";if("color"===t&&e.paramCount_>1){let o=_.valueToCode(e,"ARG1",_.ORDER_NONE);if(o)return`${t}(${n}, ${o})
`}return`${t}(${n})
`},_.forBlock.turtle_fill_block=function(e){let t=_.valueToCode(e,"COLOR",_.ORDER_NONE)||"'black'",n=_.statementToCode(e,"DO")||"",o=RegExp("^"+_.INDENT,"gm");return`fillcolor(${t})
begin_fill()
`+(n=n.replace(o,""))+`end_fill()
`},_.forBlock.turtle_show_hide=function(e){let t=e.getFieldValue("FUNC");return`${t}()
`},_.forBlock.turtle_shape=function(e){let t=_.valueToCode(e,"SHAPE",_.ORDER_NONE)||"'classic'";return`shape(${t})
`},_.forBlock.turtle_shapesize=function(e){let t=e.getFieldValue("FUNC"),n=_.valueToCode(e,"ARG0",_.ORDER_NONE)||"1",o=`${t}(${n}`;for(let t=1;t<e.paramCount_;t++){let n=_.valueToCode(e,"ARG"+t,_.ORDER_NONE);n&&(o+=`, ${n}`)}return o+")\n"},_.forBlock.turtle_clear_reset=function(e){let t=e.getFieldValue("FUNC");return`${t}()
`},_.forBlock.turtle_animation=function(e){let t=e.getFieldValue("FUNC"),n=_.valueToCode(e,"ARG0",_.ORDER_NONE)||"0";if("delay"===t)return`${t}(${n})
`;let o=`${t}(${n}`;if(e.paramCount_>1){let t=_.valueToCode(e,"ARG1",_.ORDER_NONE);t&&(o+=`, ${t}`)}return o+")\n"},_.forBlock.turtle_ontimer=function(e){let t=_.valueToCode(e,"FUNC_NAME",_.ORDER_NONE)||"None",n=_.valueToCode(e,"MS",_.ORDER_NONE)||"0",o=t.replace(/^'([^']*)'$/,"$1");return`ontimer(${o}, ${n})
`},_.forBlock.turtle_write=function(e){let t=_.valueToCode(e,"ARG0",_.ORDER_NONE)||"''",n=`write(${t}`;for(let t=1;t<e.paramCount_;t++){let o=_.valueToCode(e,"ARG"+t,_.ORDER_NONE);o&&(n+=`, ${o}`)}return n+")\n"},_.forBlock.turtle_textinput=function(e){let t=_.valueToCode(e,"TITLE",_.ORDER_NONE)||"''",n=_.valueToCode(e,"PROMPT",_.ORDER_NONE)||"''";return[`textinput(${t}, ${n})`,_.ORDER_FUNCTION_CALL]},_.forBlock.turtle_numinput=function(e){let t=_.valueToCode(e,"TITLE",_.ORDER_NONE)||"''",n=_.valueToCode(e,"PROMPT",_.ORDER_NONE)||"''",o=_.valueToCode(e,"DEFAULT",_.ORDER_NONE)||"0",r=`numinput(${t}, ${n}, ${o}`;if(e.paramCount_>3){let t=_.valueToCode(e,"MINVAL",_.ORDER_NONE);t&&(r+=`, ${t}`)}if(e.paramCount_>4){let t=_.valueToCode(e,"MAXVAL",_.ORDER_NONE);t&&(r+=`, ${t}`)}return[r+=")",_.ORDER_FUNCTION_CALL]},(e=eS.pythonGenerator).forBlock.pixi_background=function(t){let n=[],o=e.valueToCode(t,"ARG0",e.ORDER_NONE)||"'https://example.com/bg.png'";n.push(o);for(let o=1;o<t.paramCount_;o++){let r=e.valueToCode(t,"ARG"+o,e.ORDER_NONE)||"None";n.push(r)}return[`background(${n.join(", ")})`,e.ORDER_FUNCTION_CALL]},e.forBlock.pixi_image=function(t){let n=e.valueToCode(t,"URL",e.ORDER_NONE)||"'https://example.com/image.png'";return[`image(${n})`,e.ORDER_FUNCTION_CALL]},e.forBlock.pixi_shape_functions=function(t){let n=t.getFieldValue("FUNC")||"circle",o=[],r=e.valueToCode(t,"ARG0",e.ORDER_NONE)||"20";o.push(r);for(let n=1;n<t.paramCount_;n++){let r=e.valueToCode(t,"ARG"+n,e.ORDER_NONE);r&&o.push(r)}return"rect"===n&&1===o.length&&o.push(o[0]),[`${n}(${o.join(", ")})`,e.ORDER_FUNCTION_CALL]},e.forBlock.pixi_text_functions=function(t){let n=[],o=e.valueToCode(t,"ARG0",e.ORDER_NONE)||'"Hello World"';n.push(o);for(let o=1;o<t.paramCount_;o++){let r=e.valueToCode(t,"ARG"+o,e.ORDER_NONE);r&&n.push(r)}return[`text(${n.join(", ")})`,e.ORDER_FUNCTION_CALL]},e.forBlock.pixi_sprite_functions=function(t){let n=[],o=e.valueToCode(t,"ARG0",e.ORDER_NONE)||"circle(20, {'fill': 'yellow'})";n.push(o);for(let o=1;o<t.paramCount_;o++){let r=e.valueToCode(t,"ARG"+o,e.ORDER_NONE);r&&n.push(r)}return[`sprite(${n.join(", ")})`,e.ORDER_FUNCTION_CALL]},e.forBlock.pixi_sound_functions=function(t){let n=e.valueToCode(t,"URL",e.ORDER_NONE)||"'https://example.com/sound.wav'";return[`sound(${n})`,e.ORDER_FUNCTION_CALL]},e.forBlock.pixi_set_gravity=function(t){let n=e.valueToCode(t,"X",e.ORDER_NONE)||"0",o=e.valueToCode(t,"Y",e.ORDER_NONE)||"1";return`setGravity(${n}, ${o})
`},e.forBlock.pixi_add_physics=function(t){let n=e.valueToCode(t,"SPRITE",e.ORDER_MEMBER)||"sprite1",o=t.getFieldValue("BODY_TYPE")||"rect";return`${n}.addPhysics("${o}")
`},e.forBlock.pixi_sprite_action_no_params=function(t){let n=e.valueToCode(t,"SPRITE",e.ORDER_MEMBER)||"sprite1",o=t.getFieldValue("FUNC")||"remove";return`${n}.${o}()
`},e.forBlock.pixi_sprite_action_one_param=function(t){let n,o=e.valueToCode(t,"SPRITE",e.ORDER_MEMBER)||"sprite1",r=t.getFieldValue("FUNC")||"setTint";switch(r){case"setTint":n="'red'";break;case"setScale":case"setAlpha":case"setMass":case"setDensity":n="1.0";break;case"setRotation":default:n="0";break;case"setStatic":n="True";break;case"setFriction":n="0.1";break;case"setBounce":n="0.5"}let i=e.valueToCode(t,"ARG1",e.ORDER_NONE)||n;return`${o}.${r}(${i})
`},e.forBlock.pixi_sprite_action_two_params=function(t){let n=e.valueToCode(t,"SPRITE",e.ORDER_MEMBER)||"sprite1",o=t.getFieldValue("FUNC")||"setPosition",r=e.valueToCode(t,"ARG1",e.ORDER_NONE)||"0",i=e.valueToCode(t,"ARG2",e.ORDER_NONE)||"0";return`${n}.${o}(${r}, ${i})
`},e.forBlock.pixi_collides=function(t){let n=e.valueToCode(t,"OBJ1",e.ORDER_NONE)||"sprite1",o=e.valueToCode(t,"OBJ2",e.ORDER_NONE)||"sprite2";return[`collides(${n}, ${o})`,e.ORDER_FUNCTION_CALL]},e.forBlock.pixi_distance=function(t){let n=e.valueToCode(t,"OBJ1",e.ORDER_NONE)||"sprite1",o=e.valueToCode(t,"OBJ2",e.ORDER_NONE)||"sprite2";return[`distance(${n}, ${o})`,e.ORDER_FUNCTION_CALL]},e.forBlock.pixi_point_in_circle=function(t){let n=e.valueToCode(t,"X",e.ORDER_NONE)||"0",o=e.valueToCode(t,"Y",e.ORDER_NONE)||"0",r=e.valueToCode(t,"CX",e.ORDER_NONE)||"100",i=e.valueToCode(t,"CY",e.ORDER_NONE)||"100",s=e.valueToCode(t,"RADIUS",e.ORDER_NONE)||"50";return[`pointInCircle(${n}, ${o}, ${r}, ${i}, ${s})`,e.ORDER_FUNCTION_CALL]},e.forBlock.pixi_math_functions=function(t){let n=t.getFieldValue("FUNC")||"angle_between",o=e.valueToCode(t,"X1",e.ORDER_NONE)||"0",r=e.valueToCode(t,"Y1",e.ORDER_NONE)||"0",i=e.valueToCode(t,"X2",e.ORDER_NONE)||"100",s=e.valueToCode(t,"Y2",e.ORDER_NONE)||"100";return[`${n}(${o}, ${r}, ${i}, ${s})`,e.ORDER_FUNCTION_CALL]},e.forBlock.pixi_is_key_pressed=function(t){let n=e.valueToCode(t,"KEY",e.ORDER_NONE)||"'w'";return[`isKeyPressed(${n})`,e.ORDER_FUNCTION_CALL]},e.forBlock.pixi_sprite_getter=function(t){let n=e.valueToCode(t,"SPRITE",e.ORDER_MEMBER)||"sprite1",o=t.getFieldValue("PROP")||"x";return[`${n}.${o}`,e.ORDER_MEMBER]},e.forBlock.pixi_sound_actions=function(t){let n=e.valueToCode(t,"SOUND",e.ORDER_MEMBER)||"sound1",o=t.getFieldValue("FUNC")||"play";return`${n}.${o}()
`},e.forBlock.pixi_game_loop=function(t){let n=t.getFieldValue("FUNCTION_NAME")||"loop",o=t.getFieldValue("FUNCTION_CALL_NAME")||n,r=e.statementToCode(t,"STACK"),i=`def ${n}(dt):
`;return r?i+=r:i+="    pass\n",i+=`
game_loop(${o})
`},e.forBlock.comment=function(e){return(e.getFieldValue("COMMENT")||"").split("\n").map(e=>`# ${e}`).join("\n")+"\n"},(t=eS.pythonGenerator).forBlock.math_basic_arith=function(e){let n={ADD:[" + ",t.ORDER_ADDITIVE],MINUS:[" - ",t.ORDER_ADDITIVE],MULTIPLY:[" * ",t.ORDER_MULTIPLICATIVE],DIVIDE:[" / ",t.ORDER_MULTIPLICATIVE],ASSIGNMENT:[" = ",t.ORDER_NONE],BITWISE_AND:[" & ",t.ORDER_BITWISE_AND],BITWISE_OR:[" | ",t.ORDER_BITWISE_OR]}[e.getFieldValue("OP")],o=n[0],r=n[1],i=t.valueToCode(e,"A",r)||"0",s=t.valueToCode(e,"B",r)||"0";return[`${i}${o}${s}`,r]},t.forBlock.math_advanced_arith=function(e){let n={FLOORDIV:[" // ",t.ORDER_MULTIPLICATIVE],POWER:[" ** ",t.ORDER_EXPONENTIATION],MODULO:[" % ",t.ORDER_MULTIPLICATIVE],LEFT_SHIFT:[" << ",t.ORDER_BITWISE_SHIFT],RIGHT_SHIFT:[" >> ",t.ORDER_BITWISE_SHIFT]}[e.getFieldValue("OP")],o=n[0],r=n[1],i=t.valueToCode(e,"A",r)||"0",s=t.valueToCode(e,"B",r)||"0";return[`${i}${o}${s}`,r]},t.forBlock.math_round_abs=function(e){let n=e.getFieldValue("FUNC"),o=t.valueToCode(e,"NUM",t.ORDER_FUNCTION_CALL)||"0";return t.definitions_.import_math||(t.definitions_.import_math="from math import *\n"),[`${n}(${o})`,t.ORDER_FUNCTION_CALL]},t.forBlock.math_type_conversion=function(e){let n=e.getFieldValue("FUNC"),o=t.valueToCode(e,"VALUE",t.ORDER_FUNCTION_CALL)||"0";return[`${n}(${o})`,t.ORDER_FUNCTION_CALL]},t.forBlock.math_functions=function(e){let n=e.getFieldValue("FUNC"),o=t.valueToCode(e,"NUM",t.ORDER_FUNCTION_CALL)||"0";return t.definitions_.import_math||(t.definitions_.import_math="from math import *\n"),[`${n}(${o})`,t.ORDER_FUNCTION_CALL]},t.forBlock.math_char_funcs=function(e){let n=e.getFieldValue("FUNC"),o=t.valueToCode(e,"VAL",t.ORDER_FUNCTION_CALL)||"0";return[`${n}(${o})`,t.ORDER_FUNCTION_CALL]},t.forBlock.math_constants=function(e){let n=e.getFieldValue("CONST");return t.definitions_.import_math||(t.definitions_.import_math="from math import *\n"),[n,t.ORDER_ATOMIC]},t.forBlock.math_random_int_custom=function(e){t.definitions_.import_random||(t.definitions_.import_random="from random import *\n");let n=t.valueToCode(e,"FROM",t.ORDER_NONE)||"0",o=t.valueToCode(e,"TO",t.ORDER_NONE)||"0";return[`randint(${n}, ${o})`,t.ORDER_FUNCTION_CALL]},(n=eS.pythonGenerator).forBlock.text_input=function(e){let t=n.valueToCode(e,"TEXT",n.ORDER_NONE);return t&&0!==t.length?[`input(${t})`,n.ORDER_FUNCTION_CALL]:["input()",n.ORDER_FUNCTION_CALL]},n.forBlock.text_print=function(e){let t=n.valueToCode(e,"TEXT",n.ORDER_NONE)||'""';return`print(${t})
`},n.forBlock.text_format=function(e){let t=n.valueToCode(e,"TEXT",n.ORDER_MEMBER)||'""',o=n.valueToCode(e,"ARGS",n.ORDER_NONE)||'""';return[`${t}.format(${o})`,n.ORDER_FUNCTION_CALL]},n.forBlock.from_import=function(e){let t=e.getFieldValue("MODULE")||"module",n=e.getFieldValue("ITEM")||"item";return`from ${t} import ${n}
`},(o=eS.pythonGenerator).forBlock.dict_create_with=function(e){let t=[];for(let n=0;n<e.pairCount_;n++){let r=o.valueToCode(e,"KEY"+n,o.ORDER_NONE)||"None",i=o.valueToCode(e,"VALUE"+n,o.ORDER_NONE)||"None";t.push(r+": "+i)}return["{"+t.join(", ")+"}",o.ORDER_ATOMIC]},o.forBlock.dict_get=function(e){let t=o.valueToCode(e,"DICT",o.ORDER_MEMBER)||"{}";return[t+"["+(o.valueToCode(e,"KEY",o.ORDER_NONE)||"None")+"]",o.ORDER_ATOMIC]},o.forBlock.dict_set=function(e){let t=o.valueToCode(e,"DICT",o.ORDER_MEMBER)||"{}",n=o.valueToCode(e,"KEY",o.ORDER_NONE)||"None";return t+"["+n+"] = "+(o.valueToCode(e,"VALUE",o.ORDER_NONE)||"None")+"\n"},o.forBlock.tuple_create_with=function(e){let t=[];for(let n=0;n<e.paramCount_;n++){let r=o.valueToCode(e,"ITEM"+n,o.ORDER_NONE)||"None";t.push(r)}let n="";return[1===t.length?"("+t[0]+",)":"("+t.join(", ")+")",o.ORDER_ATOMIC]},o.forBlock.tuple_get_index=function(e){let t=o.valueToCode(e,"TUPLE",o.ORDER_MEMBER)||"()";return[t+"["+(o.valueToCode(e,"INDEX",o.ORDER_NONE)||"0")+"]",o.ORDER_ATOMIC]},(r=eS.pythonGenerator).forBlock.function_definition=function(e){let t=e.getFieldValue("NAME")||"unnamed_function",n=[];for(let t=0;t<e.paramCount_;t++){let o="PARAM"+t,i=r.valueToCode(e,o,r.ORDER_ATOMIC)||"param"+t;i=i.replace(/[^a-zA-Z0-9_]/g,"_").replace(/^[0-9]/,"_"),n.push(i)}let o=`def ${t}(${n.join(", ")}):
`;return o+(r.statementToCode(e,"STACK")||r.PASS)},(i=eS.pythonGenerator).forBlock.function_call=function(e){let t=e.getFieldValue("NAME")||"function",n=[];for(let t=0;t<e.paramCount_;t++){let o=i.valueToCode(e,"ARG"+t,i.ORDER_NONE)||"None";n.push(o)}return`${t}(${n.join(", ")})
`},i.forBlock.function_call_return=function(e){let t=e.getFieldValue("NAME")||"function",n=[];for(let t=0;t<e.paramCount_;t++){let o=i.valueToCode(e,"ARG"+t,i.ORDER_NONE)||"None";n.push(o)}return[`${t}(${n.join(", ")})`,i.ORDER_FUNCTION_CALL]},(s=eS.pythonGenerator).forBlock.function_return=function(e){let t=s.valueToCode(e,"VALUE",s.ORDER_NONE)||"None";return`return ${t}
`},s.forBlock.function_return_logic=function(e){let t=s.valueToCode(e,"VALUE",s.ORDER_NONE)||"False";return`return ${t}
`},(l=eS.pythonGenerator).forBlock.let_reference=function(e){return[e.getFieldValue("LET").replace(/[^a-zA-Z0-9_,.[\]{}]/g,"_").replace(/^[0-9]/,"_"),l.ORDER_ATOMIC]},l.forBlock.let_set=function(e){let t=l.valueToCode(e,"LET",l.ORDER_ATOMIC).replace(/[^a-zA-Z0-9_,.[\]{}]/g,"_").replace(/^[0-9]/,"_")||"x",n=e.getFieldValue("OPERATOR")||"=",o=l.valueToCode(e,"VALUE",l.ORDER_NONE)||"None";return`${t} ${n} ${o}
`},(a=eS.pythonGenerator).forBlock.print_with_args=function(e){let t=[],n=a.valueToCode(e,"ARG0",a.ORDER_NONE)||"None";t.push(n);for(let n=1;n<e.paramCount_;n++){let o=a.valueToCode(e,"ARG"+n,a.ORDER_NONE)||"None";t.push(o)}return`print(${t.join(", ")})
`},(u=eS.pythonGenerator).forBlock.controls_for_in=function(e){let t=u.valueToCode(e,"VAR",u.ORDER_ATOMIC)||"item",n=u.valueToCode(e,"ITERABLE",u.ORDER_NONE)||"[]",o=u.statementToCode(e,"DO");return"for "+t+" in "+n+":\n"+(o=u.addLoopTrap(o,e))},u.forBlock.range_block=function(e){let t=e.getFieldValue("FUNC")||"range";"comb"!==t&&"gcd"!==t&&"lcm"!==t&&"perm"!==t||u.definitions_.import_math||(u.definitions_.import_math="from math import *\n");let n=[],o=u.valueToCode(e,"ARG0",u.ORDER_NONE)||"0";n.push(o);for(let t=1;t<e.paramCount_;t++){let o=u.valueToCode(e,"ARG"+t,u.ORDER_NONE)||"None";n.push(o)}return[t+"("+n.join(", ")+")",u.ORDER_FUNCTION_CALL]},(c=eS.pythonGenerator).forBlock.logic_is_odd_even=function(e){let t=c.valueToCode(e,"NUM",c.ORDER_BITWISE_AND)||"0",n=e.getFieldValue("MODE"),o="";return["ODD"===n?"("+t+" & 1) == 1":"("+t+" & 1) == 0",c.ORDER_RELATIONAL]},c.forBlock.logic_is_in=function(e){let t=c.valueToCode(e,"ITEM",c.ORDER_NONE)||"None",n=e.getFieldValue("OP"),o=c.valueToCode(e,"CONTAINER",c.ORDER_NONE)||"None",r="";return["IN"===n?t+" in "+o:t+" not in "+o,c.ORDER_RELATIONAL]},c.forBlock.logic_is_comparison=function(e){let t=c.valueToCode(e,"LEFT",c.ORDER_NONE)||"None",n=e.getFieldValue("OP"),o=c.valueToCode(e,"RIGHT",c.ORDER_NONE)||"None",r="";return["IS"===n?t+" is "+o:t+" is not "+o,c.ORDER_RELATIONAL]},(d=eS.pythonGenerator).forBlock.min_max_with_args=function(e){let t=e.getFieldValue("FUNC")||"min";"comb"!==t&&"gcd"!==t&&"lcm"!==t&&"perm"!==t||d.definitions_.import_math||(d.definitions_.import_math="from math import *\n"),"permutations"!==t||d.definitions_.import_itertools||(d.definitions_.import_itertools="from itertools import *\n");let n=[],o=d.valueToCode(e,"ARG0",d.ORDER_NONE)||"0";n.push(o);for(let t=1;t<e.paramCount_;t++){let o=d.valueToCode(e,"ARG"+t,d.ORDER_NONE)||"None";n.push(o)}return[t+"("+n.join(", ")+")",d.ORDER_FUNCTION_CALL]},(h=eS.pythonGenerator).forBlock.logic_function_call_return=function(e){let t=e.getFieldValue("NAME")||"function",n=[];for(let t=0;t<e.paramCount_;t++){let o=h.valueToCode(e,"ARG"+t,h.ORDER_NONE)||"None";n.push(o)}return[`${t}(${n.join(", ")})`,h.ORDER_FUNCTION_CALL]},(p=eS.pythonGenerator).forBlock.list_create_with=function(e){let t=[];for(let n=0;n<e.paramCount_;n++){let o=p.valueToCode(e,"ITEM"+n,p.ORDER_NONE)||"None";t.push(o)}return["["+t.join(", ")+"]",p.ORDER_ATOMIC]},p.forBlock.list_get_index=function(e){let t=p.valueToCode(e,"LIST",p.ORDER_MEMBER)||"[]";return[t+"["+(p.valueToCode(e,"INDEX",p.ORDER_NONE)||"0")+"]",p.ORDER_ATOMIC]},p.forBlock.list_set_index=function(e){let t=p.valueToCode(e,"LIST",p.ORDER_MEMBER)||"[]",n=p.valueToCode(e,"INDEX",p.ORDER_NONE)||"0";return t+"["+n+"] = "+(p.valueToCode(e,"VALUE",p.ORDER_NONE)||"None")+"\n"},p.forBlock.list_method_void=function(e){let t=p.valueToCode(e,"LIST",p.ORDER_MEMBER)||"[]",n=e.getFieldValue("METHOD"),o="";switch(n){case"append":o=t+".append("+(p.valueToCode(e,"ARG1",p.ORDER_NONE)||"None")+")\n";break;case"clear":o=t+".clear()\n";break;case"extend":o=t+".extend("+(p.valueToCode(e,"ARG1",p.ORDER_NONE)||"[]")+")\n";break;case"insert":o=t+".insert("+(p.valueToCode(e,"ARG1",p.ORDER_NONE)||"0")+", "+(p.valueToCode(e,"ARG2",p.ORDER_NONE)||"None")+")\n";break;case"remove":o=t+".remove("+(p.valueToCode(e,"ARG1",p.ORDER_NONE)||"None")+")\n";break;case"reverse":o=t+".reverse()\n";break;case"sort":o=t+".sort()\n";break;default:o=""}return o},p.forBlock.list_method_return=function(e){let t=p.valueToCode(e,"LIST",p.ORDER_MEMBER)||"[]",n=e.getFieldValue("METHOD"),o="";switch(n){case"copy":o=t+".copy()";break;case"count":o=t+".count("+(p.valueToCode(e,"ARG1",p.ORDER_NONE)||"None")+")";break;case"index":o=t+".index("+(p.valueToCode(e,"ARG1",p.ORDER_NONE)||"None")+")";break;case"pop":let r=p.valueToCode(e,"ARG1",p.ORDER_NONE);o=r?t+".pop("+r+")":t+".pop()";break;default:o=""}return[o,p.ORDER_FUNCTION_CALL]},(f=eS.pythonGenerator).forBlock.text_create_with=function(e){let t=[];for(let n=0;n<e.paramCount_;n++){let o=f.valueToCode(e,"PART"+n,f.ORDER_NONE)||"''";t.push(o)}return 0===t.length?["''",f.ORDER_ATOMIC]:[t.join(" + "),f.ORDER_ADDITIVE]},f.forBlock.text_get_index=function(e){let t=f.valueToCode(e,"TEXT",f.ORDER_MEMBER)||"''";return[t+"["+(f.valueToCode(e,"INDEX",f.ORDER_NONE)||"0")+"]",f.ORDER_ATOMIC]},f.forBlock.text_method_return=function(e){let t=f.valueToCode(e,"TEXT",f.ORDER_MEMBER)||"''",n=e.getFieldValue("METHOD"),o="";switch(n){case"lower":case"upper":case"strip":case"split":o=t+"."+n+"()";break;case"replace":o=t+".replace("+(f.valueToCode(e,"ARG1",f.ORDER_NONE)||"''")+", "+(f.valueToCode(e,"ARG2",f.ORDER_NONE)||"''")+")";break;case"find":case"count":o=t+"."+n+"("+(f.valueToCode(e,"ARG1",f.ORDER_NONE)||"''")+")";break;default:o=t}return[o,f.ORDER_FUNCTION_CALL]},f.forBlock.text_length=function(e){return["len("+(f.valueToCode(e,"TEXT",f.ORDER_NONE)||"''")+")",f.ORDER_FUNCTION_CALL]},(g=eS.pythonGenerator).forBlock.var_declaration=function(e){let t=e.getFieldValue("SCOPE"),n=[];for(let t=0;t<e.paramCount_;t++){let o=g.valueToCode(e,"VAR"+t,g.ORDER_ATOMIC)||"";n.push(o)}return t+" "+n.join(", ")+"\n"},(m=eS.pythonGenerator).forBlock.sequence_slice=function(e){let t=m.valueToCode(e,"SEQUENCE",m.ORDER_MEMBER)||"[]",n=e.getFieldValue("START"),o=e.getFieldValue("STOP"),r=e.getFieldValue("STEP"),i="";return[t+(""===r?"["+n+":"+o+"]":"["+n+":"+o+":"+r+"]"),m.ORDER_ATOMIC]}}();var ew=function(){let{viewMode:e,isDarkTheme:t,setEditorFocus:n}=w(),{workspaceRef:o}=w(),r=(0,v.useRef)(null);return(0,v.useEffect)(()=>{let e=()=>o.current?.workspace?.resize();return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,v.useEffect)(()=>{if(r.current&&!o.current)return o.current=b(r.current,{toolbox:eg,renderer:"zelos",theme:t?e_:eb,grid:{spacing:20,length:3,colour:"#ccc",snap:!0},zoom:{controls:!0,wheel:!0,startScale:1,maxScale:3,minScale:.3,scaleSpeed:1.2},trashcan:!0,move:{scrollbars:!0,drag:!0,wheel:!0}}),o.current.registerButtonCallback("CREATE_VARIABLE",function(e){m.createVariableButtonHandler(e.getTargetWorkspace())}),o.current&&o.current.addChangeListener(()=>{n("blockly")}),()=>{o.current?.dispose(),o.current=null}},[n]),(0,v.useEffect)(()=>{o.current&&o.current.setTheme(t?e_:eb)},[t]),(0,h.jsxs)("div",{style:{flex:1,position:"relative",overflow:"hidden",minHeight:"100%",backgroundColor:t?"#1e1e1e":"#fff"},children:[(0,h.jsx)("div",{ref:r,onClick:()=>{n("blockly")},style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:1===e?"none":"block",height:"100%",width:"100%"}}),2!==e&&(0,h.jsx)("div",{style:{position:"absolute",top:0,right:0,width:0===e?"50%":"100%",height:"100%",backgroundColor:t?"#1e1e1e":"#f5f5f5",zIndex:10,transition:"width 0.3s ease",boxShadow:"-2px 0 5px rgba(0,0,0,0.2)"},children:(0,h.jsx)(ef,{})})]})},h=c("iM5HV"),v=c("fYo6y"),ek={},eO=c("2zxFA"),eR=eO.default,ex=c("lHCw5"),e$=ex.default;Object.defineProperty(ek,"__esModule",{value:!0});var eA={appBarClasses:!0};Object.defineProperty(ek,"appBarClasses",{enumerable:!0,get:function(){return eM.default}}),Object.defineProperty(ek,"default",{enumerable:!0,get:function(){return eN.default}});var eN=e$(c("lgi8W")),eM=eR(c("eW4co"));Object.keys(eM).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(eA,e))&&(e in ek&&ek[e]===eM[e]||Object.defineProperty(ek,e,{enumerable:!0,get:function(){return eM[e]}}))});var eL={},eO=c("2zxFA"),eD=eO.default,ex=c("lHCw5"),eP=ex.default;Object.defineProperty(eL,"__esModule",{value:!0});var eB={toolbarClasses:!0};Object.defineProperty(eL,"default",{enumerable:!0,get:function(){return eF.default}}),Object.defineProperty(eL,"toolbarClasses",{enumerable:!0,get:function(){return eU.default}});var eF=eP(c("hGEFh")),eU=eD(c("6PfkS"));Object.keys(eU).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(eB,e))&&(e in eL&&eL[e]===eU[e]||Object.defineProperty(eL,e,{enumerable:!0,get:function(){return eU[e]}}))});var eH={},eO=c("2zxFA"),eV=eO.default,ex=c("lHCw5"),eG=ex.default;Object.defineProperty(eH,"__esModule",{value:!0});var ej={iconButtonClasses:!0};Object.defineProperty(eH,"default",{enumerable:!0,get:function(){return eW.default}}),Object.defineProperty(eH,"iconButtonClasses",{enumerable:!0,get:function(){return ez.default}});var eW=eG(c("ffugU")),ez=eV(c("b9pL7"));Object.keys(ez).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(ej,e))&&(e in eH&&eH[e]===ez[e]||Object.defineProperty(eH,e,{enumerable:!0,get:function(){return ez[e]}}))});var eX={},ex=c("lHCw5"),eY=ex.default;Object.defineProperty(eX,"__esModule",{value:!0}),eX.default=void 0;var eK=eY(c("4XuF0")),h=c("iM5HV");eX.default=(0,eK.default)((0,h.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code");var eJ={},ex=c("lHCw5"),eZ=ex.default;Object.defineProperty(eJ,"__esModule",{value:!0}),eJ.default=void 0;var eq=eZ(c("4XuF0")),h=c("iM5HV");eJ.default=(0,eq.default)((0,h.jsx)("path",{d:"M20 4H4c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2m0 14H4V8h16zm-2-1h-6v-2h6zM7.5 17l-1.41-1.41L8.67 13l-2.59-2.59L7.5 9l4 4z"}),"Terminal");var eQ={},ex=c("lHCw5"),e0=ex.default;Object.defineProperty(eQ,"__esModule",{value:!0}),eQ.default=void 0;var e1=e0(c("4XuF0")),h=c("iM5HV");eQ.default=(0,e1.default)((0,h.jsx)("path",{d:"M5.33 20H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h1.33c1.1 0 2 .9 2 2v12c0 1.1-.89 2-2 2M22 18V6c0-1.1-.9-2-2-2h-1.33c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2H20c1.11 0 2-.9 2-2m-7.33 0V6c0-1.1-.9-2-2-2h-1.33c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h1.33c1.1 0 2-.9 2-2"}),"ViewWeek");var e2={},ex=c("lHCw5"),e5=ex.default;Object.defineProperty(e2,"__esModule",{value:!0}),e2.default=void 0;var e3=e5(c("4XuF0")),h=c("iM5HV");e2.default=(0,e3.default)((0,h.jsx)("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen");var e4={},ex=c("lHCw5"),e6=ex.default;Object.defineProperty(e4,"__esModule",{value:!0}),e4.default=void 0;var e8=e6(c("4XuF0")),h=c("iM5HV");e4.default=(0,e8.default)((0,h.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness4");var e9={},ex=c("lHCw5"),e7=ex.default;Object.defineProperty(e9,"__esModule",{value:!0}),e9.default=void 0;var te=e7(c("4XuF0")),h=c("iM5HV");e9.default=(0,te.default)((0,h.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}),"Brightness7");var tt={},ex=c("lHCw5"),tn=ex.default;Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=void 0;var to=tn(c("4XuF0")),h=c("iM5HV");tt.default=(0,to.default)((0,h.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow");var tr={},eO=c("2zxFA"),ti=eO.default,ex=c("lHCw5"),ts=ex.default;Object.defineProperty(tr,"__esModule",{value:!0});var tl={buttonGroupClasses:!0,ButtonGroupContext:!0,ButtonGroupButtonContext:!0};Object.defineProperty(tr,"ButtonGroupButtonContext",{enumerable:!0,get:function(){return td.default}}),Object.defineProperty(tr,"ButtonGroupContext",{enumerable:!0,get:function(){return tc.default}}),Object.defineProperty(tr,"buttonGroupClasses",{enumerable:!0,get:function(){return tu.default}}),Object.defineProperty(tr,"default",{enumerable:!0,get:function(){return ta.default}});var ta=ts(c("cp5Pj")),tu=ti(c("9Zptg"));Object.keys(tu).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(tl,e))&&(e in tr&&tr[e]===tu[e]||Object.defineProperty(tr,e,{enumerable:!0,get:function(){return tu[e]}}))});var tc=ts(c("cHdpX")),td=ts(c("erk6g")),th={},eO=c("2zxFA"),tp=eO.default,ex=c("lHCw5"),tf=ex.default;Object.defineProperty(th,"__esModule",{value:!0});var tg={buttonClasses:!0};Object.defineProperty(th,"buttonClasses",{enumerable:!0,get:function(){return t_.default}}),Object.defineProperty(th,"default",{enumerable:!0,get:function(){return tm.default}});var tm=tf(c("iHNV0")),t_=tp(c("3O7D4"));Object.keys(t_).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(tg,e))&&(e in th&&th[e]===t_[e]||Object.defineProperty(th,e,{enumerable:!0,get:function(){return t_[e]}}))});var tb={},eO=c("2zxFA"),ty=eO.default,ex=c("lHCw5"),tT=ex.default;Object.defineProperty(tb,"__esModule",{value:!0});var tE={menuClasses:!0};Object.defineProperty(tb,"default",{enumerable:!0,get:function(){return tv.default}}),Object.defineProperty(tb,"menuClasses",{enumerable:!0,get:function(){return tC.default}});var tv=tT(c("9eYSC")),tC=ty(c("4mwx6"));Object.keys(tC).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(tE,e))&&(e in tb&&tb[e]===tC[e]||Object.defineProperty(tb,e,{enumerable:!0,get:function(){return tC[e]}}))});var tI={},ex=c("lHCw5"),tS=ex.default;Object.defineProperty(tI,"__esModule",{value:!0}),tI.default=void 0;var tw=tS(c("4XuF0")),h=c("iM5HV");tI.default=(0,tw.default)((0,h.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");var tk={},eO=c("2zxFA"),tO=eO.default,ex=c("lHCw5"),tR=ex.default;Object.defineProperty(tk,"__esModule",{value:!0});var tx={menuItemClasses:!0};Object.defineProperty(tk,"default",{enumerable:!0,get:function(){return t$.default}}),Object.defineProperty(tk,"menuItemClasses",{enumerable:!0,get:function(){return tA.default}});var t$=tR(c("dxwkZ")),tA=tO(c("3oBtp"));Object.keys(tA).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(tx,e))&&(e in tk&&tk[e]===tA[e]||Object.defineProperty(tk,e,{enumerable:!0,get:function(){return tA[e]}}))});var tN=()=>{let{generatePython:e,setCurrentCode:t,viewMode:n,setViewMode:o,exportToXml:r,importFromXml:i,isDarkTheme:s,toggleTheme:a,runCode:u,showBrythonConsole:c,setShowBrythonConsole:d,editorFocus:p,code:f,saveToCache:g,clearCache:m,workspaceRef:_}=w(),[b,y]=(0,v.useState)(null);return(0,h.jsx)(l(ek),{position:"static",color:"default",sx:{height:44,backgroundColor:s?"#1e1e1e":"#f5f5f5",color:s?"#ffffff":"inherit",boxShadow:1},children:(0,h.jsxs)(l(eL),{disableGutters:!0,variant:"dense",sx:{height:"44px",padding:"0 8px",gap:"8px","&.MuiToolbar-root":{minHeight:"32px"}},children:[(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,h.jsx)(l(tr),{variant:"text",size:"small",children:(0,h.jsxs)(l(th),{onClick:e=>y(e.currentTarget),sx:{color:s?"#fff":"inherit"},children:["File",(0,h.jsx)(l(tI),{fontSize:"small",sx:{ml:.5}})]})}),(0,h.jsx)(l(eH),{onClick:u,title:`Run Code (${"blockly"===p?"Blockly":"Editor"})`,sx:{color:s?"#4caf50":"#2e7d32"},children:(0,h.jsx)(l(tt),{fontSize:"small"})})]}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginLeft:"auto"},children:[(0,h.jsxs)(l(eH),{onClick:o,title:"Toggle Editor View",sx:{color:s?"#fff":"inherit"},children:[0===n&&(0,h.jsx)(l(e2),{}),1===n&&(0,h.jsx)(l(eQ),{}),2===n&&(0,h.jsx)(l(eX),{})]}),(0,h.jsx)(l(eH),{onClick:()=>d(!c),title:"Toggle Console",sx:{color:c?"#ffa726":s?"#fff":"inherit"},children:(0,h.jsx)(l(eJ),{})}),(0,h.jsx)(l(eH),{onClick:a,title:"Toggle Theme",sx:{color:s?"#fff":"inherit"},children:s?(0,h.jsx)(l(e9),{}):(0,h.jsx)(l(e4),{})})]}),(0,h.jsxs)(l(tb),{anchorEl:b,open:!!b,onClose:()=>y(null),children:[(0,h.jsx)(l(tk),{onClick:()=>{confirm("Create new workspace? This will clear current work.")&&(_.current&&_.current.clear(),t("# Welcome to Blockly\n# Start coding here"),m(),y(null),console.log("✅ New workspace created"))},children:"New"}),(0,h.jsx)(l(tk),{divider:!0}),(0,h.jsx)(l(tk),{onClick:()=>{r(),y(null)},children:"Export XML"}),(0,h.jsxs)(l(tk),{component:"label",children:["Import XML",(0,h.jsx)("input",{type:"file",accept:".xml",onChange:e=>{let t=e.target.files[0];if(t){let e=new FileReader;e.onload=e=>{i(e.target.result),y(null)},e.readAsText(t)}},hidden:!0})]})]})]})})},h=c("iM5HV"),v=c("fYo6y"),tM=class{constructor(){this.initialized=!1,this.outputRef=null,this.currentMode="console",this.executionCount=0}setOutputRef(e){this.outputRef=e}async loadBrython(){if(!this.initialized){if(window.PIXI&&window.brython)return void this.setupBrython();try{for(let e of["./libs/pixi.min.js","./libs/brython.min.js","./libs/brython_stdlib.js"])await this.loadScript(e);try{await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"),console.log("✅ Matter.js loaded successfully from CDN")}catch(e){console.log("⚠️ Matter.js not available from CDN, continuing without physics"),console.log("\uD83D\uDCA1 Physics features will be disabled but game engine will work")}this.setupBrython()}catch(e){throw console.error("Failed to load core Brython scripts:",e),e}}}loadScript(e){return new Promise((t,n)=>{if(document.querySelector(`script[src="${e}"]`))return void t();let o=document.createElement("script");o.src=e,o.onload=t,o.onerror=n,document.head.appendChild(o)})}setupBrython(){if(window.brython)try{window.brython({debug:1,pythonpath:["./libs/"]}),window.__BRYTHON__&&(window.__BRYTHON__.builtins.print=(...e)=>{let t=e.map(e=>{if("object"==typeof e&&null!==e)try{return JSON.stringify(e)}catch(e){}return String(e)}).join(" ");this.shouldDisplayOutput(t)&&this.addOutput(t),console.log("Python:",t)}),this.initialized=!0;let e=window.Matter?"with Matter.js physics":"with simple physics fallback";console.log(`Brython initialized successfully ${e}`)}catch(e){throw console.error("Brython setup error:",e),e}}shouldDisplayOutput(e){return"console"===this.currentMode||("pixi"===this.currentMode?!["\uD83C\uDFAE Game Engine","⚡ Physics Engine","✅ Tất cả functions","\uD83D\uDD27 Debug: Available functions","Game Engine sẵn sàng","Game Engine với hỗ trợ","Physics Engine sẵn sàng","Matter.js engine loaded","functions đã được tải","functions đã được expose","Sử dụng: sprite()","PIXI app destroyed","Cache cleanup","Cleanup warning","Matter engine cleanup","Physics engine cleared"].some(t=>e.includes(t))||e.includes("❌")||e.includes("Lỗi"):(this.currentMode,!0))}addOutput(e){if(this.outputRef?.current){let t=document.createElement("div");t.textContent=e,t.style.color=this.getOutputColor(e),t.style.marginBottom="2px",t.style.lineHeight="1.4",this.outputRef.current.appendChild(t),this.outputRef.current.scrollTop=this.outputRef.current.scrollHeight}}getOutputColor(e){return e.includes("✅")?"#4ade80":e.includes("\uD83C\uDFAE")?"#fbbf24":e.includes("⚡")||e.includes("Physics")?"#a78bfa":e.includes("❌")||e.includes("LỖI:")?"#f87171":e.includes("\uD83D\uDD27")||e.includes("Debug:")?"#94a3b8":e.includes("\uD83D\uDC26")||e.includes("\uD83D\uDC1F")||e.includes("\uD83E\uDD88")?"#60a5fa":e.includes("\uD83C\uDFAF")||e.includes("Điểm:")?"#34d399":e.includes("\uD83D\uDCA5")||e.includes("Game Over")?"#f59e0b":e.includes("\uD83C\uDFC6")||e.includes("Kỷ lục")?"#fde047":e.includes("\uD83D\uDD04")?"#a78bfa":e.includes("⚙️")||e.includes("collision")?"#fb7185":"#10b981"}cleanup(e=null){this.executionCount++;try{console.log(`\u{1F9F9} BrythonLoader cleanup for mode: ${e||"all"}`),this.clearPythonScripts(),("pixi"===e||null===e)&&(this.cleanupPixi(),this.cleanupMatter()),("turtle"===e||null===e)&&this.cleanupTurtle(),this.resetInputSystem(),null===e&&this.clearOutput(),console.log("✅ BrythonLoader cleanup completed")}catch(e){console.error("Cleanup error:",e)}}clearPythonScripts(){let e=document.querySelectorAll('script[type="text/python"]');e.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),console.log(`\u{1F9F9} Cleared ${e.length} Python scripts`)}cleanupPixi(){if(console.log("\uD83E\uDDF9 Cleaning up Pixi..."),window.pixiApp)try{window.pixiApp.destroy(!0,!0),window.pixiApp=null,console.log("✅ Pixi app destroyed")}catch(e){console.log("⚠️ Error destroying pixi app:",e)}if(window._pixi_key_handlers)try{window._pixi_key_handlers.forEach(e=>{document.removeEventListener("keydown",e.down),document.removeEventListener("keyup",e.up)}),window._pixi_key_handlers=[],console.log("✅ Pixi key handlers removed")}catch(e){console.log("⚠️ Error removing pixi key handlers:",e)}if(window.PIXI)try{if(window.PIXI.utils&&window.PIXI.utils.TextureCache)for(let e in window.PIXI.utils.TextureCache)window.PIXI.utils.TextureCache[e].destroy&&window.PIXI.utils.TextureCache[e].destroy(!0);console.log("✅ Pixi cache cleared")}catch(e){console.log("⚠️ Error clearing PIXI cache:",e)}}cleanupMatter(){console.log("\uD83E\uDDF9 Cleaning up Matter.js physics...");try{window.matterEngine&&window.Matter&&(window.matterEngine.world&&(window.Matter.World.clear(window.matterEngine.world),window.Matter.Engine.clear(window.matterEngine)),window.matterEngine=null,console.log("✅ Matter.js engine cleared")),window._physics_sprites&&(window._physics_sprites.forEach(e=>{try{e.body&&window.matterEngine&&window.Matter.Composite.remove(window.matterEngine.world,e.body)}catch(e){console.log("⚠️ Error removing physics body:",e)}}),window._physics_sprites=[],console.log("✅ Physics sprites cleared"))}catch(e){console.log("⚠️ Error cleaning up Matter.js:",e)}}cleanupTurtle(){if(console.log("\uD83E\uDDF9 Cleaning up Turtle..."),window.__BRYTHON__&&window.__BRYTHON__.imported)try{window.__BRYTHON__.imported.turtle&&delete window.__BRYTHON__.imported.turtle,["turtle","_turtle"].forEach(e=>{window.__BRYTHON__.imported[e]&&delete window.__BRYTHON__.imported[e]}),console.log("✅ Turtle modules cleared")}catch(e){console.log("⚠️ Error clearing turtle modules:",e)}}resetInputSystem(){console.log("\uD83E\uDDF9 Resetting input system...");try{window.async_input&&(window.async_input=null),window.__BRYTHON__&&window.__BRYTHON__.builtins&&window.__BRYTHON__.builtins.async_input&&(window.__BRYTHON__.builtins.async_input=null),console.log("✅ Input system reset completed")}catch(e){console.error("❌ Error resetting input system:",e)}}clearOutput(){this.outputRef?.current&&(this.outputRef.current.innerHTML="")}async forceReload(){this.initialized=!1,this.cleanup(),document.querySelectorAll('script[src*="brython"], script[src*="matter"]').forEach(e=>e.remove()),window.__BRYTHON__&&(window.__BRYTHON__=void 0),window.brython&&(window.brython=void 0),window.Matter&&(window.Matter=void 0),window.matterEngine&&(window.matterEngine=void 0),await this.loadBrython()}getStats(){return{initialized:this.initialized,executionCount:this.executionCount,currentMode:this.currentMode,hasPixi:!!window.PIXI,hasBrython:!!window.brython,hasMatter:!!window.Matter,hasPixiApp:!!window.pixiApp,hasMatterEngine:!!window.matterEngine,hasAsyncInput:!!window.async_input,hasBrythonAsyncInput:!!(window.__BRYTHON__&&window.__BRYTHON__.builtins&&window.__BRYTHON__.builtins.async_input),physicsSprites:window._physics_sprites?window._physics_sprites.length:0}}setMode(e){this.currentMode=e,console.log(`\u{1F4DD} Mode set to: ${e}`)}isReady(){let e=this.initialized&&window.brython&&window.__BRYTHON__,t=window.Matter&&window.matterEngine;return console.log(`\u{1F50D} Brython ready: ${e}, Physics ready: ${t}`),e}debugInputSystem(){console.log("\uD83D\uDD0D Input System Debug:"),console.log("- window.async_input:",!!window.async_input),console.log("- __BRYTHON__.builtins.async_input:",!!(window.__BRYTHON__&&window.__BRYTHON__.builtins&&window.__BRYTHON__.builtins.async_input)),console.log("- Brython initialized:",this.initialized),console.log("- Matter.js available:",!!window.Matter),console.log("- Matter engine:",!!window.matterEngine),console.log("- Current mode:",this.currentMode)}debugPhysicsSystem(){console.log("\uD83D\uDD0D Physics System Debug:"),console.log("- Matter.js loaded:",!!window.Matter),console.log("- Engine created:",!!window.matterEngine),console.log("- Physics sprites:",window._physics_sprites?window._physics_sprites.length:0),window.matterEngine&&(console.log("- Bodies in world:",window.matterEngine.world.bodies.length),console.log("- Gravity:",window.matterEngine.gravity))}};const tL=()=>`
from browser import window, document, console
import random
import math

# Setup PixiJS with Enhanced Physics + Auto-Initialize Dynamic Properties
container = document.getElementById('pixi-canvas-container')
if container:
    # Enhanced cleanup with complete resource management
    if hasattr(window, 'pixiApp') and window.pixiApp:
        try:
            window.pixiApp.destroy(True, True)
            window.pixiApp = None
        except Exception as e:
            console.log(f"\u{1F527} Cleanup warning: {e}")
    
    # Clear Matter.js engine if exists
    if hasattr(window, 'matterEngine') and window.matterEngine:
        try:
            if hasattr(window, 'Matter'):
                window.Matter.World.clear(window.matterEngine.world)
                window.Matter.Engine.clear(window.matterEngine)
            window.matterEngine = None
        except Exception as e:
            console.log(f"\u{1F527} Matter engine cleanup: {e}")
    
    # Clear container and cached textures
    container.innerHTML = ''
    
    # Clear PIXI texture cache to prevent memory leaks
    if hasattr(window, 'PIXI') and hasattr(window.PIXI, 'utils') and hasattr(window.PIXI.utils, 'TextureCache'):
        try:
            cache = window.PIXI.utils.TextureCache
            for key in list(cache.keys()):
                if hasattr(cache[key], 'destroy'):
                    cache[key].destroy(True)
            window.PIXI.utils.clearTextureCache()
        except Exception as e:
            console.log(f"\u{1F527} Cache cleanup: {e}")
    
    # Create PIXI application with optimized settings
    PIXI = window.PIXI
    app_config = {
        'width': 800, 'height': 600,
        'backgroundColor': 0x87CEEB,  # Sky blue
        'antialias': True,
        'resolution': 1,
        'autoDensity': True
    }
    
    try:
        if hasattr(PIXI, 'Application'):
            app = PIXI.Application['new'](app_config)
        else:
            app = PIXI.Application(app_config)
        
        container.appendChild(app.view)
        
        # Create graphics object for shape generation
        if hasattr(PIXI, 'Graphics'):
            graphic = PIXI.Graphics['new']()
        else:
            graphic = PIXI.Graphics()
            
    except Exception as e:
        console.error(f"\u{274C} L\u{1ED7}i kh\u{1EDF}i t\u{1EA1}o PIXI: {e}")
        raise e

    # Enhanced Matter.js Physics Integration
    Matter = None
    try:
        Matter = window.Matter
        if Matter:
            console.log("\u{2705} Matter.js detected! Initializing advanced physics...")
            
            # Create Matter.js physics engine with optimized settings
            engine = Matter.Engine.create()
            window.matterEngine = engine
            
            # Configure physics world
            engine.gravity.x = 0
            engine.gravity.y = 1
            engine.constraintIterations = 2
            engine.positionIterations = 6
            engine.velocityIterations = 4
            
            # Create world boundaries
            ground = Matter.Bodies.rectangle(400, 610, 810, 60, {'isStatic': True, 'label': 'ground'})
            leftWall = Matter.Bodies.rectangle(-10, 300, 60, 620, {'isStatic': True, 'label': 'leftWall'})
            rightWall = Matter.Bodies.rectangle(810, 300, 60, 620, {'isStatic': True, 'label': 'rightWall'})
            ceiling = Matter.Bodies.rectangle(400, -10, 810, 60, {'isStatic': True, 'label': 'ceiling'})
            
            Matter.World.add(engine.world, [ground, leftWall, rightWall, ceiling])
            console.log("\u{26A1} Matter.js Physics Engine Ready with world boundaries!")
        else:
            console.log("\u{26A0}\u{FE0F} Matter.js not available - using enhanced simple physics")
    except Exception as e:
        console.log(f"\u{26A0}\u{FE0F} Matter.js initialization error: {e}")
        Matter = None
    
    # Enhanced Simple Physics Fallback System
    if not Matter:
        console.log("\u{1F527} Initializing Enhanced Simple Physics Engine...")
        
        # Physics world configuration
        class PhysicsWorld:
            def __init__(self):
                self.gravity = {'x': 0, 'y': 0.5}
                self.bounds = {'width': 800, 'height': 600}
                self.bodies = []
                self.air_resistance = 0.99
                self.bounce_damping = 0.95
        
        window.simplePhysics = PhysicsWorld()
        console.log("\u{26A1} Enhanced Simple Physics Engine Ready!")
        
    # Initialize physics sprites tracking
    window._physics_sprites = []
    
    # Enhanced Keyboard System with better conflict handling
    keys = {}
    key_list = [
        # Movement keys
        ' ', 'w', 'a', 's', 'd', 'r', 'p', 't', 'e', 'q', 'f', 'g', 'h', 'j', 'k', 'l', 
        'z', 'x', 'c', 'v', 'b', 'n', 'm', 'y', 'u', 'i', 'o',
        # Arrow keys
        'ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight',
        # Number keys
        '1', '2', '3', '4', '5', '6', '7', '8', '9', '0',
        # Special keys
        'Enter', 'Escape', 'Shift', 'Control', 'Alt', 'Tab', 'Backspace'
    ]
    
    for k in key_list:
        keys[k] = False

    def key_handler(e, pressed):
        key = e.key
        if key in keys:
            keys[key] = pressed
            if pressed:
                console.log("\u{1F3AE} Key pressed: " + str(key))
            
            # Prevent default only for game-relevant keys, not input fields
            target = e.target
            if hasattr(target, 'tagName') and target.tagName.lower() not in ['input', 'textarea', 'select']:
                if key in [' ', 'ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight']:
                    e.preventDefault()

    # Clean up old keyboard listeners to prevent conflicts
    try:
        if hasattr(window, '_pixi_key_handlers'):
            for handler in window._pixi_key_handlers:
                try:
                    document.removeEventListener('keydown', handler['down'])
                    document.removeEventListener('keyup', handler['up'])
                except:
                    pass
            window._pixi_key_handlers = []
    except:
        pass
    
    # Create new optimized keyboard handlers
    keydown_handler = lambda e: key_handler(e, True)
    keyup_handler = lambda e: key_handler(e, False)
    
    window._pixi_key_handlers = [{
        'down': keydown_handler,
        'up': keyup_handler
    }]
    
    document.addEventListener('keydown', keydown_handler)
    document.addEventListener('keyup', keyup_handler)
    
    def isKeyPressed(k): 
        return keys.get(k, False)
    
    # Enhanced Color System with more colors and validation
    def _color(c):
        if isinstance(c, str):
            if c.startswith('#'):
                try:
                    return int(c[1:], 16)
                except ValueError:
                    return 0x000000
            
            # Extended color palette
            colors = {
                # Basic colors
                'red': 0xff0000, 'green': 0x00ff00, 'blue': 0x0000ff,
                'white': 0xffffff, 'black': 0x000000, 'yellow': 0xffff00,
                'cyan': 0x00ffff, 'magenta': 0xff00ff, 'orange': 0xffa500,
                'purple': 0x800080, 'pink': 0xffc0cb, 'brown': 0xa52a2a,
                'gray': 0x808080, 'grey': 0x808080,
                
                # Extended colors
                'darkred': 0x8b0000, 'lightgreen': 0x90ee90, 'darkgreen': 0x006400,
                'lightblue': 0xadd8e6, 'darkblue': 0x00008b, 'skyblue': 0x87ceeb,
                'lime': 0x32cd32, 'gold': 0xffd700, 'silver': 0xc0c0c0,
                'maroon': 0x800000, 'navy': 0x000080, 'olive': 0x808000,
                'teal': 0x008080, 'aqua': 0x00ffff, 'fuchsia': 0xff00ff,
                
                # Game colors
                'crimson': 0xdc143c, 'coral': 0xff7f50, 'salmon': 0xfa8072,
                'khaki': 0xf0e68c, 'plum': 0xdda0dd, 'orchid': 0xda70d6,
                'turquoise': 0x40e0d0, 'violet': 0xee82ee, 'indigo': 0x4b0082
            }
            return colors.get(c.lower(), 0x000000)
        
        # Handle numeric colors
        if isinstance(c, (int, float)):
            return int(c) & 0xffffff  # Ensure valid color range
        
        return 0x000000

    # ===========================================
    # ENHANCED PHYSICS FUNCTIONS
    # ===========================================
    
    def setGravity(x=0, y=1):
        """Set global gravity for physics world"""
        if Matter and hasattr(window, 'matterEngine') and window.matterEngine:
            window.matterEngine.gravity.x = x
            window.matterEngine.gravity.y = y
            console.log(f"\u{26A1} Matter.js gravity set to ({x}, {y})")
        elif hasattr(window, 'simplePhysics'):
            window.simplePhysics.gravity['x'] = x
            window.simplePhysics.gravity['y'] = y
            console.log(f"\u{26A1} Simple physics gravity set to ({x}, {y})")
        else:
            console.log("\u{26A0}\u{FE0F} No physics engine available - setGravity ignored")
            
    def addPhysics(sprite_obj, body_type='rect', options=None):
        """Add physics body to sprite with enhanced options"""
        options = options or {}
        
        # Matter.js physics (preferred)
        if Matter and hasattr(window, 'matterEngine') and window.matterEngine:
            try:
                x = sprite_obj.sprite.x
                y = sprite_obj.sprite.y
                width = sprite_obj.sprite.width
                height = sprite_obj.sprite.height
                
                # Create physics body based on type
                if body_type == 'rect' or body_type == 'rectangle':
                    body = Matter.Bodies.rectangle(x, y, width, height, options)
                elif body_type == 'circle':
                    radius = min(width, height) / 2
                    body = Matter.Bodies.circle(x, y, radius, options)
                elif body_type == 'polygon':
                    sides = options.get('sides', 6)
                    radius = min(width, height) / 2
                    body = Matter.Bodies.polygon(x, y, sides, radius, options)
                else:
                    # Default to rectangle
                    body = Matter.Bodies.rectangle(x, y, width, height, options)
                
                # Add to physics world
                Matter.World.add(window.matterEngine.world, body)
                
                # Configure sprite for physics
                sprite_obj.body = body
                sprite_obj.hasPhysics = True
                sprite_obj.physicsType = 'matter'
                sprite_obj.bodyType = body_type
                
                # Track physics sprites
                if not hasattr(window, '_physics_sprites'):
                    window._physics_sprites = []
                window._physics_sprites.append(sprite_obj)
                
                console.log(f"\u{26A1} Matter.js physics added: {body_type} to sprite")
                return sprite_obj
                
            except Exception as e:
                console.error(f"\u{274C} Error adding Matter.js physics: {e}")
                
        # Simple physics fallback
        elif hasattr(window, 'simplePhysics'):
            try:
                # Create physics properties
                sprite_obj.velocity = {'x': 0, 'y': 0}
                sprite_obj.acceleration = {'x': 0, 'y': 0}
                sprite_obj.mass = options.get('mass', 1)
                sprite_obj.restitution = options.get('restitution', 0.5)
                sprite_obj.friction = options.get('friction', 0.1)
                sprite_obj.isStatic = options.get('isStatic', False)
                sprite_obj.hasPhysics = True
                sprite_obj.physicsType = 'simple'
                sprite_obj.bodyType = body_type
                
                # Add to simple physics system
                window.simplePhysics.bodies.append(sprite_obj)
                
                # Track physics sprites
                if not hasattr(window, '_physics_sprites'):
                    window._physics_sprites = []
                window._physics_sprites.append(sprite_obj)
                
                console.log(f"\u{26A1} Simple physics added: {body_type} to sprite")
                return sprite_obj
                
            except Exception as e:
                console.error(f"\u{274C} Error adding simple physics: {e}")
        else:
            console.log("\u{26A0}\u{FE0F} No physics engine available - addPhysics ignored")
            
        return sprite_obj

    # ===========================================
    # ENHANCED IMAGE LOADING WITH CORS HANDLING
    # ===========================================
    
    def image(url):
        """Enhanced image loading with CORS handling and comprehensive fallbacks"""
        try:
            # Handle different URL types
            if url.startswith('data:') or url.startswith('blob:'):
                # Data URLs and blob URLs are safe
                return PIXI.Texture['from'](url)
            elif url.startswith('./') or url.startswith('/') or not url.startswith('http'):
                # Local URLs - try direct loading
                return PIXI.Texture['from'](url)
            else:
                # External URLs - handle CORS properly
                try:
                    # Method 1: Try with crossOrigin
                    baseTexture = PIXI.BaseTexture['from'](url, {'crossOrigin': 'anonymous'})
                    return PIXI.Texture['new'](baseTexture)
                except Exception as cors_error:
                    console.log(f"\u{26A0}\u{FE0F} CORS issue with {url}, trying alternative methods...")
                    
                    try:
                        # Method 2: Try without crossOrigin
                        return PIXI.Texture['from'](url)
                    except Exception as final_error:
                        console.error(f"\u{274C} Cannot load image from {url}: {final_error}")
                        
                        # Method 3: Create fallback colored rectangle
                        console.log("\u{1F527} Creating fallback texture...")
                        return rect(50, 50, {'fill': 'red', 'alpha': 0.8})
                        
        except Exception as e:
            console.error(f"\u{274C} Unexpected error loading image {url}: {e}")
            # Final fallback
            return rect(50, 50, {'fill': 'gray'})

    # Enhanced background function with tiling support
    def background(texture_or_url, props=None):
        """Create tiling background with enhanced options"""
        props = props or {}
        
        try:
            # Get texture
            if isinstance(texture_or_url, str):
                texture = image(texture_or_url)
            else:
                texture = texture_or_url
                
            # Configuration
            x = props.get('x', 400)  # Center X
            y = props.get('y', 300)  # Center Y
            anchor = props.get('anchor', 0.5)
            scale = props.get('scale', None)
            scaleX = props.get('scaleX', None)
            scaleY = props.get('scaleY', None)
            width = props.get('width', 800)
            height = props.get('height', 600)
            alpha = props.get('alpha', 1.0)
            tint = props.get('tint', None)
            
            # Create TilingSprite for seamless backgrounds
            if hasattr(PIXI, 'TilingSprite'):
                tiling_sprite = PIXI.TilingSprite['new'](texture, width, height)
            else:
                tiling_sprite = PIXI.TilingSprite(texture, width, height)
                
            # Configure sprite
            tiling_sprite.anchor.set(anchor)
            tiling_sprite.position.x = x
            tiling_sprite.position.y = y
            tiling_sprite.alpha = alpha
            tiling_sprite.interactive = True
            
            # Apply scaling
            if scale:
                tiling_sprite.tileScale.x = scale
                tiling_sprite.tileScale.y = scale
            if scaleX:
                tiling_sprite.tileScale.x = scaleX
            if scaleY:
                tiling_sprite.tileScale.y = scaleY
            
            # Apply tint
            if tint:
                tiling_sprite.tint = _color(tint)
                
            app.stage.addChild(tiling_sprite)
            return tiling_sprite
            
        except Exception as e:
            console.error(f"\u{274C} Error creating background: {e}")
            return None

    # ===========================================
    # ENHANCED SPRITE CLASS WITH AUTO-INITIALIZE
    # ===========================================
    
    class SimpleSprite:
        def __init__(self, tex, **props):
            try:
                # Initialize dynamic properties storage FIRST - CRITICAL!
                self._dynamic_props = {}
                
                # Create PIXI sprite
                if hasattr(PIXI, 'Sprite'):
                    self.sprite = PIXI.Sprite['new'](tex)
                else:
                    self.sprite = PIXI.Sprite(tex)
                    
                # Configure sprite
                self.sprite.anchor.set(0.5)
                self.sprite.x = props.get('x', 0)
                self.sprite.y = props.get('y', 0)
                
                # Apply initial properties
                if props.get('tint'): 
                    self.sprite.tint = _color(props['tint'])
                if props.get('alpha'):
                    self.sprite.alpha = props['alpha']
                if props.get('rotation'):
                    self.sprite.rotation = props['rotation'] * 3.14159 / 180
                if props.get('scale'):
                    scale = props['scale']
                    if isinstance(scale, (int, float)):
                        self.sprite.scale.set(scale)
                    else:
                        self.sprite.scale.x = scale.get('x', 1)
                        self.sprite.scale.y = scale.get('y', 1)
                        
                # Physics properties
                self.body = None
                self.hasPhysics = False
                self.physicsType = None
                self.bodyType = None
                
                # Pre-initialize common game properties for performance
                common_props = {
                    'vx': 0, 'vy': 0, 'speed': 0, 'direction': 0,
                    'health': 100, 'score': 0, 'lives': 3, 'energy': 100,
                    'power': 1, 'level': 1, 'experience': 0,
                    'damage': 10, 'defense': 5, 'range': 50,
                    'cooldown': 0, 'timer': 0, 'counter': 0
                }
                
                for prop, value in common_props.items():
                    self._dynamic_props[prop] = value
                
            except Exception as e:
                console.error(f"\u{274C} Error creating sprite: {e}")
                raise e
        
        # ===========================================
        # ENHANCED DYNAMIC PROPERTY SYSTEM
        # ===========================================
        
        def __setattr__(self, name, value):
            """Enhanced attribute setter with intelligent routing"""
            # Built-in attributes that bypass dynamic properties
            builtin_attrs = {
                'sprite', 'body', 'hasPhysics', 'physicsType', 'bodyType', '_dynamic_props',
                'velocity', 'acceleration', 'mass', 'restitution', 'friction', 'isStatic'
            }
            
            if name in builtin_attrs or name.startswith('_'):
                # Set built-in attributes normally
                object.__setattr__(self, name, value)
            else:
                # Route to dynamic properties system
                if hasattr(self, '_dynamic_props'):
                    self._dynamic_props[name] = value
                    console.log(f"\u{1F527} Dynamic property set: {name} = {value}")
                else:
                    # Fallback during initialization
                    object.__setattr__(self, name, value)
        
        def __getattr__(self, name):
            """Enhanced attribute getter with auto-initialization"""
            # Check if it's already a dynamic property
            if hasattr(self, '_dynamic_props') and name in self._dynamic_props:
                return self._dynamic_props[name]
            
            # AUTO-INITIALIZE: Numeric properties get default value 0
            numeric_keywords = [
                'vx', 'vy', 'vz', 'velocity', 'speed', 'acceleration', 'force',
                'x_vel', 'y_vel', 'dx', 'dy', 'dz',
                'health', 'hp', 'life', 'lives', 'mana', 'energy', 'stamina',
                'score', 'points', 'exp', 'experience', 'level', 'rank',
                'damage', 'attack', 'defense', 'armor', 'shield', 'power',
                'range', 'radius', 'distance', 'angle', 'rotation', 'direction',
                'timer', 'time', 'cooldown', 'delay', 'duration', 'counter',
                'count', 'amount', 'quantity', 'number', 'index', 'id',
                'mass', 'weight', 'density', 'bounce', 'friction', 'scale',
                'width', 'height', 'size', 'length', 'area', 'volume',
                'rate', 'frequency', 'intensity', 'strength', 'magnitude',
                'min', 'max', 'limit', 'threshold', 'multiplier', 'factor'
            ]
            
            # Check if property name contains numeric keywords
            name_lower = name.lower()
            if any(keyword in name_lower for keyword in numeric_keywords):
                if hasattr(self, '_dynamic_props'):
                    # Auto-initialize with appropriate default
                    if 'health' in name_lower or 'hp' in name_lower:
                        default_value = 100
                    elif 'lives' in name_lower:
                        default_value = 3
                    elif 'energy' in name_lower or 'mana' in name_lower:
                        default_value = 100
                    elif 'damage' in name_lower or 'attack' in name_lower:
                        default_value = 10
                    elif 'defense' in name_lower or 'armor' in name_lower:
                        default_value = 5
                    elif 'level' in name_lower:
                        default_value = 1
                    elif 'power' in name_lower or 'strength' in name_lower:
                        default_value = 1
                    else:
                        default_value = 0
                    
                    self._dynamic_props[name] = default_value
                    console.log(f"\u{1F527} Auto-initialized {name} = {default_value}")
                    return default_value
            
            # String properties get empty string
            string_keywords = ['name', 'type', 'state', 'status', 'mode', 'behavior', 'weapon']
            if any(keyword in name_lower for keyword in string_keywords):
                if hasattr(self, '_dynamic_props'):
                    self._dynamic_props[name] = ""
                    console.log(f"\u{1F527} Auto-initialized {name} = ''")
                    return ""
            
            # Boolean properties get False
            bool_keywords = ['active', 'enabled', 'visible', 'alive', 'dead', 'moving', 'static']
            if any(keyword in name_lower for keyword in bool_keywords):
                if hasattr(self, '_dynamic_props'):
                    self._dynamic_props[name] = False
                    console.log(f"\u{1F527} Auto-initialized {name} = False")
                    return False
            
            # If not auto-initializable, raise AttributeError
            raise AttributeError(f"'{type(self).__name__}' object has no attribute '{name}'")
        
        # ===========================================
        # SPRITE POSITION PROPERTIES
        # ===========================================
        
        @property
        def x(self): 
            return self.sprite.x
            
        @x.setter
        def x(self, value):
            self.sprite.x = float(value)
            # Update physics body if exists
            if self.body and Matter and hasattr(self.body, 'position'):
                Matter.Body.setPosition(self.body, {'x': value, 'y': self.sprite.y})
            
        @property
        def y(self): 
            return self.sprite.y
            
        @y.setter  
        def y(self, value):
            self.sprite.y = float(value)
            # Update physics body if exists
            if self.body and Matter and hasattr(self.body, 'position'):
                Matter.Body.setPosition(self.body, {'x': self.sprite.x, 'y': value})
        
        # ===========================================
        # SPRITE SIZE PROPERTIES
        # ===========================================
        
        @property
        def width(self):
            return self.sprite.width
            
        @width.setter
        def width(self, value):
            self.sprite.width = float(value)
            
        @property
        def height(self):
            return self.sprite.height
            
        @height.setter
        def height(self, value):
            self.sprite.height = float(value)
        
        # ===========================================
        # SPRITE SCALE PROPERTIES
        # ===========================================
        
        @property
        def scale(self):
            return {'x': self.sprite.scale.x, 'y': self.sprite.scale.y}
            
        @scale.setter
        def scale(self, value):
            if isinstance(value, (int, float)):
                self.sprite.scale.set(float(value))
            elif isinstance(value, dict):
                self.sprite.scale.x = float(value.get('x', self.sprite.scale.x))
                self.sprite.scale.y = float(value.get('y', self.sprite.scale.y))
            
        @property
        def scaleX(self):
            return self.sprite.scale.x
            
        @scaleX.setter
        def scaleX(self, value):
            self.sprite.scale.x = float(value)
            
        @property
        def scaleY(self):
            return self.sprite.scale.y
            
        @scaleY.setter
        def scaleY(self, value):
            self.sprite.scale.y = float(value)
        
        # ===========================================
        # SPRITE ROTATION PROPERTIES
        # ===========================================
        
        @property
        def rotation(self):
            return self.sprite.rotation * 180 / 3.14159  # Convert to degrees
            
        @rotation.setter
        def rotation(self, value):
            angle_rad = float(value) * 3.14159 / 180  # Convert from degrees
            self.sprite.rotation = angle_rad
            # Update physics body rotation
            if self.body and Matter and hasattr(self.body, 'angle'):
                Matter.Body.setAngle(self.body, angle_rad)
        
        @property
        def angle(self):
            return self.rotation
            
        @angle.setter
        def angle(self, value):
            self.rotation = float(value)
        
        # ===========================================
        # SPRITE VISUAL PROPERTIES
        # ===========================================
        
        @property
        def alpha(self):
            return self.sprite.alpha
            
        @alpha.setter
        def alpha(self, value):
            self.sprite.alpha = max(0, min(1, float(value)))
            
        @property
        def tint(self):
            return self.sprite.tint
            
        @tint.setter
        def tint(self, value):
            self.sprite.tint = _color(value)
        
        @property
        def visible(self):
            return self.sprite.visible
            
        @visible.setter
        def visible(self, value):
            self.sprite.visible = bool(value)
        
        # ===========================================
        # SPRITE ANCHOR PROPERTIES
        # ===========================================
        
        @property
        def anchor(self):
            return {'x': self.sprite.anchor.x, 'y': self.sprite.anchor.y}
            
        @anchor.setter
        def anchor(self, value):
            if isinstance(value, (int, float)):
                self.sprite.anchor.set(float(value))
            elif isinstance(value, dict):
                self.sprite.anchor.x = float(value.get('x', self.sprite.anchor.x))
                self.sprite.anchor.y = float(value.get('y', self.sprite.anchor.y))
        
        @property
        def anchorX(self):
            return self.sprite.anchor.x
            
        @anchorX.setter
        def anchorX(self, value):
            self.sprite.anchor.x = float(value)
            
        @property
        def anchorY(self):
            return self.sprite.anchor.y
            
        @anchorY.setter
        def anchorY(self, value):
            self.sprite.anchor.y = float(value)

        # ===========================================
        # DYNAMIC PROPERTIES UTILITY METHODS
        # ===========================================
        
        def getDynamicProperty(self, name):
            """Get value of dynamic property with fallback"""
            if hasattr(self, '_dynamic_props'):
                return self._dynamic_props.get(name, 0)
            return 0
        
        def setDynamicProperty(self, name, value):
            """Set value of dynamic property"""
            if hasattr(self, '_dynamic_props'):
                self._dynamic_props[name] = value
                console.log(f"\u{1F527} Dynamic property updated: {name} = {value}")
        
        def listDynamicProperties(self):
            """List all dynamic properties"""
            if hasattr(self, '_dynamic_props'):
                return list(self._dynamic_props.keys())
            return []
        
        def clearDynamicProperties(self):
            """Clear all dynamic properties"""
            if hasattr(self, '_dynamic_props'):
                self._dynamic_props.clear()
                console.log("\u{1F9F9} Dynamic properties cleared")

        # ===========================================
        # ENHANCED PHYSICS METHODS
        # ===========================================
        
        def addPhysics(self, body_type='rect', options=None):
            """Add physics to this sprite"""
            return addPhysics(self, body_type, options)
            
        def setVelocity(self, vx, vy):
            """Set velocity for physics body"""
            if hasattr(self, 'body') and self.body and Matter:
                Matter.Body.setVelocity(self.body, {'x': float(vx), 'y': float(vy)})
                console.log(f"\u{26A1} Matter.js velocity set to ({vx}, {vy})")
            elif hasattr(self, 'velocity') and self.physicsType == 'simple':
                self.velocity['x'] = float(vx)
                self.velocity['y'] = float(vy)
                console.log(f"\u{26A1} Simple physics velocity set to ({vx}, {vy})")
            else:
                console.log("\u{26A0}\u{FE0F} No physics body - setVelocity ignored")
                
        def applyForce(self, fx, fy):
            """Apply force to physics body"""
            if hasattr(self, 'body') and self.body and Matter:
                force_point = self.body.position if hasattr(self.body, 'position') else {'x': self.x, 'y': self.y}
                Matter.Body.applyForce(self.body, force_point, {'x': float(fx), 'y': float(fy)})
                console.log(f"\u{26A1} Matter.js force applied: ({fx}, {fy})")
            elif hasattr(self, 'velocity') and self.physicsType == 'simple':
                # Convert force to velocity change for simple physics
                force_multiplier = 10 / max(1, getattr(self, 'mass', 1))
                self.velocity['x'] += float(fx) * force_multiplier
                self.velocity['y'] += float(fy) * force_multiplier
                console.log(f"\u{26A1} Simple physics force applied: ({fx}, {fy})")
            else:
                console.log("\u{26A0}\u{FE0F} No physics body - applyForce ignored")
                
        def setStatic(self, is_static):
            """Set whether physics body is static"""
            if hasattr(self, 'body') and self.body and Matter:
                Matter.Body.setStatic(self.body, bool(is_static))
                console.log(f"\u{26A1} Matter.js static set to: {is_static}")
            elif hasattr(self, 'isStatic') and self.physicsType == 'simple':
                self.isStatic = bool(is_static)
                console.log(f"\u{26A1} Simple physics static set to: {is_static}")
            else:
                console.log("\u{26A0}\u{FE0F} No physics body - setStatic ignored")
                
        def setMass(self, mass):
            """Set mass of physics body"""
            mass = max(0.001, float(mass))  # Ensure positive mass
            if hasattr(self, 'body') and self.body and Matter:
                Matter.Body.setMass(self.body, mass)
                console.log(f"\u{26A1} Matter.js mass set to: {mass}")
            elif hasattr(self, 'mass') and self.physicsType == 'simple':
                self.mass = mass
                console.log(f"\u{26A1} Simple physics mass set to: {mass}")
            else:
                console.log("\u{26A0}\u{FE0F} No physics body - setMass ignored")
                
        def setDensity(self, density):
            """Set density of physics body"""
            density = max(0.001, float(density))
            if hasattr(self, 'body') and self.body and Matter:
                Matter.Body.setDensity(self.body, density)
                console.log(f"\u{26A1} Matter.js density set to: {density}")
            elif hasattr(self, 'mass') and self.physicsType == 'simple':
                # Approximate density by adjusting mass
                self.mass = density * 10
                console.log(f"\u{26A1} Simple physics density set to: {density}")
            else:
                console.log("\u{26A0}\u{FE0F} No physics body - setDensity ignored")
                
        def setBounce(self, restitution):
            """Set bounce/restitution of physics body"""
            restitution = max(0, min(1, float(restitution)))  # Clamp 0-1
            if hasattr(self, 'body') and self.body and Matter:
                self.body.restitution = restitution
                console.log(f"\u{26A1} Matter.js bounce set to: {restitution}")
            elif hasattr(self, 'restitution') and self.physicsType == 'simple':
                self.restitution = restitution
                console.log(f"\u{26A1} Simple physics bounce set to: {restitution}")
            else:
                console.log("\u{26A0}\u{FE0F} No physics body - setBounce ignored")
        
        def setFriction(self, friction):
            """Set friction of physics body"""
            friction = max(0, float(friction))
            if hasattr(self, 'body') and self.body and Matter:
                self.body.friction = friction
                console.log(f"\u{26A1} Matter.js friction set to: {friction}")
            elif hasattr(self, 'friction') and self.physicsType == 'simple':
                self.friction = friction
                console.log(f"\u{26A1} Simple physics friction set to: {friction}")
            else:
                console.log("\u{26A0}\u{FE0F} No physics body - setFriction ignored")
        
        # ===========================================
        # LEGACY METHODS (Backward Compatibility)
        # ===========================================
        
        def setPosition(self, x, y):
            """Legacy position setter"""
            self.x = float(x)
            self.y = float(y)
            
        def setTint(self, c): 
            """Legacy tint setter"""
            self.tint = c
            
        def setScale(self, sx, sy=None):
            """Legacy scale setter"""
            if sy is None:
                sy = sx
            self.sprite.scale.set(float(sx), float(sy))
            
        def setRotation(self, angle):
            """Legacy rotation setter (degrees)"""
            self.rotation = float(angle)
            
        def setAlpha(self, alpha):
            """Legacy alpha setter"""
            self.alpha = float(alpha)
        
        def setAnchor(self, anchorX, anchorY=None):
            """Legacy anchor setter"""
            if anchorY is None:
                anchorY = anchorX
            self.sprite.anchor.set(float(anchorX), float(anchorY))
        
        def setVisible(self, visible):
            """Legacy visibility setter"""
            self.visible = bool(visible)
        
        def remove(self):
            """Enhanced sprite removal with complete cleanup"""
            try:
                # Remove from physics world
                if hasattr(self, 'body') and self.body:
                    if Matter and window.matterEngine:
                        Matter.Composite.remove(window.matterEngine.world, self.body)
                    elif hasattr(window, 'simplePhysics') and self in window.simplePhysics.bodies:
                        window.simplePhysics.bodies.remove(self)
                    
                # Remove from physics sprites tracking
                if hasattr(window, '_physics_sprites') and self in window._physics_sprites:
                    window._physics_sprites.remove(self)
                    
                # Remove from display
                if self.sprite and self.sprite.parent: 
                    self.sprite.parent.removeChild(self.sprite)
                
                # Clear references
                self.body = None
                self.hasPhysics = False
                
                console.log("\u{1F5D1}\u{FE0F} Sprite removed successfully")
                
            except Exception as e:
                console.error(f"\u{26A0}\u{FE0F} Error removing sprite: {e}")

    # ===========================================
    # ENHANCED CREATION FUNCTIONS
    # ===========================================

    def sprite(tex, props=None):
        """Create and add sprite to stage"""
        props = props or {}
        try:
            s = SimpleSprite(tex, **props)
            app.stage.addChild(s.sprite)
            return s
        except Exception as e:
            console.error(f"\u{274C} Error creating sprite: {e}")
            return None

    def rect(w=10, h=10, style=None):
        """Create rectangle texture with enhanced styling"""
        style = style or {}
        try:
            graphic.clear()
            
            # Enhanced styling options
            border_width = style.get('bdW', style.get('borderWidth', 0))
            border_color = _color(style.get('bdC', style.get('borderColor', 'black')))
            fill_color = _color(style.get('fill', style.get('fillColor', 'black')))
            alpha = style.get('alpha', 1.0)
            corner_radius = style.get('cornerRadius', 0)
            
            # Draw shape
            graphic.lineStyle(border_width, border_color)
            graphic.beginFill(fill_color, alpha)
            
            if corner_radius > 0:
                graphic.drawRoundedRect(0, 0, w, h, corner_radius)
            else:
                graphic.drawRect(0, 0, w, h)
                
            graphic.endFill()
            return app.renderer.generateTexture(graphic)
            
        except Exception as e:
            console.error(f"\u{274C} Error creating rectangle: {e}")
            return None

    def circle(r=10, style=None):
        """Create circle texture with enhanced styling"""
        style = style or {}
        try:
            graphic.clear()
            
            # Enhanced styling
            border_width = style.get('bdW', style.get('borderWidth', 0))
            border_color = _color(style.get('bdC', style.get('borderColor', 'black')))
            fill_color = _color(style.get('fill', style.get('fillColor', 'black')))
            alpha = style.get('alpha', 1.0)
            
            # Draw circle
            graphic.lineStyle(border_width, border_color)
            graphic.beginFill(fill_color, alpha)
            graphic.drawCircle(0, 0, r)
            graphic.endFill()
            
            return app.renderer.generateTexture(graphic)
            
        except Exception as e:
            console.error(f"\u{274C} Error creating circle: {e}")
            return None

    def polygon(points, style=None):
        """Create polygon texture from points array"""
        style = style or {}
        try:
            graphic.clear()
            
            border_width = style.get('bdW', 0)
            border_color = _color(style.get('bdC', 'black'))
            fill_color = _color(style.get('fill', 'black'))
            alpha = style.get('alpha', 1.0)
            
            graphic.lineStyle(border_width, border_color)
            graphic.beginFill(fill_color, alpha)
            graphic.drawPolygon(points)
            graphic.endFill()
            
            return app.renderer.generateTexture(graphic)
            
        except Exception as e:
            console.error(f"\u{274C} Error creating polygon: {e}")
            return None

    def star(radius=20, points=5, style=None):
        """Create star shape texture"""
        style = style or {}
        try:
            graphic.clear()
            
            border_width = style.get('bdW', 0)
            border_color = _color(style.get('bdC', 'black'))
            fill_color = _color(style.get('fill', 'yellow'))
            alpha = style.get('alpha', 1.0)
            inner_radius = radius * 0.5
            
            graphic.lineStyle(border_width, border_color)
            graphic.beginFill(fill_color, alpha)
            
            # Generate star points
            star_points = []
            for i in range(points * 2):
                angle = (i * math.pi) / points
                r = radius if i % 2 == 0 else inner_radius
                x = r * math.cos(angle)
                y = r * math.sin(angle)
                star_points.extend([x, y])
            
            graphic.drawPolygon(star_points)
            graphic.endFill()
            
            return app.renderer.generateTexture(graphic)
            
        except Exception as e:
            console.error(f"\u{274C} Error creating star: {e}")
            return None

    # ===========================================
    # ENHANCED TEXT SYSTEM
    # ===========================================
    
    class SimpleText:
        def __init__(self, txt, style=None):
            style = style or {}
            try:
                # Enhanced text styling
                ts_config = {
                    'fill': _color(style.get('fill', 'white')), 
                    'fontSize': style.get('fontSize', 24),
                    'fontFamily': style.get('fontFamily', 'Arial'),
                    'align': style.get('align', 'center'),
                    'fontWeight': style.get('fontWeight', 'bold'),
                    'fontStyle': style.get('fontStyle', 'normal'),
                    'wordWrap': style.get('wordWrap', False),
                    'wordWrapWidth': style.get('wordWrapWidth', 400)
                }
                
                # Stroke styling
                if style.get('stroke'):
                    ts_config['stroke'] = _color(style.get('stroke', 'black'))
                    ts_config['strokeThickness'] = style.get('strokeThickness', 2)
                
                # Shadow styling
                if style.get('dropShadow'):
                    ts_config['dropShadow'] = True
                    ts_config['dropShadowColor'] = _color(style.get('dropShadowColor', 'black'))
                    ts_config['dropShadowBlur'] = style.get('dropShadowBlur', 4)
                    ts_config['dropShadowDistance'] = style.get('dropShadowDistance', 5)
                    
                # Create text style and text object
                if hasattr(PIXI, 'TextStyle'):
                    ts = PIXI.TextStyle['new'](ts_config)
                else:
                    ts = PIXI.TextStyle(ts_config)
                    
                if hasattr(PIXI, 'Text'):
                    self.text_obj = PIXI.Text['new'](str(txt), ts)
                else:
                    self.text_obj = PIXI.Text(str(txt), ts)
                    
                # Position and anchor
                self.text_obj.x = style.get('x', 0)
                self.text_obj.y = style.get('y', 0)
                self.text_obj.anchor.set(0.5)
                
                # Add to stage
                app.stage.addChild(self.text_obj)
                
            except Exception as e:
                console.error(f"\u{274C} Error creating text: {e}")
                raise e
                
        @property
        def text(self):
            return self.text_obj.text
            
        @text.setter 
        def text(self, value):
            self.text_obj.text = str(value)
            
        @property
        def x(self):
            return self.text_obj.x
            
        @x.setter
        def x(self, value):
            self.text_obj.x = float(value)
            
        @property
        def y(self):
            return self.text_obj.y
            
        @y.setter  
        def y(self, value):
            self.text_obj.y = float(value)
            
        @property
        def alpha(self):
            return self.text_obj.alpha
            
        @alpha.setter
        def alpha(self, value):
            self.text_obj.alpha = max(0, min(1, float(value)))
            
        @property
        def rotation(self):
            return self.text_obj.rotation * 180 / 3.14159
            
        @rotation.setter
        def rotation(self, value):
            self.text_obj.rotation = float(value) * 3.14159 / 180
            
        def remove(self):
            try:
                if self.text_obj.parent:
                    self.text_obj.parent.removeChild(self.text_obj)
            except Exception as e:
                console.error(f"\u{26A0}\u{FE0F} Error removing text: {e}")

    def text(txt, style=None):
        """Create text object with enhanced styling"""
        try:
            return SimpleText(txt, style)
        except Exception as e:
            console.error(f"\u{274C} Error creating text: {e}")
            return None

    # ===========================================
    # ENHANCED SOUND SYSTEM
    # ===========================================
    
    def sound(url):
        """Enhanced sound support with better error handling"""
        class SimpleSound:
            def __init__(self, url):
                self.url = url
                self.loaded = False
                self.audio = None
                self.volume = 1.0
                self.loop = False
                
                try:
                    if hasattr(window, 'Audio'):
                        self.audio = window.Audio['new'](url)
                    else:
                        self.audio = window.Audio(url)
                        
                    # Setup event handlers
                    self.audio.addEventListener('canplaythrough', lambda: setattr(self, 'loaded', True))
                    self.audio.addEventListener('error', lambda e: console.error(f"\u{1F50A} Audio error: {e}"))
                    
                    self.loaded = True
                    
                except Exception as e:
                    console.error(f"\u{26A0}\u{FE0F} Cannot load sound from {url}: {e}")
                    self.loaded = False
                
            def play(self):
                if not self.loaded or not self.audio:
                    return False
                try:
                    self.audio.currentTime = 0
                    self.audio.volume = self.volume
                    self.audio.loop = self.loop
                    promise = self.audio.play()
                    return True
                except Exception as e:
                    console.error(f"\u{1F50A} Cannot play sound: {e}")
                    return False
                    
            def stop(self):
                if not self.loaded or not self.audio:
                    return
                try:
                    self.audio.pause()
                    self.audio.currentTime = 0
                except Exception as e:
                    console.error(f"\u{1F50A} Cannot stop sound: {e}")
            
            def setVolume(self, vol):
                self.volume = max(0, min(1, float(vol)))
                if self.audio:
                    self.audio.volume = self.volume
            
            def setLoop(self, loop):
                self.loop = bool(loop)
                if self.audio:
                    self.audio.loop = self.loop
                    
        return SimpleSound(url)

    # ===========================================
    # ENHANCED MATH UTILITIES
    # ===========================================

    def distance(obj1, obj2=None, x2=None, y2=None):
        """Enhanced distance calculation with multiple signatures"""
        try:
            # Case 1: Two sprites/objects with x,y properties
            if hasattr(obj1, 'x') and hasattr(obj2, 'x') and x2 is None and y2 is None:
                x1, y1 = float(obj1.x), float(obj1.y)
                x2_val, y2_val = float(obj2.x), float(obj2.y)
                
            # Case 2: Sprite/object and point coordinates
            elif hasattr(obj1, 'x') and isinstance(obj2, (int, float)) and isinstance(x2, (int, float)):
                x1, y1 = float(obj1.x), float(obj1.y)
                x2_val, y2_val = float(obj2), float(x2)  # obj2 is x, x2 is y
                
            # Case 3: Four coordinate values
            elif isinstance(obj1, (int, float)) and isinstance(obj2, (int, float)) and isinstance(x2, (int, float)) and isinstance(y2, (int, float)):
                x1, y1 = float(obj1), float(obj2)
                x2_val, y2_val = float(x2), float(y2)
                
            else:
                console.error("\u{274C} Invalid distance parameters")
                return 0
                
            # Calculate Euclidean distance
            dx = x2_val - x1
            dy = y2_val - y1
            return math.sqrt(dx * dx + dy * dy)
            
        except Exception as e:
            console.error(f"\u{274C} Error calculating distance: {e}")
            return 0

    def collides(obj1, obj2=None, x=None, y=None):
        """Enhanced collision detection with multiple methods"""
        try:
            # Case 1: Two physics bodies (Matter.js)
            if (hasattr(obj1, 'body') and hasattr(obj2, 'body') and 
                Matter and obj1.body and obj2.body):
                collision = Matter.Collision.collides(obj1.body, obj2.body)
                return collision is not None and collision.collided
                
            # Case 2: Two sprites (bounding box collision)
            elif hasattr(obj1, 'sprite') and hasattr(obj2, 'sprite'):
                bounds1 = obj1.sprite.getBounds()
                bounds2 = obj2.sprite.getBounds()
                
                return not (bounds1.x + bounds1.width < bounds2.x or
                          bounds2.x + bounds2.width < bounds1.x or
                          bounds1.y + bounds1.height < bounds2.y or
                          bounds2.y + bounds2.height < bounds1.y)
                          
            # Case 3: Sprite and point collision
            elif hasattr(obj1, 'sprite') and isinstance(obj2, (int, float)) and isinstance(x, (int, float)):
                bounds = obj1.sprite.getBounds()
                px, py = float(obj2), float(x)  # obj2 is x, x is y
                
                return (bounds.x <= px <= bounds.x + bounds.width and
                       bounds.y <= py <= bounds.y + bounds.height)
            
            # Case 4: Circle collision (if sprites have radius property)
            elif (hasattr(obj1, 'radius') and hasattr(obj2, 'radius') and
                  hasattr(obj1, 'x') and hasattr(obj2, 'x')):
                dist = distance(obj1, obj2)
                return dist <= (obj1.radius + obj2.radius)
                       
            else:
                return False
                
        except Exception as e:
            console.error(f"\u{274C} Error checking collision: {e}")
            return False

    def pointInCircle(x, y, cx, cy, radius):
        """Check if point is inside circle"""
        try:
            return distance(x, y, cx, cy) <= float(radius)
        except:
            return False

    def pointInRect(x, y, rx, ry, width, height):
        """Check if point is inside rectangle"""
        try:
            return (float(rx) <= float(x) <= float(rx) + float(width) and
                   float(ry) <= float(y) <= float(ry) + float(height))
        except:
            return False

    def angle_between(x1, y1, x2, y2):
        """Calculate angle between two points in degrees"""
        try:
            return math.atan2(float(y2) - float(y1), float(x2) - float(x1)) * 180 / math.pi
        except:
            return 0

    def clamp(value, min_val, max_val):
        """Clamp value between min and max"""
        return max(min_val, min(max_val, value))

    def lerp(a, b, t):
        """Linear interpolation between a and b"""
        t = clamp(t, 0, 1)
        return a + (b - a) * t

    def normalize_angle(angle):
        """Normalize angle to 0-360 degrees"""
        while angle < 0:
            angle += 360
        while angle >= 360:
            angle -= 360
        return angle

    # ===========================================
    # ENHANCED GAME LOOP SYSTEM
    # ===========================================

    current_loop = None
    loop_running = False
    physics_enabled = True
    
    def game_loop(cb): 
        """Set the main game loop function"""
        global current_loop, loop_running
        current_loop = cb
        loop_running = True
        console.log("\u{1F3AE} Game loop started!")

    def stop_game_loop():
        """Stop the game loop"""
        global loop_running
        loop_running = False
        console.log("\u{23F9}\u{FE0F} Game loop stopped")

    def tick(dt):
        """Main game tick function with enhanced physics"""
        global loop_running
        
        if not loop_running:
            return
            
        try:
            # Update Matter.js physics
            if physics_enabled and Matter and window.matterEngine:
                Matter.Engine.update(window.matterEngine, 1000/60)
                
                # Sync sprite positions with physics bodies
                if hasattr(window, '_physics_sprites'):
                    for sprite_obj in window._physics_sprites:
                        if (sprite_obj.body and sprite_obj.sprite and 
                            hasattr(sprite_obj, 'physicsType') and sprite_obj.physicsType == 'matter'):
                            try:
                                sprite_obj.sprite.x = sprite_obj.body.position.x
                                sprite_obj.sprite.y = sprite_obj.body.position.y
                                sprite_obj.sprite.rotation = sprite_obj.body.angle
                            except Exception as e:
                                console.error(f"\u{274C} Physics sync error: {e}")
            
            # Update simple physics
            elif physics_enabled and hasattr(window, 'simplePhysics'):
                gravity = window.simplePhysics.gravity
                bounds = window.simplePhysics.bounds
                air_resistance = window.simplePhysics.air_resistance
                
                for sprite_obj in window._physics_sprites:
                    if (hasattr(sprite_obj, 'velocity') and 
                        hasattr(sprite_obj, 'physicsType') and sprite_obj.physicsType == 'simple' and
                        not getattr(sprite_obj, 'isStatic', False)):
                        
                        try:
                            # Apply gravity
                            sprite_obj.velocity['x'] += gravity['x']
                            sprite_obj.velocity['y'] += gravity['y']
                            
                            # Apply air resistance
                            sprite_obj.velocity['x'] *= air_resistance
                            sprite_obj.velocity['y'] *= air_resistance
                            
                            # Apply friction if on ground
                            if sprite_obj.sprite.y >= bounds['height'] - 30:  # Near ground
                                friction = getattr(sprite_obj, 'friction', 0.1)
                                sprite_obj.velocity['x'] *= (1 - friction)
                            
                            # Update position
                            sprite_obj.sprite.x += sprite_obj.velocity['x']
                            sprite_obj.sprite.y += sprite_obj.velocity['y']
                            
                            # Enhanced boundary collision
                            restitution = getattr(sprite_obj, 'restitution', 0.5)
                            
                            if sprite_obj.sprite.x < 0:
                                sprite_obj.sprite.x = 0
                                sprite_obj.velocity['x'] *= -restitution
                            elif sprite_obj.sprite.x > bounds['width']:
                                sprite_obj.sprite.x = bounds['width']
                                sprite_obj.velocity['x'] *= -restitution
                                
                            if sprite_obj.sprite.y < 0:
                                sprite_obj.sprite.y = 0
                                sprite_obj.velocity['y'] *= -restitution
                            elif sprite_obj.sprite.y > bounds['height']:
                                sprite_obj.sprite.y = bounds['height']
                                sprite_obj.velocity['y'] *= -restitution
                                
                        except Exception as e:
                            console.error(f"\u{274C} Simple physics error: {e}")
                            
        except Exception as e:
            console.error(f"\u{274C} Physics update error: {e}")
        
        # Run user game loop
        if current_loop and loop_running: 
            try:
                current_loop(dt)
            except Exception as e:
                console.error(f"\u{274C} Error in game loop: {e}")
                import traceback
                traceback.print_exc()
                loop_running = False

    # Start the ticker
    app.ticker.add(tick)

    # Set global references for cleanup
    window.pixiApp = app
    window._pixi_current_loop = current_loop
    
    # ===========================================
    # EXPOSE ALL FUNCTIONS TO GLOBAL SCOPE
    # ===========================================
    
    # Core creation functions
    globals()['sprite'] = sprite
    globals()['background'] = background  
    globals()['image'] = image
    globals()['rect'] = rect
    globals()['circle'] = circle
    globals()['polygon'] = polygon
    globals()['star'] = star
    globals()['text'] = text
    globals()['sound'] = sound
    
    # Math and utility functions
    globals()['distance'] = distance
    globals()['collides'] = collides
    globals()['pointInCircle'] = pointInCircle
    globals()['pointInRect'] = pointInRect
    globals()['angle_between'] = angle_between
    globals()['clamp'] = clamp
    globals()['lerp'] = lerp
    globals()['normalize_angle'] = normalize_angle
    
    # Input and game loop
    globals()['isKeyPressed'] = isKeyPressed
    globals()['game_loop'] = game_loop
    globals()['stop_game_loop'] = stop_game_loop
    
    # Physics functions
    globals()['setGravity'] = setGravity
    globals()['addPhysics'] = addPhysics
    
    # Random module
    globals()['random'] = random
    globals()['math'] = math
    
    # Success messages
    console.log("\u{1F3AE} Enhanced Game Engine Ready!")
    if Matter:
        console.log("\u{26A1} Matter.js Physics Engine Loaded!")
    else:
        console.log("\u{26A1} Enhanced Simple Physics Engine Loaded!")
    console.log("\u{2705} All functions loaded successfully!")
    console.log("\u{1F527} Auto-Initialize Dynamic Properties Enabled!")
    console.log("\u{1F680} Ready for game development!")
    
else:
    console.error("\u{274C} Container not found for game engine!")
    console.error("Make sure pixi-canvas-container element exists!")
`,tD=e=>{if(!e)return"";let t=e.split("\n").map(e=>""===e.trim()?"":`    ${e}`).join("\n");return`
${tL()}

try:
${t}
except Exception as e:
    from browser import console
    import traceback
    console.error("\u{274C} Game Error:", str(e))
    traceback.print_exc()
    console.error("\u{1F504} Please check your game code!")
`};var tP=({code:e="",visible:t=!0,onClose:n})=>{let o=(0,v.useRef)(null),r=(0,v.useRef)(null),i=(0,v.useRef)(null),s=(0,v.useRef)(null),l=(0,v.useRef)(null),[a,u]=(0,v.useState)(!1),[c,d]=(0,v.useState)(!1),[p,f]=(0,v.useState)(""),[g,m]=(0,v.useState)(!1),[_,b]=(0,v.useState)(!1),y=(0,v.useRef)(null),T=(0,v.useRef)(""),E=(0,v.useRef)("console"),C="turtle-canvas-container",I=(0,v.useRef)(new tM),S=e=>{if(!e||"string"!=typeof e)return"console";let t=e.toLowerCase().trim();return[/import\s+turtle/i,/from\s+turtle\s+import/i,/turtle\./i].some(t=>t.test(e))?"turtle":["sprite(","background(","game_loop(","iskeyPressed(","rect(","text(","image(","sound(","polygon(","star(","circle(","setGravity(","addPhysics("].some(e=>t.includes(e.toLowerCase()))?"pixi":"console"},w=async e=>new Promise(t=>{try{switch(console.log(`\u{1F527} Cleaning up ${e} mode...`),document.querySelectorAll('script[type="text/python"]').forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),e){case"pixi":if(window.pixiApp)try{window.pixiApp.destroy(!0,!0),window.pixiApp=null}catch(e){console.log("Error destroying pixi app:",e)}if(window.matterEngine)try{window.Matter&&window.Matter.Engine&&window.Matter.Engine.clear(window.matterEngine),window.matterEngine=null}catch(e){console.log("Error cleaning up Matter engine:",e)}if(window._pixi_key_handlers)try{window._pixi_key_handlers.forEach(e=>{document.removeEventListener("keydown",e.down),document.removeEventListener("keyup",e.up)}),window._pixi_key_handlers=[]}catch(e){console.log("Error removing key handlers:",e)}o.current&&(o.current.innerHTML="");break;case"turtle":if(r.current){let e=r.current.querySelector("canvas");for(e&&e.remove();r.current.firstChild;)r.current.removeChild(r.current.firstChild)}if(window.__BRYTHON__&&window.__BRYTHON__.imported&&window.__BRYTHON__.imported.turtle)try{delete window.__BRYTHON__.imported.turtle}catch(e){console.log("Error clearing turtle:",e)}break;case"console":i.current&&(i.current.innerHTML="")}s.current&&"pixi"!==e&&(s.current.innerHTML=""),m(!1),y.current=null,l.current&&(l.current.value=""),setTimeout(()=>{k(),t()},150)}catch(e){console.error("Cleanup error:",e),setTimeout(()=>{k(),t()},150)}}),k=()=>{try{window.__BRYTHON__&&(window.async_input=function(e=""){return console.log("\uD83D\uDD27 async_input called with prompt:",e),new Promise(t=>{if(e&&s.current){let t=document.createElement("div");t.textContent=e,t.style.color="#4ade80",t.style.fontWeight="bold",s.current.appendChild(t),s.current.scrollTop=s.current.scrollHeight}m(!0),y.current=t,setTimeout(()=>{l.current&&l.current.focus()},50)})},window.__BRYTHON__.builtins.async_input=window.async_input,console.log("✅ async_input setup complete"))}catch(e){console.error("❌ Error setting up async_input:",e)}};(0,v.useEffect)(()=>(I.current.setOutputRef(s),(async()=>{try{f("\uD83D\uDD04 Đang tải thư viện..."),await I.current.loadBrython(),k(),f("✅"),e&&t&&(T.current=e,await O(e))}catch(e){f("❌ Lỗi tải thư viện"),console.error("Brython loading error:",e)}})(),()=>{I.current.cleanup()}),[]),(0,v.useEffect)(()=>{I.current.initialized&&t&&e!==T.current&&!_&&(T.current=e,O(e))},[e,t,_]);let O=async e=>{if(_)return void console.log("Already executing, skipping...");b(!0);try{let t=S(e),n=E.current;console.log(`\u{1F504} Mode switch: ${n} -> ${t}`),u("pixi"===t),d("turtle"===t),console.log(`\u{1F9F9} Cleaning up ${n} mode...`),await w(n),E.current=t,e&&e.trim()&&await R(e,t)}catch(e){console.error("Execute error:",e),f("❌ Lỗi thực thi")}finally{b(!1)}},R=async(e,t)=>new Promise(n=>{try{let s=document.createElement("script");switch(s.type="text/python",t){case"pixi":x(s,e),o.current?.appendChild(s);break;case"turtle":$(s,e),r.current?.appendChild(s);break;case"console":A(s,e),i.current?.appendChild(s)}window.brython&&window.brython(),setTimeout(n,100)}catch(e){console.error(`Error executing ${t} code:`,e),n()}}),x=(e,t)=>{e.text=tD(t)+`
# Fix focus issues
from browser import document, window

def prevent_focus_steal():
    canvas = document.querySelector('#pixi-canvas-container canvas')
    if canvas:
        canvas.tabIndex = -1
        canvas.style.outline = 'none'
    
    try:
        document.body.focus()
    except:
        pass

window.setTimeout(prevent_focus_steal, 100)
`},$=(e,t)=>{let n=t,o=t.split("\n");o.length>1&&!isNaN(Number(o[0]))&&(n=o.slice(1).join("\n"));let{imports:r,cleanCode:i}=L(n=M(n=N(n))),s=i.split("\n").map(e=>`        ${e}`).join("\n"),l=""===s.trim()?"        pass":s,a=r.filter(e=>!/turtle/i.test(e)),u=a.length>0?a.join("\n")+"\n":"";e.text=`
from browser import document, window, aio
import sys
import traceback

import turtle
from turtle import *
${u}

def _write(*args):
    print(*args)
def __write(*args):
    print("L\u{1ED6}I:", *args)

sys.stdout.write = _write
sys.stderr.write = __write

# FIXED: Ensure async_input is available
if hasattr(window, 'async_input'):
    async_input = window.async_input
    print("\u{2705}")
else:
    print("\u{274C}")

try:
    if hasattr(turtle, 'restart'):
        turtle.restart()
    
    turtle.set_defaults(
        canvwidth = 600,
        canvheight = 500,
        turtle_canvas_wrapper = document['${C}']
    )
except Exception as e:
    print("L\u{1ED7}i kh\u{1EDF}i t\u{1EA1}o turtle:", e)

async def main():
    try:
${l}
        turtle.done()
    except Exception as e:
        traceback.print_exc()

aio.run(main())
`},A=(e,t)=>{let n=t,o=t.split("\n");o.length>1&&!isNaN(Number(o[0]))&&(n=o.slice(1).join("\n"));let{imports:r,cleanCode:i}=L(n=M(n=N(n))),s=i.split("\n").map(e=>"    "+e).join("\n"),l=r.length>0?r.join("\n")+"\n":"";e.text=`
from browser import document, window, aio
import sys
import traceback
${l}

def _write(*args):
    print(*args)
def __write(*args):
    print("L\u{1ED6}I:", *args)

sys.stdout.write = _write
sys.stderr.write = __write

# FIXED: Ensure async_input is available
if hasattr(window, 'async_input'):
    async_input = window.async_input
    print("\u{2705}")
else:
    print("\u{274C}")

async def main():
${s}

try:
    aio.run(main())
except Exception as e:
    traceback.print_exc()
`},N=e=>{if(!e)return"";let t=e.split("\n"),n=[],o=!1,r=!1,i=!1,s=!1;for(let e of t){let t="",l=0;for(;l<e.length;){let n=e[l],a=e.substr(l,3);if('"""'===a&&!o&&!i){s=!s,t+=a,l+=3;continue}if("'''"===a&&!r&&!s){i=!i,t+=a,l+=3;continue}if('"'===n&&!o&&!i&&!s){r=!r,t+=n,l++;continue}if("'"===n&&!r&&!i&&!s){o=!o,t+=n,l++;continue}if(!(o||r||i||s)&&l+5<=e.length&&"input"===e.substr(l,5)){let o=l+5,r=!1;for(;o<e.length&&/\s/.test(e[o]);)o++;o<e.length&&"("===e[o]&&(r=!0),r?(t+="await async_input",l+=5):(t+=n,l++)}else t+=n,l++}n.push(t)}return n.join("\n")},M=e=>{if(!e)return"";let t=e.split("\n"),n=1/0;for(let e of t){if(""===e.trim())continue;let t=e.match(/^\s*/)[0].length;t<n&&(n=t)}return n===1/0&&(n=0),t.map(e=>""===e.trim()?"":e.slice(n)).join("\n")},L=e=>{if(!e)return{imports:[],cleanCode:e};let t=e.split("\n"),n=[],o=[],r=[/^\s*(import\s+turtle|from\s+turtle\s+import.*?)$/i,/^\s*(from\s+math\s+import\s+\*|import\s+math)$/i,/^\s*(from\s+random\s+import\s+\*|import\s+random)$/i,/^\s*(from\s+time\s+import\s+\*|import\s+time)$/i,/^\s*(from\s+datetime\s+import\s+\*|import\s+datetime)$/i,/^\s*(from\s+os\s+import\s+\*|import\s+os)$/i,/^\s*(from\s+sys\s+import\s+\*|import\s+sys)$/i,/^\s*(from\s+json\s+import\s+\*|import\s+json)$/i,/^\s*(from\s+collections\s+import\s+\*|import\s+collections)$/i,/^\s*(from\s+itertools\s+import\s+\*|import\s+itertools)$/i];for(let e of t){let t=!1;for(let o of r)if(o.test(e)){n.push(e.trim()),t=!0;break}t||o.push(e)}return{imports:n,cleanCode:o.join("\n")}},D=async()=>{I.current.initialized&&(f("Đang xóa..."),await w("turtle"),f(""))},P=()=>{if(l.current&&y.current){let e=l.current.value;if(console.log("\uD83D\uDD27 Input submitted:",e),s.current){let t=document.createElement("div");t.textContent=`> ${e}`,t.style.color="#88ff88",t.style.fontWeight="bold",s.current.appendChild(t),s.current.scrollTop=s.current.scrollHeight}y.current(e),y.current=null,l.current.value="",m(!1),console.log("✅ Input resolved and UI reset")}else console.log("❌ No input resolve function available")};return(0,h.jsxs)("div",{style:{display:t?"flex":"none",position:"fixed",bottom:"20px",right:"20px",width:a?"640px":c?"600px":"47vw",height:a?"540px":c?"600px":"50vh",background:a?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":c?"white":"#000",color:a?"#fff":c?"#333":"#fff",zIndex:1e3,padding:a?"12px":"10px",borderRadius:a?"12px":"8px",flexDirection:"column",boxShadow:a?"0 8px 32px rgba(0,0,0,0.3)":"0 0 10px rgba(0,0,0,0.3)",border:a?"2px solid #fff2":"none",pointerEvents:"auto",overflow:"hidden",fontFamily:c?"inherit":"monospace"},onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:[(0,h.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:a?"12px":"5px",borderBottom:a?"2px solid #fff3":c?"none":"1px solid #333",paddingBottom:a?"8px":"5px"},children:[(0,h.jsxs)("h3",{style:{margin:0,fontSize:a?"18px":"16px",color:a?"#fff":c?"#333":"#fff",textShadow:a?"0 2px 4px rgba(0,0,0,0.3)":"none"},children:[a?"\uD83C\uDFAEGame":c?"Turtle Graphics":"\uD83D\uDC0D Python Console",_&&(0,h.jsx)("span",{style:{marginLeft:"10px",fontSize:"14px"},children:"⏳"})]}),(0,h.jsxs)("div",{children:[c&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("span",{style:{marginRight:"15px",color:"darkred",fontWeight:"bold",fontSize:"14px"},children:p}),(0,h.jsx)("button",{onClick:D,style:{padding:"4px 8px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",marginRight:"5px"},children:"clear"})]}),n&&(0,h.jsx)("button",{onClick:n,style:{padding:a?"8px 16px":"4px 8px",backgroundColor:"#555",color:"white",border:"none",borderRadius:a?"8px":"4px",cursor:"pointer",fontSize:a?"14px":"12px",fontWeight:a?"bold":"normal",boxShadow:a?"0 4px 8px rgba(0,0,0,0.2)":"none",marginLeft:c?"5px":"0"},children:a?"✕ close":"close"})]})]}),(0,h.jsx)("div",{id:"pixi-canvas-container",ref:o,style:{display:a?"block":"none",flex:1,border:"3px solid #fff5",backgroundColor:"#87CEEB",marginBottom:a?"0":"10px",borderRadius:"8px",overflow:"hidden",boxShadow:"inset 0 2px 8px rgba(0,0,0,0.1)",pointerEvents:"auto"}}),(0,h.jsx)("div",{id:C,ref:r,style:{display:c?"block":"none",border:"1px solid #ccc",flex:1,width:"100%",backgroundColor:"white",position:"relative",marginBottom:"5px"}}),(0,h.jsx)("div",{id:"brython-console",ref:i,style:{display:"none",height:0,overflow:"hidden"}}),!a&&(0,h.jsx)("div",{ref:s,style:{backgroundColor:c?"#f5f5f5":"#222",color:c?"#333":"#fff",height:c?"60px":"auto",flex:c?"none":1,padding:"5px",overflow:"auto",fontFamily:"monospace",fontSize:"12px",border:c?"1px solid #ddd":"none",borderRadius:"4px",lineHeight:"normal",whiteSpace:"pre-wrap",fontWeight:"normal"}}),g&&(0,h.jsxs)("div",{style:{display:"flex",padding:a?"8px 0":"5px 0",marginTop:a?"8px":"5px",borderTop:a?"2px solid #fff3":c?"none":"1px solid #333"},children:[(0,h.jsx)("input",{ref:l,type:"text",placeholder:a?"Nhập giá trị...":"",style:{flex:1,backgroundColor:a?"rgba(255,255,255,0.1)":c?"#fff":"#222",color:a?"#fff":c?"#333":"#fff",border:a?"2px solid #fff3":c?"1px solid #ccc":"1px solid #555",padding:a?"8px":"5px",outline:"none",borderRadius:a?"6px":"4px",fontSize:a?"14px":"12px"},onKeyPress:e=>{"Enter"===e.key&&P()},autoFocus:!0}),(0,h.jsx)("button",{onClick:P,style:{marginLeft:a?"8px":"5px",backgroundColor:a?"#4ade80":c?"#4CAF50":"#444",color:"white",border:"none",padding:a?"8px 16px":"0 10px",cursor:"pointer",borderRadius:a?"6px":"4px",fontSize:a?"14px":"12px",fontWeight:a?"bold":"normal",boxShadow:a?"0 4px 8px rgba(0,0,0,0.2)":"none"},children:a||c?"Gửi":"Submit"})]}),p&&a&&"✅"!==p&&(0,h.jsx)("div",{style:{color:p.includes("❌")?"#ff6b6b":"#4ade80",fontSize:"12px",marginTop:"6px",padding:"6px",backgroundColor:"rgba(0,0,0,0.5)",borderRadius:"6px",border:`1px solid ${p.includes("❌")?"#ff6b6b":"#4ade80"}`,fontWeight:"bold",textAlign:"center"},children:p})]})};const tB=()=>{let{pythonCodeToRun:e,showBrythonConsole:t,setShowBrythonConsole:n}=w();return(0,h.jsxs)("div",{className:"app-container",style:{height:"100vh",display:"flex",flexDirection:"column"},children:[(0,h.jsx)(tN,{}),(0,h.jsx)("div",{style:{flex:1,overflow:"hidden"},children:(0,h.jsx)(ew,{})}),(0,h.jsx)(tP,{code:e,visible:t,onClose:()=>n(!1)})]})},tF=document.getElementById("root");(0,p.createRoot)(tF).render((0,h.jsx)(()=>(0,h.jsx)(S,{children:(0,h.jsx)(tB,{})}),{}));